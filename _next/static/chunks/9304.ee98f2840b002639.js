(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9304],{11772:e=>{e.exports={container:"ProfileWithFlag_container__fXJUY",profileImage:"ProfileWithFlag_profileImage__kvu3h",gradientBorder:"ProfileWithFlag_gradientBorder__c_Y4a",flagWrapper:"ProfileWithFlag_flagWrapper__C0EJW",flagImage:"ProfileWithFlag_flagImage__mZNJt",spinner:"ProfileWithFlag_spinner__j6Bkl",spin:"ProfileWithFlag_spin__7po5D",modal:"ProfileWithFlag_modal__KzG8T"}},32278:e=>{e.exports={chattingFormFrame:"MessageInputForm_chattingFormFrame__KQv0J",chatInput:"MessageInputForm_chatInput__ay52K",chatIcon:"MessageInputForm_chatIcon__XskHJ",photoButton:"MessageInputForm_photoButton__5Fzte",placeholderIconSpace:"MessageInputForm_placeholderIconSpace__C2Km_",sendButton:"MessageInputForm_sendButton__bOLQs",previewContainer:"MessageInputForm_previewContainer__mZrS2",previewContent:"MessageInputForm_previewContent__XawSE",previewImage:"MessageInputForm_previewImage__sQDkS",closePreviewButton:"MessageInputForm_closePreviewButton__gOVp_",closeIcon:"MessageInputForm_closeIcon___IBIO",loginOverlay:"MessageInputForm_loginOverlay__8q7XO",loginOverlayContent:"MessageInputForm_loginOverlayContent__eNRT5",loginOverlayButtons:"MessageInputForm_loginOverlayButtons__H_uSi"}},32649:(e,t,s)=>{"use strict";s.d(t,{A:()=>d});var a=s(95155),n=s(12115),o=s(23464),l=s(89760),r=s(35695),i=s(50802),c=s(7926),u=s(11772),p=s.n(u);let m=e=>"string"==typeof e&&""!==e.trim()?e.startsWith("http")||e.startsWith("/assets/")?e:"/assets/".concat(e):"/assets/Annonymous.png",d=e=>{let{userId:t,nickname:s,profileImage:u,profileThumbnail:d,countryName:_,size:h,trustBadge:g}=e,{SERVER_URL:f}=(0,l.U)(),x=(0,r.useRouter)(),[j,I]=(0,n.useState)(d||u||null),[v,y]=(0,n.useState)(_||null),[C,N]=(0,n.useState)(g||!1),[b,F]=(0,n.useState)(!1),[w,k]=(0,n.useState)(null),[S,T]=(0,n.useState)(!1),[B,P]=(0,n.useState)(!1);(0,n.useEffect)(()=>{k(localStorage.getItem("userId"))},[]),(0,n.useEffect)(()=>{let e="true"===localStorage.getItem("isLoggedIn");T(e),_&&(d||u)&&void 0!==g||!t||(async()=>{try{if(F(!0),!e){F(!1);return}let s=await o.A.get("".concat(f,"/users/country?userId=").concat(t));if(200===s.status){let e=s.data;y(e.originCountry),"string"!=typeof e.profileThumbnail&&(e.profileThumbnail=""),"string"!=typeof e.profileImage&&(e.profileImage=""),I(e.profileThumbnail||e.profileImage||""),N(e.trustBadge||!1)}else console.log("Failed to fetch user details")}catch(e){console.error("Error fetching user details:",e)}finally{F(!1)}})()},[_,d,u,g,t,f]);let M=c.X.find(e=>e.name===v),O=M?M.flag:null,A=m(j);return b?(0,a.jsx)("div",{className:p().container,style:{width:h,height:h},children:(0,a.jsx)("div",{className:p().spinner})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{onClick:()=>{if(!S){P(!0);return}let e={userId:t,nickname:s,profileImage:u||null,profileThumbnail:d||null};t===w?x.push("/myProfile?".concat(new URLSearchParams(e).toString())):x.push("/profile?".concat(new URLSearchParams(e).toString()))},className:p().container,style:{width:h,height:h},children:[C?(0,a.jsx)("div",{className:p().gradientBorder,style:{width:h,height:h,borderRadius:h/2},children:(0,a.jsx)("img",{src:A,alt:"Profile",className:p().profileImage,style:{width:h-4,height:h-4,borderRadius:(h-4)/2}})}):(0,a.jsx)("img",{src:A,alt:"Profile",className:p().profileImage,style:{width:h,height:h,borderRadius:h/2}}),O&&(0,a.jsx)("div",{className:p().flagWrapper,style:{width:h/3+4,height:h/3+4,borderRadius:h/6+2},children:(0,a.jsx)("img",{src:O,alt:"Flag",className:p().flagImage,style:{width:h/3,height:h/3,borderRadius:h/6}})})]}),B&&(0,a.jsx)("div",{className:p().modal,children:(0,a.jsx)(i.A,{visible:!0,onLogin:()=>{P(!1),x.push("/signInLogIn")},onBrowse:()=>P(!1)})})]})}},50802:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var a=s(95155);s(12115);let n=e=>{let{visible:t,onLogin:s,onBrowse:n}=e;if(!t)return null;let o={backgroundColor:"transparent",padding:"12px 20px",border:"2px solid #120C3A",borderRadius:"30px",cursor:"pointer"},l={...o,borderColor:"#355C7D"},r={color:"#120C3A",fontSize:"16px",fontWeight:700,margin:0};return(0,a.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:999,display:"flex",justifyContent:"center",alignItems:"center"},children:(0,a.jsx)("div",{style:{width:"100vw",height:"100vh",background:"linear-gradient(45deg, rgba(0, 0, 0, 0.7), rgba(50, 50, 50, 0.7))",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,a.jsx)("div",{style:{width:"90%",maxWidth:"500px",borderRadius:"30px",overflow:"hidden",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},children:(0,a.jsxs)("div",{style:{backgroundColor:"rgba(255, 255, 255, 0.85)",borderRadius:"30px",padding:"30px 25px",textAlign:"center",boxShadow:"0 8px 20px rgba(0, 0, 0, 0.35)"},children:[(0,a.jsx)("h2",{style:{fontSize:"28px",fontWeight:800,color:"#120C3A",marginBottom:"15px"},children:"Welcome to Abrody"}),(0,a.jsx)("p",{style:{fontSize:"16px",color:"#333",marginBottom:"30px",lineHeight:"24px"},children:"To see announcements and recommendations, please log in."}),(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"center",gap:"16px"},children:[(0,a.jsx)("button",{style:o,onClick:s,children:(0,a.jsx)("span",{style:r,children:"Log In"})}),(0,a.jsx)("button",{style:l,onClick:n,children:(0,a.jsx)("span",{style:r,children:"Continue as Guest"})})]})]})})})})}},74914:e=>{e.exports={fullpost:"Fullpost_fullpost__RAWXY",iconWrapper:"Fullpost_iconWrapper__jQlsF",mapIcon:"Fullpost_mapIcon__vjSzy",mainLogo:"Fullpost_mainLogo__MRieQ",logoImage:"Fullpost_logoImage__HlTw9",menuIcon:"Fullpost_menuIcon__rtQ8M",scrollContainer:"Fullpost_scrollContainer__CTDOm",heroContainer:"Fullpost_heroContainer__TWV0G",heroImage:"Fullpost_heroImage__qiHfb",heroGradient:"Fullpost_heroGradient__f4Jls",backButton:"Fullpost_backButton__SLaDd",backButtonIcon:"Fullpost_backButtonIcon__PmKiX",menuButton:"Fullpost_menuButton____Sow",menuButtonIcon:"Fullpost_menuButtonIcon__EdOR5",heroTextOverlay:"Fullpost_heroTextOverlay__ENo_q",heroTitle:"Fullpost_heroTitle__LqI2K",heroCategory:"Fullpost_heroCategory__M1rd_",fullPostMainFrame:"Fullpost_fullPostMainFrame__vt_x4",recruitmentInfoContainer:"Fullpost_recruitmentInfoContainer___9XAd",recruitmentInfo:"Fullpost_recruitmentInfo__IrrGr",recruitmentText:"Fullpost_recruitmentText__2GnwQ",recruitmentCompleteText:"Fullpost_recruitmentCompleteText__x8_6D",circleContainer:"Fullpost_circleContainer__UYcWK",circle:"Fullpost_circle__wxhKc",applyButton:"Fullpost_applyButton__jFyGm",applyButtonComplete:"Fullpost_applyButtonComplete__r4n5d",applyButtonText:"Fullpost_applyButtonText__98pkZ",disabledButton:"Fullpost_disabledButton__aCYAR",loadingContainer:"Fullpost_loadingContainer__FDqqL",authorInformation:"Fullpost_authorInformation__kQDGf",friendProfileImage:"Fullpost_friendProfileImage__8w6Vv",authorText:"Fullpost_authorText__Mz7Je",author:"Fullpost_author__cN6DB",timeCategoryText:"Fullpost_timeCategoryText__9_kgz",fullPostContents:"Fullpost_fullPostContents__4iWG1",textContent:"Fullpost_textContent__CzA6w",postInformation:"Fullpost_postInformation__tTDEQ",iconInfo:"Fullpost_iconInfo__h23UF",iconText:"Fullpost_iconText__jaA93",icon:"Fullpost_icon__nKk5M",fullApplicantsProfile:"Fullpost_fullApplicantsProfile__Bjgoo",fullMapContents:"Fullpost_fullMapContents__hREfS",fullCommentsTitle:"Fullpost_fullCommentsTitle__a83Td",distanceText:"Fullpost_distanceText__vCh3n",messageInputForm:"Fullpost_messageInputForm__bHhBm",mapPreviewContainer:"Fullpost_mapPreviewContainer__5vbgz",mapImage:"Fullpost_mapImage__WtK34",mapOverlay:"Fullpost_mapOverlay__YWT6b",overlayCityCountry:"Fullpost_overlayCityCountry__Xf53D",overlayDistance:"Fullpost_overlayDistance__5IzJ4",fullPostTitle:"Fullpost_fullPostTitle__lrRoX",fullComments:"Fullpost_fullComments__gSY91",applicantsContainer:"Fullpost_applicantsContainer__POVa1",menuOverlay:"Fullpost_menuOverlay___7zJy",menuContainer:"Fullpost_menuContainer__hyohv",menuItem:"Fullpost_menuItem__u4sER",menuText:"Fullpost_menuText__2GP_J",modalOverlay:"Fullpost_modalOverlay__3V46b",fullScreenMapContainer:"Fullpost_fullScreenMapContainer__jat5k",fullScreenMap:"Fullpost_fullScreenMap__NH45Q",halfScreenMap:"Fullpost_halfScreenMap__DRy5n",mapBackButton:"Fullpost_mapBackButton__BR0oi",mapBackButtonIcon:"Fullpost_mapBackButtonIcon__QTENc",mapInfoOverlay:"Fullpost_mapInfoOverlay__HS5x9",mapInfoPlace:"Fullpost_mapInfoPlace__agmu6",mapInfoLocation:"Fullpost_mapInfoLocation__zLtch",mapInfoDistance:"Fullpost_mapInfoDistance__Ar1qp",reduceButton:"Fullpost_reduceButton__O_nta",reduceButtonText:"Fullpost_reduceButtonText__BdSrU",commentList:"Fullpost_commentList__iMerQ",iconButton:"Fullpost_iconButton__usLr1"}},89304:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>I});var a=s(95155),n=s(12115),o=s(89760),l=s(91218),r=s(23464),i=s(40054),c=s.n(i),u=s(35695),p=s(32278),m=s.n(p);let d=e=>{let{onSendMessage:t,showPhotoIcon:s=!0}=e,{t:r}=(0,l.Bd)(),{SERVER_URL:i}=(0,o.U)(),c=(0,u.useRouter)(),[p,d]=(0,n.useState)(""),[_,h]=(0,n.useState)(null),[g,f]=(0,n.useState)(!1),[x,j]=(0,n.useState)(!1),[I,v]=(0,n.useState)(!1),[y,C]=(0,n.useState)(!1),N=(0,n.useRef)(null);(0,n.useEffect)(()=>{v(!!localStorage.getItem("token"))},[]);let b=()=>{I?(p.trim()||_)&&(t({text:p.trim(),imageUri:_}),d(""),h(null),f(!1)):C(!0)},F=async()=>{N.current&&N.current.click()},w=async e=>{if(e.target.files&&e.target.files[0]){let t=e.target.files[0];h(URL.createObjectURL(t)),f(!0)}};return(0,a.jsxs)(a.Fragment,{children:[y&&(0,a.jsx)("div",{className:m().loginOverlay,children:(0,a.jsxs)("div",{className:m().loginOverlayContent,children:[(0,a.jsx)("p",{children:r("login_required")}),(0,a.jsxs)("div",{className:m().loginOverlayButtons,children:[(0,a.jsx)("button",{onClick:()=>{C(!1),c.push("/signInLogIn")},children:r("login")}),(0,a.jsx)("button",{onClick:()=>C(!1),children:r("browse")})]})]})}),g&&_&&(0,a.jsx)("div",{className:m().previewContainer,children:(0,a.jsxs)("div",{className:m().previewContent,children:[(0,a.jsx)("img",{src:_,alt:"Preview",className:m().previewImage}),(0,a.jsx)("button",{className:m().closePreviewButton,onClick:()=>h(null),children:(0,a.jsx)("img",{src:"/assets/delete-icon-big.png",alt:"Close Preview",className:m().closeIcon})})]})}),(0,a.jsxs)("div",{className:m().chattingFormFrame,children:[s?(0,a.jsx)("button",{className:m().photoButton,onClick:F,children:(0,a.jsx)("img",{src:"/assets/message-photo-icon.png",alt:"Select Photo",className:m().chatIcon})}):(0,a.jsx)("div",{className:m().placeholderIconSpace}),(0,a.jsx)("input",{className:m().chatInput,placeholder:r(I?"messageInput.placeholder":"messageInput.login_required"),value:p,onChange:e=>d(e.target.value),onKeyDown:e=>{"Enter"===e.key&&b()}}),(0,a.jsx)("button",{className:m().sendButton,onClick:b,children:(0,a.jsx)("img",{src:"/assets/message-send-icon.png",alt:"Send",className:m().chatIcon})})]}),(0,a.jsx)("input",{type:"file",accept:"image/*",ref:N,style:{display:"none"},onChange:w})]})};var _=s(60493),h=s(32649),g=s(50802),f=s(93714),x=s(74914),j=s.n(x);let I=()=>{let{SERVER_URL:e}=(0,o.U)(),{t}=(0,l.Bd)(),s=(0,u.useRouter)(),i=(0,u.useSearchParams)(),p=(0,n.useMemo)(()=>Object.fromEntries(i.entries()),[i]),{id:m="",author:x="Anonymous",time:I="",meetingTime:v="",category:y="",title:C="",content:N="",likes:b="0",comments:F="0",visitors:w="0",recruitmentCount:k="0",applicantsCount:S="0",profileImage:T="",profileThumbnail:B="",image:P="",thumbnail:M="",nicknameOption:O="",meetingPlace:A="",meetingCity:R="",meetingCountry:E="",mapboxImage:L="",isBuddyPost:W="false",applicants:D="0"}=p;if(!m)return(0,a.jsx)("div",{children:"Loading..."});let U=Number(b),z=Number(F),J=Number(w),q=Number(k),H=Number(S),G=D?Number(D):H,[K,Q]=(0,n.useState)(null),[X,Y]=(0,n.useState)(G),[V,Z]=(0,n.useState)(!1),[$,ee]=(0,n.useState)(!1),[et,es]=(0,n.useState)(""),[ea,en]=(0,n.useState)(""),[eo,el]=(0,n.useState)(""),[er,ei]=(0,n.useState)([]),[ec,eu]=(0,n.useState)(!1),[ep,em]=(0,n.useState)(!1),[ed,e_]=(0,n.useState)(""),[eh,eg]=(0,n.useState)(!1),[ef,ex]=(0,n.useState)(U),[ej,eI]=(0,n.useState)(J),[ev,ey]=(0,n.useState)(z),[eC,eN]=(0,n.useState)(!1),[eb,eF]=(0,n.useState)(!1),[ew,ek]=(0,n.useState)(x),[eS,eT]=(0,n.useState)(O),[eB,eP]=(0,n.useState)(T),[eM,eO]=(0,n.useState)(B),[eA,eR]=(0,n.useState)(P),[eE,eL]=(0,n.useState)(M),[eW,eD]=(0,n.useState)([]),[eU,ez]=(0,n.useState)(!1),eJ="true"===W,eq=eJ?"".concat(e,"/buddy-post"):"".concat(e,"/posts"),[eH,eG]=(0,n.useState)(!1),[eK,eQ]=(0,n.useState)(null),[eX,eY]=(0,n.useState)(null),[eV,eZ]=(0,n.useState)(null),[e$,e0]=(0,n.useState)(null),[e1,e2]=(0,n.useState)(!1),[e5,e3]=(0,n.useState)(!1),[e4,e9]=(0,n.useState)(eE||""),[e6,e8]=(0,n.useState)(!1),[e7,te]=(0,n.useState)(!1),[tt,ts]=(0,n.useState)(!1),[ta,tn]=(0,n.useState)(0),to="true"===localStorage.getItem("isLoggedIn");(0,n.useEffect)(()=>{{let e=new URLSearchParams(window.location.search).get("ref");e&&Q(e)}},[]);let tl=()=>{let t="".concat(e,"/posts/").concat(m,"?ref=").concat(et),s="".concat(window.location.origin,"/post/").concat(m,"?ref=").concat(et);return console.log("web link:",t),console.log("app link:",s),{postLink:t,appLink:s}},tr=async()=>{let{postLink:e}=tl();try{await navigator.clipboard.writeText(e),window.alert("Link copied! Share with your friends."),navigator.share&&await navigator.share({url:e})}catch(e){console.error("Error sharing post:",e)}};(0,n.useEffect)(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(e=>{eZ(e.coords.latitude),e0(e.coords.longitude)},e=>{console.error("Error fetching current location:",e)},{enableHighAccuracy:!0,timeout:2e4})},[]);let ti=()=>{let e;if(null===eK||null===eX||null===eV||null===e$)return"";let t=eV*Math.PI/180,s=eK*Math.PI/180,a=Math.sin((eK-eV)*Math.PI/180/2)**2+Math.cos(t)*Math.cos(s)*Math.sin((eX-e$)*Math.PI/180/2)**2,n=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))*6371e3,o=navigator.language;if(!o.includes("en-US")&&!o.includes("en-GB"))return(e=n/1e3)>=10?"".concat(Math.round(e),"km"):e>=1?"".concat(e.toFixed(1),"km"):"".concat(Math.round(n),"m");if((e=n/1609.34)>=6.214)return"".concat(Math.round(e),"mi");if(e>=.6214)return"".concat(e.toFixed(1),"mi");{let t=1609.34*e;return"".concat(Math.round(t),"m")}};(0,n.useEffect)(()=>{(async()=>{if(to)try{let{data:t,status:s}=await r.A.get("".concat(e,"/users/me"),{headers:{"Content-Type":"application/json"}});s>=200&&s<300&&(es(t.userId),t&&t.userId&&D&&Z(String(D).includes(t.userId)))}catch(e){console.error("Error fetching user data:",e)}})()},[D,e]),(0,n.useEffect)(()=>{(async()=>{if(to&&D)try{let t=String(D).split(","),{data:s,status:a}=await r.A.post("".concat(e,"/users/profiles"),{userIds:t},{headers:{"Content-Type":"application/json"}});a>=200&&a<300?eD(s.users):console.error("Failed to fetch applicants profiles:",a)}catch(e){console.error("Error fetching applicants profiles:",e)}})()},[D,e]);let tc=async()=>{if(!m){console.error("Error: Missing post ID. Cannot fetch post data."),window.alert(t("error")+": Missing post ID");return}try{let{data:e,status:t}=await r.A.get("".concat(eq,"/").concat(m),{headers:{"Content-Type":"application/json"}});ei(e.commentList),ex(e.likes),eI(e.visitors),ey(e.comments),eg(e.likedByUser),ek(e.author),en(e.userId),eT(e.nicknameOption),eP(e.profileImage),eO(e.profileThumbnail),ez(e.isRecruitmentComplete),eR(e.image),e.meetingLatitude&&eQ(e.meetingLatitude),e.meetingLongitude&&eY(e.meetingLongitude)}catch(e){console.error("Error fetching post data:",e.message),window.alert(t("error")+": "+t("fetch_post_error"))}},tu=async()=>{if(to)try{let{data:e,status:t}=await r.A.post("".concat(eq,"/").concat(m,"/visit"),null,{headers:{"Content-Type":"application/json"}});if(t>=200&&t<300)eI(e.visitors);else throw Error("Failed to update visitors")}catch(e){console.error("Error updating visitors:",e)}};(0,n.useEffect)(()=>{p&&p.id&&(tc(),tu())},[p]);let tp=async()=>{if(to&&!$){ee(!0),Z(!V),Y(V?X-1:X+1),V?eD(eW.filter(e=>e.userId!==et)):eD([...eW,{userId:et,profileImage:eB,profileThumbnail:eM}]);try{let e=await (0,r.A)({url:"".concat(eq,"/").concat(m,"/").concat(V?"removeApplicant":"addApplicant"),method:V?"DELETE":"POST",headers:{"Content-Type":"application/json"},data:{userId:et}});if(e.status>=200&&e.status<300)Y(e.data.applicantsCount),Z(!V),tc();else throw Error("Application update failed")}catch(e){Z(!V),Y(V?X+1:X-1),eD(V?[...eW,{userId:et,profileImage:eB,profileThumbnail:eM}]:eW.filter(e=>e.userId!==et)),console.error("Error ".concat(V?"removing":"adding"," applicant:"),e),window.alert(t("error")+": "+t("application_error"))}finally{ee(!1)}}},tm="AI"===eS?q>0?X/q:0:(X+1)/(q+1);(0,n.useCallback)(()=>{eF(!0),tc().finally(()=>eF(!1))},[]);let td=async()=>{if(!e7){ts(!0);return}if(to)try{let{data:e,status:t}=await r.A.post("".concat(eq,"/").concat(m,"/like"),null,{headers:{"Content-Type":"application/json"}});if(t>=200&&t<300)ex(e.likes),eg(!eh),tc();else throw Error("Failed to update likes")}catch(e){console.error("Error liking post:",e)}},t_=async s=>{if(s.trim()&&to)try{let{data:a,status:n}=await r.A.get("".concat(e,"/users/me"),{headers:{"Content-Type":"application/json"}});if(n<200||n>=300)throw Error("Error fetching user information.");let o={author:a.nickname,userId:a.userId,time:new Date().toISOString(),content:s,profileImage:a.profileImage,profileThumbnail:a.profileThumbnail},{status:l}=await r.A.post("".concat(eq,"/").concat(m,"/comment"),o,{headers:{"Content-Type":"application/json"}});l>=200&&l<300?(ei([...er,o]),el(""),ey(ev+1),eN(!0),tc()):window.alert(t("error")+": "+t("add_comment_error"))}catch(e){console.error("Error adding comment:",e),window.alert(t("error")+": "+t("add_comment_error"))}},th=async()=>{try{if(!to)return;let{status:e}=await r.A.delete("".concat(eq,"/").concat(m,"/delete"),{headers:{"Content-Type":"application/json"}});e>=200&&e<300?(window.alert(t("delete_success")+": "+t("delete_success_message")),s.back()):window.alert(t("error")+": "+t("delete_error"))}catch(e){console.error("Error deleting post:",e.message)}},tg=()=>{eu(!ec)},tf=(e,t)=>(0,a.jsx)(_.A,{content:e.content,isMine:e.userId===et,timestamp:e.time,profileImage:e.profileImage,profileThumbnail:e.profileThumbnail,userId:e.userId},t),tx=async()=>{if(!ed.trim()){window.alert(t("error")+": "+t("report_reason_required"));return}try{if(!to)return;let s={reason:ed,...m&&{postId:m},...ea&&{targetUserId:ea}},{status:a}=await r.A.post("".concat(e,"/report/post"),s,{headers:{"Content-Type":"application/json"}});a>=200&&a<300?(window.alert(t("report_success")+": "+t("report_success_message")),em(!1),e_(""),tc()):window.alert(t("error")+": "+t("report_error"))}catch(e){console.error("Error reporting post:",e.message),window.alert(t("error")+": "+t("report_error"))}},tj=async()=>{let e={postId:m,author:ew,userId:ea,time:I,meetingTime:v,meetingPlace:A,meetingCity:R,meetingCountry:E,category:y,title:C,content:N,likes:ef,comments:ev,visitors:ej,profileImage:eB,profileThumbnail:eM,image:eA,mapboxImage:L,recruitmentCount:q,applicantsCount:X,applicants:X,visitedUsers:eW.map(e=>e.userId),likedUsers:eh?[et]:[],commentList:er,nicknameOption:eS,isBuddyPost:eJ};try{let s=localStorage.getItem("bookmarkedPosts"),a=s?JSON.parse(s):[],n=[e,...a];localStorage.setItem("bookmarkedPosts",JSON.stringify(n)),tc(),window.alert(t("bookmark_success")+": "+t("bookmark_success_message"))}catch(e){console.error("Failed to bookmark the post",e.message),window.alert(t("error")+": "+t("bookmark_error"))}},tI=()=>{e2(!e1)},tv=async()=>{try{let{data:e,status:s}=await r.A.post("".concat(eq,"/").concat(m,"/completeRecruitment"),null,{headers:{"Content-Type":"application/json"}});s>=200&&s<300?(window.alert(t("recruitment_complete")+": "+t("recruitment_complete_message")),ez(!0),tc()):window.alert(t("error")+": "+t("recruitment_error"))}catch(e){console.error("Error marking recruitment as complete:",e)}},ty=(0,n.useCallback)(c().debounce(()=>{tp()},1e3,{leading:!0,trailing:!1}),[]),tC=(0,n.useCallback)(c().debounce(()=>{tv()},1e3,{leading:!0,trailing:!1}),[]);return(0,a.jsx)(n.Suspense,{fallback:(0,a.jsx)("div",{children:"Loading..."}),children:Object.keys(p).length>0?(0,a.jsxs)("div",{className:j().fullpost,children:[(0,a.jsx)("div",{className:j().scrollContainer,onScroll:e=>{tn(e.currentTarget.scrollTop)},children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:j().heroContainer,children:[(0,a.jsx)("img",{src:e4||"/assets/leire-cavia-S93RK176PuA-unsplash.jpg",className:j().heroImage,alt:"Hero",onLoad:()=>{e3(!0),e9(eA||"")},onError:e=>console.error("Failed to load image:",e)}),(0,a.jsx)("div",{className:j().heroGradient}),(0,a.jsx)("button",{className:j().backButton,onClick:()=>s.back(),children:(0,a.jsx)("img",{src:"/assets/back-light.png",className:j().backButtonIcon,alt:"Back"})}),(0,a.jsx)("button",{className:j().menuButton,onClick:tg,children:(0,a.jsx)("img",{src:"/assets/menu-light.png",className:j().menuButtonIcon,alt:"Menu"})}),(0,a.jsxs)("div",{className:j().heroTextOverlay,children:[(0,a.jsx)("button",{onClick:()=>e8(!e6),style:{background:"transparent",border:"none",padding:0,margin:0,cursor:"pointer"},children:(0,a.jsx)("h1",{className:j().heroTitle,style:{display:"-webkit-box",WebkitLineClamp:e6?"none":2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:C})}),(0,a.jsx)("p",{className:j().heroCategory,children:t("topics.".concat(y))})]})]}),(0,a.jsxs)("div",{className:j().fullPostMainFrame,children:[(0,a.jsx)("div",{className:j().recruitmentInfoContainer,children:(0,a.jsxs)("div",{className:j().recruitmentInfo,children:[(0,a.jsx)("p",{className:j().recruitmentText,children:"AI"===eS?"".concat(X," out of ").concat(q," applied"):"".concat(X+1," out of ").concat(q+1," applied")}),eU||X>=q?(0,a.jsx)("p",{className:j().recruitmentCompleteText,children:t("recruitment_status_complete")}):(0,a.jsx)("div",{className:j().circleContainer,children:(0,a.jsx)("div",{className:j().circle,children:(0,a.jsxs)("span",{children:[Math.round(100*tm),"%"]})})})]})}),eU?(0,a.jsx)("button",{className:j().applyButtonComplete,disabled:!0,children:t("recruitment_status_complete")}):et===ea?(0,a.jsx)("button",{className:j().applyButton,onClick:tC,children:t("complete_recruitment")}):(0,a.jsx)("button",{className:"".concat(j().applyButton," ").concat(V||X>=q?j().disabledButton:""),onClick:ty,disabled:$||X>=q,children:$?t("processing"):V?t("cancel_application"):X>=q?t("recruitment_status_complete"):t("apply")})]}),(0,a.jsxs)("div",{className:j().fullPostMainFrame,children:[(0,a.jsxs)("div",{className:j().authorInformation,children:["AI"===eS?(0,a.jsx)("img",{className:j().friendProfileImage,src:"/assets/AI.png",alt:"AI"}):(0,a.jsx)(h.A,{userId:ea,profileImage:eB,profileThumbnail:eM,size:48}),(0,a.jsxs)("div",{className:j().author,children:[(0,a.jsx)("p",{className:j().authorText,children:ew}),(0,a.jsxs)("p",{className:j().timeCategoryText,children:[t("time"),": ",I," \xb7 ",t("topics.".concat(y))]})]})]}),(0,a.jsx)("div",{className:j().fullPostContents,children:(0,a.jsx)("p",{className:j().textContent,children:N})}),(0,a.jsxs)("div",{className:j().postInformation,children:[(0,a.jsxs)("div",{className:j().iconInfo,children:[(0,a.jsx)("img",{src:"/assets/eye-colored.png",className:j().icon,alt:"Views"}),(0,a.jsx)("p",{className:j().iconText,children:ej})]}),(0,a.jsx)("button",{onClick:td,className:j().iconButton,children:(0,a.jsxs)("div",{className:j().iconInfo,children:[(0,a.jsx)("img",{src:eh?"/assets/like-colored.png":"/assets/like-icon.png",className:j().icon,alt:"Like"}),(0,a.jsx)("p",{className:j().iconText,children:ef})]})}),(0,a.jsxs)("div",{className:j().iconInfo,children:[(0,a.jsx)("img",{src:eC?"/assets/comment-colored.png":"/assets/comment-icon.png",className:j().icon,alt:"Comment"}),(0,a.jsx)("p",{className:j().iconText,children:ev})]})]})]}),(0,a.jsxs)("div",{className:j().fullApplicantsProfile,children:[(0,a.jsx)("div",{className:j().fullApplicants,children:(0,a.jsxs)("div",{className:j().fullMapContents,children:[(0,a.jsx)("img",{src:"/assets/participants-title-icon.png",className:j().mapIcon,alt:"Applicants"}),(0,a.jsxs)("p",{className:j().fullCommentsTitle,children:[t("applicants_profile")," ",eW.length]})]})}),eW.length>0&&(0,a.jsx)("div",{className:j().applicantsContainer,children:eW.map((e,t)=>(0,a.jsx)(h.A,{userId:e.userId,nickname:e.nickname,profileImage:e.profileImage,profileThumbnail:e.profileThumbnail,size:50},t))})]}),(0,a.jsxs)("div",{className:j().fullPostMainFrame,children:[(0,a.jsxs)("div",{className:j().fullMapContents,children:[(0,a.jsx)("img",{src:"/assets/map-colored.png",className:j().mapIcon,alt:"Map"}),(0,a.jsx)("p",{className:j().fullPostTitle,children:A})]}),(eK||eX)&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:j().fullPostContents,children:(0,a.jsxs)("p",{className:j().fullPostTitle,children:[R,", ",E]})}),(0,a.jsx)("div",{className:j().halfScreenMap,children:(0,a.jsx)("iframe",{title:"Full Screen Map",src:"https://www.google.com/maps?q=".concat(eK,",").concat(eX,"&z=15&output=embed"),width:"100%",height:"100%",style:{border:0}})}),(0,a.jsx)("div",{className:j().fullPostContents,children:(0,a.jsxs)("p",{className:j().distanceText,children:[t("distance"),": ",ti()]})})]}),(0,a.jsx)("div",{className:j().fullPostContents,children:(0,a.jsxs)("p",{className:j().fullPostTitle,children:[R,", ",E]})}),(0,a.jsx)("div",{className:j().fullPostContents,children:(0,a.jsxs)("p",{className:j().distanceText,children:[t("distance"),": ",ti()]})})]}),e1&&(0,a.jsxs)("div",{className:j().fullScreenMapContainer,children:[(0,a.jsx)("div",{className:j().fullScreenMap,children:(0,a.jsx)("iframe",{title:"Full Screen Map",src:"https://www.google.com/maps?q=".concat(eK,",").concat(eX,"&z=15&output=embed"),width:"100%",height:"100%",style:{border:0}})}),(0,a.jsx)("button",{className:j().mapBackButton,onClick:tI,children:(0,a.jsx)("img",{src:"/assets/back-light.png",className:j().mapBackButtonIcon,alt:"Back"})}),(0,a.jsxs)("div",{className:j().mapInfoOverlay,children:[eA&&(0,a.jsx)("img",{src:eA,className:j().mapPostImage,alt:"Post"}),(0,a.jsx)("p",{className:j().mapInfoPlace,children:A}),(0,a.jsxs)("p",{className:j().mapInfoLocation,children:[R,", ",E]}),(0,a.jsxs)("p",{className:j().mapInfoDistance,children:[t("distance"),": ",ti()]})]}),(0,a.jsx)("button",{className:j().reduceButton,onClick:tI,children:(0,a.jsx)("p",{className:j().reduceButtonText,children:t("reduce")})})]}),(0,a.jsxs)("div",{className:j().fullComments,children:[(0,a.jsxs)("div",{className:j().fullMapContents,children:[(0,a.jsx)("img",{src:"/assets/comment-title-icon.png",className:j().mapIcon,alt:"Comments"}),(0,a.jsxs)("p",{className:j().fullCommentsTitle,children:[t("comments")," ",ev]})]}),ev>0&&(0,a.jsx)("div",{className:j().commentList,children:er.map((e,t)=>tf(e,t))})]})]})}),(0,a.jsx)("div",{className:j().messageInputForm,children:(0,a.jsx)(d,{onSendMessage:e=>{t_(e.text)},showPhotoIcon:!1})}),(0,a.jsx)(f.A,{visible:ep,onClose:()=>em(!1),onSubmit:tx,postId:m,targetUserId:ea}),ec&&(0,a.jsx)("div",{className:j().menuOverlay,onClick:tg,children:(0,a.jsxs)("div",{className:j().menuContainer,onClick:e=>e.stopPropagation(),children:[(0,a.jsx)("button",{className:j().menuItem,onClick:tg,children:(0,a.jsx)("img",{src:"/assets/delete-icon-big.png",className:j().menuIcon,alt:"Close"})}),et===ea&&(0,a.jsx)("button",{className:j().menuItem,onClick:th,children:(0,a.jsx)("span",{className:j().menuText,children:t("delete")})}),et!==ea&&(0,a.jsx)("button",{className:j().menuItem,onClick:()=>{eu(!1),em(!ep)},children:(0,a.jsx)("span",{className:j().menuText,children:t("report")})}),(0,a.jsx)("button",{className:j().menuItem,onClick:tr,children:(0,a.jsx)("span",{className:j().menuText,children:t("share")})}),(0,a.jsx)("button",{className:j().menuItem,onClick:tj,children:(0,a.jsx)("span",{className:j().menuText,children:t("bookmark")})})]})}),tt&&(0,a.jsx)("div",{className:j().modalOverlay,children:(0,a.jsx)(g.A,{visible:!0,onLogin:()=>{ts(!1),s.push("/signin")},onBrowse:()=>{ts(!1)}})})]}):(0,a.jsx)("div",{children:"Loading..."})})}},89953:e=>{e.exports={modalOverlay:"ReportOverlay_modalOverlay__M8vP_",modalContainer:"ReportOverlay_modalContainer__pWJHe",modalHeader:"ReportOverlay_modalHeader__yl8pw",infoContainer:"ReportOverlay_infoContainer__IJi59",infoLabel:"ReportOverlay_infoLabel__vRJyv",infoText:"ReportOverlay_infoText__5kMti",modalInput:"ReportOverlay_modalInput__h5dhH",modalButtonContainer:"ReportOverlay_modalButtonContainer__B47tu",primaryButton:"ReportOverlay_primaryButton__12taJ",cancelButton:"ReportOverlay_cancelButton__6n_XM",buttonText:"ReportOverlay_buttonText__73ko4"}},93714:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var a=s(95155),n=s(12115),o=s(91218),l=s(89953),r=s.n(l);let i=e=>{let{visible:t,onClose:s,onSubmit:l,postId:i,targetUserId:c}=e,{t:u}=(0,o.Bd)(),[p,m]=(0,n.useState)(""),d=e=>e.length<=4?e:e.slice(0,e.length-4)+"****";return t?(0,a.jsx)("div",{className:r().modalOverlay,onClick:s,children:(0,a.jsxs)("div",{className:r().modalContainer,onClick:e=>e.stopPropagation(),children:[(0,a.jsx)("h2",{className:r().modalHeader,children:u("report_reason","Report Reason")}),i&&(0,a.jsxs)("div",{className:r().infoContainer,children:[(0,a.jsxs)("span",{className:r().infoLabel,children:[u("post_id","Post ID"),": "]}),(0,a.jsx)("span",{className:r().infoText,children:d(i)})]}),c&&(0,a.jsxs)("div",{className:r().infoContainer,children:[(0,a.jsxs)("span",{className:r().infoLabel,children:[u("target_user_id","Reported User ID"),": "]}),(0,a.jsx)("span",{className:r().infoText,children:d(c)})]}),(0,a.jsx)("textarea",{className:r().modalInput,placeholder:u("enter_report_reason","Type your report reason here..."),value:p,onChange:e=>m(e.target.value),rows:4}),(0,a.jsxs)("div",{className:r().modalButtonContainer,children:[(0,a.jsx)("button",{className:r().primaryButton,onClick:()=>{if(!p.trim()){window.alert(u("error")+": "+u("report_reason_required"));return}l(p),m("")},children:(0,a.jsx)("span",{className:r().buttonText,children:u("submit","Submit")})}),(0,a.jsx)("button",{className:r().cancelButton,onClick:s,children:(0,a.jsx)("span",{className:r().buttonText,children:u("cancel","Cancel")})})]})]})}):null}}}]);