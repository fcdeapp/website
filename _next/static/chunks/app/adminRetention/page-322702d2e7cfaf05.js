(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4236],{16729:(e,t,n)=>{Promise.resolve().then(n.bind(n,61094))},36786:e=>{e.exports={container:"AdminRetention_container__izTnq",header:"AdminRetention_header__OEWW_",grid:"AdminRetention_grid__yv8qI",card:"AdminRetention_card__0rxWe",loader:"AdminRetention_loader__HjnPY",spin:"AdminRetention_spin__zsbnZ"}},61094:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var a=n(95155),r=n(12115),i=n(23464),s=n(64065),l=n(32502),o=n(89760),E=n(36786),_=n.n(E);function c(){let{SERVER_URL:e}=(0,o.U)(),[t,n]=(0,r.useState)([]),[l,E]=(0,r.useState)(!0);if((0,r.useEffect)(()=>{i.A.get("".concat(e,"/api/admin/stats/retention"),{withCredentials:!0}).then(e=>n(e.data.retentionData)).catch(console.error).finally(()=>E(!1))},[e]),l)return(0,a.jsx)("div",{className:_().loader,children:"Loading retention dataâ€¦"});if(!t.length)return(0,a.jsx)("div",{className:_().loader,children:"No retention data available"});let c=t.map(e=>new Date(e.date).toISOString().split("T")[0]).slice().reverse(),d=t.map(e=>100*e.retentionRateD7).slice().reverse(),u=t.map(e=>100*e.retentionRateD30).slice().reverse();return(0,a.jsxs)("div",{className:_().container,children:[(0,a.jsx)("h1",{className:_().header,children:"Retention Analysis"}),(0,a.jsxs)("div",{className:_().card,children:[(0,a.jsx)("h3",{children:"Overall (D7 vs. D30)"}),(0,a.jsx)(s.N1,{data:{labels:c,datasets:[{label:"D7 Retention (%)",data:d,borderColor:"#6C63FF",tension:.3,fill:!1},{label:"D30 Retention (%)",data:u,borderColor:"#FF6B6B",tension:.3,fill:!1}]},options:{maintainAspectRatio:!1}})]}),(0,a.jsx)("section",{className:_().grid,children:t[0].byRegion.map((e,n)=>{let r=t.map(e=>{var t;return(null===(t=e.byRegion[n])||void 0===t?void 0:t.retentionRateD7)!=null?100*e.byRegion[n].retentionRateD7:0}).slice().reverse(),i=t.map(e=>{var t;return(null===(t=e.byRegion[n])||void 0===t?void 0:t.retentionRateD30)!=null?100*e.byRegion[n].retentionRateD30:0}).slice().reverse();return(0,a.jsxs)("div",{className:_().card,children:[(0,a.jsx)("h3",{children:e.region}),(0,a.jsx)(s.N1,{data:{labels:c,datasets:[{label:"D7 (%)",data:r,borderColor:"#6C63FF",tension:.3,fill:!1},{label:"D30 (%)",data:i,borderColor:"#FF6B6B",tension:.3,fill:!1}]},options:{maintainAspectRatio:!1}})]},e.region)})})]})}l.t1.register(l.PP,l.kc,l.FN,l.No,l.hE,l.m_,l.s$)},89760:(e,t,n)=>{"use strict";n.d(t,{s:()=>d,U:()=>u});var a=n(95155),r=n(12115),i=n(49509);function s(e){switch(e.trim().toUpperCase()){case"BETA":return"https://beta.fcde.app";case"DEVELOPMENT":return"https://dev.fcde.app";case"CA":case"CANADA":return"https://ca.fcde.app";case"AU":case"AUSTRALIA":return"https://au.fcde.app";case"GB":case"UK":return"https://uk.fcde.app";case"KR":case"KOREA":return"https://kr.fcde.app";default:return"https://fcde.app"}}function l(){return"https://fcde.app"}async function o(e){try{return(await fetch("".concat(e,"/health"),{method:"GET"})).ok}catch(e){return!1}}async function E(){let e=null;try{let t=localStorage.getItem("selectedServer");t&&(e=t)}catch(e){}for(let t of(!e&&i.env.NEXT_PUBLIC_FORCED_DEFAULT_SERVER&&(e=i.env.NEXT_PUBLIC_FORCED_DEFAULT_SERVER),e||(e=function(){try{let e=localStorage.getItem("region");if(e)return e}catch(e){}if("undefined"!=typeof navigator&&navigator.language){let e=navigator.language.split("-");if(e.length>1)return e[1]}return"KR"}()),[e,"Beta","Development"])){let e=s(t);if(await o(e))return e}return s(e)}let _={SERVER_URL:l(),APP_VERSION:i.env.NEXT_PUBLIC_APP_VERSION||"",FACEBOOK_INTERSTITIAL_PLACEMENT_ID:i.env.NEXT_PUBLIC_FACEBOOK_INTERSTITIAL_PLACEMENT_ID||"",FACEBOOK_BANNER_PLACEMENT_ID:i.env.NEXT_PUBLIC_FACEBOOK_BANNER_PLACEMENT_ID||"",FEATURE_UNDER_DEV:"true"===(i.env.NEXT_PUBLIC_FEATURE_UNDER_DEV||"true").toLowerCase(),TEST_AD_MODE:"true"===(i.env.NEXT_PUBLIC_TEST_AD_MODE||"false").toLowerCase()},c=(0,r.createContext)(null),d=e=>{let{children:t}=e,[n,i]=(0,r.useState)(l());(0,r.useEffect)(()=>{let e=!0;return(async()=>{try{let t=await E();e&&i(t)}catch(e){}})(),()=>{e=!1}},[]);let s={SERVER_URL:n,APP_VERSION:_.APP_VERSION,FACEBOOK_INTERSTITIAL_PLACEMENT_ID:_.FACEBOOK_INTERSTITIAL_PLACEMENT_ID,FACEBOOK_BANNER_PLACEMENT_ID:_.FACEBOOK_BANNER_PLACEMENT_ID,FEATURE_UNDER_DEV:_.FEATURE_UNDER_DEV,TEST_AD_MODE:_.TEST_AD_MODE};return(0,a.jsx)(c.Provider,{value:s,children:t})},u=()=>{let e=(0,r.useContext)(c);if(!e)throw Error("useConfig must be used within a ConfigProvider");return e}}},e=>{var t=t=>e(e.s=t);e.O(0,[2089,5647,3464,6693,8441,1684,7358],()=>t(16729)),_N_E=e.O()}]);