(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[624],{246:e=>{e.exports={container:"BuddyProfileWithFlag_container__A1ueJ",profileImage:"BuddyProfileWithFlag_profileImage__prUCO",flagWrapper:"BuddyProfileWithFlag_flagWrapper__UMv1Y",flagImage:"BuddyProfileWithFlag_flagImage__yXy_D"}},1300:e=>{e.exports={buddySearchItem:"BuddySearchItem_buddySearchItem__r4hP9",buddyInfoContainer:"BuddySearchItem_buddyInfoContainer__Q1Iiq",buddyInfoTextContainer:"BuddySearchItem_buddyInfoTextContainer__bEH_z",buddyGroupName:"BuddySearchItem_buddyGroupName___2IDU",buddyGroupDescription:"BuddySearchItem_buddyGroupDescription__7VMdk",memberCountText:"BuddySearchItem_memberCountText__sTZ82",memberListContainer:"BuddySearchItem_memberListContainer__D4RfG",memberProfileContainer:"BuddySearchItem_memberProfileContainer__4hvBg",memberNickname:"BuddySearchItem_memberNickname__wMNtw",joinRequestButton:"BuddySearchItem_joinRequestButton__Po_y5",buddyPageButton:"BuddySearchItem_buddyPageButton__rnn6a",removeBuddyButton:"BuddySearchItem_removeBuddyButton__iswtc"}},1990:(e,a,t)=>{Promise.resolve().then(t.bind(t,3620))},3582:e=>{e.exports={footer:"WebFooter_footer__2WnVU",footerContainer:"WebFooter_footerContainer__YBtb1",footerSection:"WebFooter_footerSection__nWzpG",footerTitle:"WebFooter_footerTitle__JXcRN",footerText:"WebFooter_footerText__A_iHN",footerLinks:"WebFooter_footerLinks__3TS2Z",socialIcons:"WebFooter_socialIcons__dEzrQ",footerBottom:"WebFooter_footerBottom__SM7KX"}},3620:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>P});var r=t(5155),n=t(2115),s=t(5695),o=t(9406),i=t.n(o),c=t(3464),l=t(1218),d=t(1065),u=t(1557),g=t(2649),h=t(7714),m=t.n(h),f=t(3625);let _={en:"/assets/flags/uk-flag.png",es:"/assets/flags/spain-flag.png",zh:"/assets/flags/china-flag.png",hi:"/assets/flags/india-flag.png",fr:"/assets/flags/france-flag.png",ko:"/assets/flags/south-korea-flag.png",ja:"/assets/flags/japan-flag.png",de:"/assets/flags/germany-flag.png",ar:"/assets/flags/saudi-arabia-flag.png",pt:"/assets/flags/portugal-flag.png",ru:"/assets/flags/russia-flag.png",it:"/assets/flags/italy-flag.png",tr:"/assets/flags/turkey-flag.png",nl:"/assets/flags/netherlands-flag.png",pl:"/assets/flags/poland-flag.png",th:"/assets/flags/thailand-flag.png",vi:"/assets/flags/vietnam-flag.png",ms:"/assets/flags/malaysia-flag.png",sv:"/assets/flags/sweden-flag.png",no:"/assets/flags/norway-flag.png",fi:"/assets/flags/finland-flag.png",el:"/assets/flags/greece-flag.png",hu:"/assets/flags/hungary-flag.png",cs:"/assets/flags/czech-republic-flag.png",ro:"/assets/flags/romania-flag.png",da:"/assets/flags/denmark-flag.png",he:"/assets/flags/israel-flag.png",id:"/assets/flags/indonesia-flag.png",uk:"/assets/flags/ukraine-flag.png",fa:"/assets/flags/iran-flag.png",bn:"/assets/flags/bangladesh-flag.png"},p="/assets/buddyDefault.png",y=e=>{let{friend:a,userId:t,isFriend:o,hasSentRequest:i,hasReceivedRequest:u,buddyGroupId:h}=e,{SERVER_URL:y}=(0,d.U)(),{t:b}=(0,l.Bd)(),x=(0,s.useRouter)(),[S,j]=(0,n.useState)(!1),[I,v]=(0,n.useState)(!1),[k,C]=(0,n.useState)(!1),[N,B]=(0,n.useState)({}),[P,w]=(0,n.useState)(!1),[T,R]=(0,n.useState)(a.isDeactivated||!1),F=async()=>{let e=localStorage.getItem("token");return{Authorization:"Bearer ".concat(e)}},E=async e=>{try{let a=await F(),t=await c.A.get("".concat(y,"/users/members/").concat(e),{headers:a});t.data&&B(t.data)}catch(e){console.error("Error fetching member details:",e)}},q=async()=>{try{let e=localStorage.getItem("token"),t=await c.A.post("".concat(y,"/chats/one-on-one"),{friendId:a.userId},{headers:{Authorization:"Bearer ".concat(e)}});t.data&&t.data.chatRoomId?x.push("/chat?chatRoomId=".concat(t.data.chatRoomId,"&otherUserId=").concat(a.userId,"&nickname=").concat(a.nickname)):alert("Failed to retrieve or create a chat room.")}catch(e){console.error("Error handling chat:",e),alert("An error occurred while trying to open the chat.")}},A=async()=>{if(!t||!a.userId){alert("User information is missing.");return}try{let e=localStorage.getItem("token"),r=await c.A.post("".concat(y,"/friend/friend-request"),{senderId:t,receiverId:a.userId},{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}});200===r.status?alert(b("friendSearch.friendRequestSuccess")):alert("Error: "+r.data.message)}catch(e){console.error("Error sending friend request:",e),alert(b("friendSearch.friendRequestError"))}};return(0,r.jsxs)("div",{className:m().friendItem,onContextMenu:e=>{e.preventDefault(),C(e=>!e)},children:[(0,r.jsxs)("div",{onClick:()=>{v(e=>!e),I||E(a.userId)},className:m().rowContainer,children:[(0,r.jsx)(g.A,{userId:a.userId,nickname:a.nickname,profileImage:a.profileImage||void 0,profileThumbnail:a.profileThumbnail||void 0,countryName:a.originCountry||void 0,size:50}),(0,r.jsx)("span",{className:m().nickname,children:a.nickname||N.nickname})]}),I&&(0,r.jsxs)("div",{className:m().expandedContent,children:[(0,r.jsxs)("div",{className:m().infoGrid,children:[(0,r.jsxs)("div",{className:m().infoBlock,children:[(0,r.jsx)("span",{className:m().sectionTitle,children:b("origin_country")}),(0,r.jsxs)("div",{className:m().infoRow,children:[(0,r.jsx)("img",{src:f.A[N.originCountry||""]||p,alt:N.originCountry||b("unknown"),className:m().flagIcon}),(0,r.jsx)("span",{className:m().infoText,children:N.originCountry||b("unknown")})]})]}),(0,r.jsxs)("div",{className:m().infoBlock,children:[(0,r.jsx)("span",{className:m().sectionTitle,children:b("main_language")}),(0,r.jsxs)("div",{className:m().infoRow,children:[(0,r.jsx)("img",{src:_[N.mainLanguage||""]||p,alt:N.mainLanguage||b("unknown"),className:m().flagIcon}),(0,r.jsx)("span",{className:m().infoText,children:N.mainLanguage||b("unknown")})]})]})]}),(0,r.jsx)("div",{className:m().buttonRow,children:o?k?(0,r.jsx)("button",{className:m().button,onClick:()=>alert(b("friendSearch.removeFriend")),children:b("friendSearch.removeFriend")}):(0,r.jsx)("button",{className:m().button,onClick:q,children:b("friendSearch.chat")}):u?(0,r.jsx)("button",{className:m().button,onClick:()=>alert(b("friendSearch.acceptFriendRequest")),children:b("friendSearch.acceptFriendRequest")}):i?(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:m().pendingRequestText,children:b("friendSearch.pendingFriendRequest")}),(0,r.jsx)("button",{className:m().button,onClick:()=>alert(b("friendSearch.cancelFriendRequest")),children:b("friendSearch.cancelFriendRequest")})]}):(0,r.jsx)("button",{className:m().button,onClick:A,children:b("friendSearch.sendFriendRequest")})})]})]})};var b=t(7926),x=t(246),S=t.n(x);let j=e=>{var a;let{buddyGroupId:t,buddyPhoto:n,buddyPhotoMedium:o,buddyPhotoThumbnail:i,activityCountry:c,size:u}=e,{SERVER_URL:g}=(0,d.U)(),{t:h}=(0,l.Bd)(),m=(0,s.useRouter)(),f=null===(a=b.X.find(e=>e.name===c))||void 0===a?void 0:a.flag;return(0,r.jsxs)("div",{onClick:()=>{m.push("/buddyInfo?buddyGroupId=".concat(t))},className:S().container,style:{width:u,height:u},children:[(0,r.jsx)("img",{src:i||o||n||"/assets/buddyDefault.png",alt:"Profile",className:S().profileImage,style:{width:u,height:u,borderRadius:u/2}}),f&&(0,r.jsx)("div",{className:S().flagWrapper,style:{width:u/3+4,height:u/3+4,borderRadius:u/6+2},children:(0,r.jsx)("img",{src:f,alt:"Flag",className:S().flagImage,style:{width:u/3,height:u/3,borderRadius:u/6}})})]})};var I=t(1300),v=t.n(I);let k=e=>{let{buddyPhoto:a,buddyPhotoMedium:t,buddyPhotoThumbnail:o,buddyGroupName:i,activityCountry:d,description:u,members:h,userId:m,buddyGroupId:f}=e,{SERVER_URL:_}={SERVER_URL:"https://fcde.app"},{t:p}=(0,l.Bd)(),y=(0,s.useRouter)(),[b,x]=(0,n.useState)(!1),S=null==h?void 0:h.some(e=>e.userId===m),I=async e=>{try{let a=localStorage.getItem("token"),t=await c.A.post("".concat(_,"/buddy-groups/remove"),{buddyGroupId:e},{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}});200===t.status?alert(p("buddySearch.removeBuddySuccess")):alert(p("buddySearch.removeBuddyError"))}catch(e){console.error("Error removing buddy group:",e),alert(p("buddySearch.removeBuddyError"))}},k=async e=>{try{let a=localStorage.getItem("token"),t=await c.A.post("".concat(_,"/buddy-groups/join-request"),{buddyGroupId:e},{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}});200===t.status?alert(p("buddySearch.joinRequestSuccess")):alert(p("buddySearch.joinRequestError"))}catch(e){console.error("Error sending join request:",e),alert(p("buddySearch.joinRequestError"))}};return(0,r.jsxs)("div",{className:v().buddySearchItem,children:[(0,r.jsxs)("div",{className:v().buddyInfoContainer,children:[(0,r.jsx)(j,{buddyGroupId:f,buddyPhoto:a,buddyPhotoMedium:t,buddyPhotoThumbnail:o,activityCountry:d||"",size:60}),(0,r.jsxs)("div",{className:v().buddyInfoTextContainer,children:[(0,r.jsx)("p",{className:v().buddyGroupName,children:i}),(0,r.jsx)("p",{className:v().buddyGroupDescription,children:u||p("buddySearch.descriptionDefault")}),(0,r.jsx)("p",{className:v().memberCountText,children:p("buddySearch.memberCount",{count:(null==h?void 0:h.length)||0})})]})]}),(0,r.jsx)("div",{className:v().memberListContainer,children:null==h?void 0:h.map(e=>(0,r.jsxs)("div",{className:v().memberProfileContainer,children:[(0,r.jsx)(g.A,{userId:e.userId,nickname:e.nickname,profileImage:e.profileImage,size:40}),(0,r.jsx)("p",{className:v().memberNickname,children:e.nickname})]},e.userId))}),(0,r.jsx)("button",{className:b?v().removeBuddyButton:S?v().buddyPageButton:v().joinRequestButton,onClick:()=>{b?I(f):S?y.push("/buddy?buddyGroupId=".concat(f)):k(f)},onContextMenu:e=>{e.preventDefault(),x(e=>!e)},children:b?p("buddySearch.removeBuddy"):S?p("buddySearch.navigateToBuddy"):p("buddySearch.joinRequest")})]})};var C=t(802),N=t(9707);let B=()=>{let{SERVER_URL:e}=(0,d.U)(),{t:a}=(0,l.Bd)(),t=(0,s.useRouter)(),o=(0,s.useSearchParams)().get("searchTerm")||"",[g,h]=(0,n.useState)(""),[m,f]=(0,n.useState)(""),[_,p]=(0,n.useState)("post"),[b,x]=(0,n.useState)([]),[S,j]=(0,n.useState)(!1),[I,v]=(0,n.useState)(1),[B,P]=(0,n.useState)(!0),[w,T]=(0,n.useState)(!1),[R,F]=(0,n.useState)(!1),E=(0,n.useRef)(0);(0,n.useEffect)(()=>{o&&f(o)},[o]);let q=async function(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=Date.now();if(!(t-E.current<1e3)&&(E.current=t,m.trim())){j(!0);try{let t=await c.A.get("".concat(e,"/search/").concat("post"===_?"posts":"friend"===_?"users":"buddies","?query=").concat(encodeURIComponent(m),"&page=").concat(a,"&limit=").concat("friend"===_?20:10),{headers:{"Content-Type":"application/json"},withCredentials:!0});if(200!==t.status){console.error("Error fetching search results:",t.statusText),j(!1);return}let r=t.data,n=[];n="friend"===_?r.friends||[]:"post"===_?r.posts||[]:r.results||[],a>1?x(e=>[...e,...n]):x(n),P(a<r.totalPages),v(a)}catch(e){console.error("Error fetching search results:",e)}finally{j(!1)}}};(0,n.useEffect)(()=>{m.length>0&&(v(1),x([]),q(1))},[m,_]),(0,n.useEffect)(()=>{T(!!localStorage.getItem("token"))},[]),(0,n.useEffect)(()=>{w?F(!1):F(!0)},[w]),(0,n.useEffect)(()=>{(async()=>{try{let a=await c.A.get("".concat(e,"/users/me"),{headers:{"Content-Type":"application/json"},withCredentials:!0});200===a.status&&h(a.data.userId)}catch(e){console.error("Error fetching user data:",e)}})()},[]);let A=e=>{if("_id"in e)return(0,r.jsx)(u.A,{postId:e._id,author:e.author,time:e.time,meetingTime:e.meetingTime||"",meetingPlace:e.meetingPlace||"",meetingCountry:e.meetingCountry||"",meetingCity:e.meetingCity||"",category:e.category,title:e.title,content:e.content,likes:e.likes,comments:e.comments,visitors:e.visitors,commentList:e.commentList||[],visitedUsers:e.visitedUsers||[],likedUsers:e.likedUsers||[],recruitmentCount:e.recruitmentCount||0,applicantsCount:e.applicantsCount||0,profileImage:e.profileImage||"",profileThumbnail:e.profileThumbnail||"",image:e.image,thumbnail:e.thumbnail||void 0,nicknameOption:e.nicknameOption,userId:e.userId||e._id,applicants:e.applicants||[],isBuddyPost:!1,latitude:e.meetingLatitude,longitude:e.meetingLongitude},e._id);if("userId"in e)return(0,r.jsx)(y,{friend:e,userId:g,isFriend:!1,hasSentRequest:!1,hasReceivedRequest:!1},e.userId);if("buddyGroupId"in e){var a;return(0,r.jsx)(k,{buddyPhoto:e.buddyPhoto,buddyPhotoMedium:e.buddyPhotoMedium,buddyPhotoThumbnail:e.buddyPhotoThumbnail,buddyGroupName:e.buddyGroupName,description:e.description,members:(null===(a=e.members)||void 0===a?void 0:a.map(e=>({...e,profileImage:e.profileImage||""})))||[],userId:g,buddyGroupId:e.buddyGroupId},e.buddyGroupId)}return null};return(0,r.jsxs)("div",{className:i().container,children:[(0,r.jsxs)("header",{className:i().header,children:[(0,r.jsx)("div",{className:i().logoContainer,children:(0,r.jsx)("img",{src:"/assets/Owl-icon-pink.png",alt:"Owl Logo",className:i().logo})}),(0,r.jsxs)("div",{className:i().searchBarContainer,children:[(0,r.jsx)("input",{type:"text",placeholder:"Search...",className:i().searchBar,value:m,onChange:e=>f(e.target.value),onKeyPress:e=>{"Enter"===e.key&&q(1)}}),m&&(0,r.jsx)("button",{className:i().clearButton,onClick:()=>f(""),children:(0,r.jsx)("img",{src:"/assets/cancel-icon.png",alt:"Clear",className:i().clearIcon})}),(0,r.jsx)("button",{className:i().searchButton,onClick:()=>q(1),children:"Search"})]}),(0,r.jsx)("div",{className:i().toggleWrapper,children:["post","friend","buddy"].map(e=>(0,r.jsx)("button",{className:"".concat(i().toggleButton," ").concat(_===e?i().activeToggle:""),onClick:()=>p(e),children:a("search.types.".concat(e))},e))})]}),!w&&R&&(0,r.jsx)(C.A,{visible:R,onLogin:()=>t.push("/login"),onBrowse:()=>F(!1)}),S&&1===I?(0,r.jsxs)("div",{className:i().loadingContainer,children:[(0,r.jsx)("div",{className:i().loadingIndicator}),(0,r.jsx)("p",{className:i().loadingText,children:a("loading_search_results")})]}):(0,r.jsxs)("div",{className:i().resultsContainer,children:[b.map(e=>A(e)),B&&!S&&(0,r.jsx)("button",{className:i().loadMoreButton,onClick:()=>{B&&!S&&q(I+1)},children:a("load_more")})]}),(0,r.jsx)("footer",{className:i().footer,children:(0,r.jsx)(N.A,{})})]})},P=()=>(0,r.jsx)(n.Suspense,{fallback:(0,r.jsx)("div",{children:"Loading..."}),children:(0,r.jsx)(B,{})})},5695:(e,a,t)=>{"use strict";var r=t(8999);t.o(r,"useRouter")&&t.d(a,{useRouter:function(){return r.useRouter}}),t.o(r,"useSearchParams")&&t.d(a,{useSearchParams:function(){return r.useSearchParams}})},7714:e=>{e.exports={friendItem:"FriendSearchItem_friendItem__AEsee",rowContainer:"FriendSearchItem_rowContainer__V_9V_",nickname:"FriendSearchItem_nickname__n616J",expandedContent:"FriendSearchItem_expandedContent__d9pLW",infoGrid:"FriendSearchItem_infoGrid__U_TDZ",infoBlock:"FriendSearchItem_infoBlock__G95sJ",sectionTitle:"FriendSearchItem_sectionTitle__WBFf_",infoRow:"FriendSearchItem_infoRow__IUY_r",flagIcon:"FriendSearchItem_flagIcon__7UCYU",infoText:"FriendSearchItem_infoText__57tMV",buttonRow:"FriendSearchItem_buttonRow__tQ4WX",button:"FriendSearchItem_button__8qUnt",pendingRequestText:"FriendSearchItem_pendingRequestText__WgEz4"}},9406:e=>{e.exports={container:"SearchPage_container__Hlwi2",header:"SearchPage_header__qnJwQ",slideDown:"SearchPage_slideDown__IrbtS",logoContainer:"SearchPage_logoContainer__2docP",logo:"SearchPage_logo__MehjD",searchBarContainer:"SearchPage_searchBarContainer__2G_Jd",searchBar:"SearchPage_searchBar__eKr3g",clearButton:"SearchPage_clearButton__XfDHE",clearIcon:"SearchPage_clearIcon__Vj_Wq",searchButton:"SearchPage_searchButton__Bs6nW",toggleWrapper:"SearchPage_toggleWrapper___Pk24",toggleButton:"SearchPage_toggleButton__NE3GC",activeToggle:"SearchPage_activeToggle__pWryT",resultsContainer:"SearchPage_resultsContainer__DdVuL",loadMoreButton:"SearchPage_loadMoreButton__5nRpw",loadingContainer:"SearchPage_loadingContainer__MAAbB",loadingIndicator:"SearchPage_loadingIndicator__yDgyN",spin:"SearchPage_spin__6kI47",loadingText:"SearchPage_loadingText__dfy1_",postMain:"SearchPage_postMain__I2oNW",friendItem:"SearchPage_friendItem__ypvjo",buddyItem:"SearchPage_buddyItem__gh8Tp",friendImage:"SearchPage_friendImage__v5VYD",buddyImage:"SearchPage_buddyImage__C7G0I",loginOverlay:"SearchPage_loginOverlay__ugDZb",loginOverlayContent:"SearchPage_loginOverlayContent__tgz_v",loginOverlayButtons:"SearchPage_loginOverlayButtons__AnY5N",loginButton:"SearchPage_loginButton__joRWX",browseButton:"SearchPage_browseButton__brOO0",footer:"SearchPage_footer__tZ2Eb",slideUp:"SearchPage_slideUp__RRBED"}},9707:(e,a,t)=>{"use strict";t.d(a,{A:()=>c});var r=t(5155),n=t(6874),s=t.n(n),o=t(3582),i=t.n(o);function c(){let e=e=>{localStorage.setItem("termsType",e)};return(0,r.jsxs)("footer",{className:i().footer,children:[(0,r.jsxs)("div",{className:i().footerContainer,children:[(0,r.jsxs)("div",{className:i().footerSection,children:[(0,r.jsx)("h3",{className:i().footerTitle,children:"About Facade"}),(0,r.jsx)("p",{className:i().footerText,children:"Facade is dedicated to connecting international minds through cultural exchange and real events. Join our community and explore a world of possibilities."})]}),(0,r.jsxs)("div",{className:i().footerSection,children:[(0,r.jsx)("h3",{className:i().footerTitle,children:"Quick Links"}),(0,r.jsxs)("ul",{className:i().footerLinks,children:[(0,r.jsx)("li",{children:(0,r.jsx)(s(),{href:"/about",children:(0,r.jsx)("a",{children:"About Us"})})}),(0,r.jsx)("li",{children:(0,r.jsx)(s(),{href:"/contact",children:(0,r.jsx)("a",{children:"Contact"})})}),(0,r.jsx)("li",{children:(0,r.jsx)(s(),{href:"/faq",children:(0,r.jsx)("a",{children:"FAQ"})})}),(0,r.jsx)("li",{children:(0,r.jsx)(s(),{href:"/terms",children:(0,r.jsx)("a",{onClick:()=>e("service"),children:"Terms of Service"})})}),(0,r.jsx)("li",{children:(0,r.jsx)(s(),{href:"/terms",children:(0,r.jsx)("a",{onClick:()=>e("privacy"),children:"Privacy Policy"})})})]})]}),(0,r.jsxs)("div",{className:i().footerSection,children:[(0,r.jsx)("h3",{className:i().footerTitle,children:"Follow Us"}),(0,r.jsxs)("div",{className:i().socialIcons,children:[(0,r.jsx)("a",{href:"https://twitter.com",target:"_blank",rel:"noopener noreferrer",children:(0,r.jsx)("img",{src:"/icons/twitter.png",alt:"Twitter"})}),(0,r.jsx)("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer",children:(0,r.jsx)("img",{src:"/icons/facebook.png",alt:"Facebook"})}),(0,r.jsx)("a",{href:"https://instagram.com",target:"_blank",rel:"noopener noreferrer",children:(0,r.jsx)("img",{src:"/icons/instagram.png",alt:"Instagram"})}),(0,r.jsx)("a",{href:"https://www.tiktok.com",target:"_blank",rel:"noopener noreferrer",children:(0,r.jsx)("img",{src:"/icons/tiktok.png",alt:"TikTok"})}),(0,r.jsx)("a",{href:"https://www.youtube.com",target:"_blank",rel:"noopener noreferrer",children:(0,r.jsx)("img",{src:"/icons/youtube.png",alt:"YouTube"})})]})]})]}),(0,r.jsx)("div",{className:i().footerBottom,children:(0,r.jsxs)("p",{children:["\xa9 ",new Date().getFullYear()," Facade. All rights reserved."]})})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[697,751,874,464,218,82,165,441,684,358],()=>a(1990)),_N_E=e.O()}]);