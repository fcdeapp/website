(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6624],{1018:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});var a=r(95155),o=r(12115),n=r(35695),s=r(29406),i=r.n(s),c=r(23464),l=r(91218),d=r(89760),u=r(21557),h=r(92037),g=r(13073),_=r(50802),m=r(39707);let p=()=>{let{SERVER_URL:e}=(0,d.U)(),{t}=(0,l.Bd)(),r=(0,n.useRouter)(),s=(0,n.useSearchParams)().get("searchTerm")||"",[p,f]=(0,o.useState)(""),[x,b]=(0,o.useState)(""),[y,j]=(0,o.useState)("post"),[S,P]=(0,o.useState)([]),[v,C]=(0,o.useState)(!1),[I,N]=(0,o.useState)(1),[k,w]=(0,o.useState)(!0),[B,T]=(0,o.useState)(!1),[A,W]=(0,o.useState)(!1),M=(0,o.useRef)(0);(0,o.useEffect)(()=>{s&&b(s)},[s]);let E=async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=Date.now();if(!(r-M.current<1e3)&&(M.current=r,x.trim())){C(!0);try{let r=await c.A.get("".concat(e,"/search/").concat("post"===y?"posts":"friend"===y?"users":"buddies","?query=").concat(encodeURIComponent(x),"&page=").concat(t,"&limit=").concat("friend"===y?20:10),{headers:{"Content-Type":"application/json"},withCredentials:!0});if(200!==r.status){console.error("Error fetching search results:",r.statusText),C(!1);return}let a=r.data,o=[];o="friend"===y?a.friends||[]:"post"===y?a.posts||[]:a.results||[],t>1?P(e=>[...e,...o]):P(o),w(t<a.totalPages),N(t)}catch(e){console.error("Error fetching search results:",e)}finally{C(!1)}}};(0,o.useEffect)(()=>{x.length>0&&(N(1),P([]),E(1))},[x,y]),(0,o.useEffect)(()=>{T("true"===localStorage.getItem("isLoggedIn"))},[]),(0,o.useEffect)(()=>{B?W(!1):W(!0)},[B]),(0,o.useEffect)(()=>{(async()=>{try{let t=await c.A.get("".concat(e,"/users/me"),{headers:{"Content-Type":"application/json"},withCredentials:!0});200===t.status&&f(t.data.userId)}catch(e){console.error("Error fetching user data:",e)}})()},[]);let F=e=>{if("_id"in e)return(0,a.jsx)(u.A,{postId:e._id,author:e.author,time:e.time,meetingTime:e.meetingTime||"",meetingPlace:e.meetingPlace||"",meetingCountry:e.meetingCountry||"",meetingCity:e.meetingCity||"",category:e.category,title:e.title,content:e.content,likes:e.likes,comments:e.comments,visitors:e.visitors,commentList:e.commentList||[],visitedUsers:e.visitedUsers||[],likedUsers:e.likedUsers||[],recruitmentCount:e.recruitmentCount||0,applicantsCount:e.applicantsCount||0,profileImage:e.profileImage||"",profileThumbnail:e.profileThumbnail||"",image:e.image,thumbnail:e.thumbnail||void 0,nicknameOption:e.nicknameOption,userId:e.userId||e._id,applicants:e.applicants||[],isBuddyPost:!1,latitude:e.meetingLatitude,longitude:e.meetingLongitude},e._id);if("userId"in e)return(0,a.jsx)(h.A,{friend:e,userId:p,isFriend:!1,hasSentRequest:!1,hasReceivedRequest:!1},e.userId);if("buddyGroupId"in e){var t;return(0,a.jsx)(g.A,{buddyPhoto:e.buddyPhoto,buddyPhotoMedium:e.buddyPhotoMedium,buddyPhotoThumbnail:e.buddyPhotoThumbnail,buddyGroupName:e.buddyGroupName,description:e.description,members:(null===(t=e.members)||void 0===t?void 0:t.map(e=>({...e,profileImage:e.profileImage||""})))||[],userId:p,buddyGroupId:e.buddyGroupId},e.buddyGroupId)}return null};return(0,a.jsxs)("div",{className:i().container,children:[(0,a.jsxs)("header",{className:i().header,children:[(0,a.jsx)("div",{className:i().logoContainer,children:(0,a.jsx)("img",{src:"/assets/FoxIconMain.png",alt:"Owl Logo",className:i().logo})}),(0,a.jsxs)("div",{className:i().searchBarContainer,children:[(0,a.jsx)("input",{type:"text",placeholder:"Search...",className:i().searchBar,value:x,onChange:e=>b(e.target.value),onKeyPress:e=>{"Enter"===e.key&&E(1)}}),x&&(0,a.jsx)("button",{className:i().clearButton,onClick:()=>b(""),children:(0,a.jsx)("img",{src:"/assets/cancel-icon.png",alt:"Clear",className:i().clearIcon})}),(0,a.jsx)("button",{className:i().searchButton,onClick:()=>E(1),children:"Search"})]}),(0,a.jsx)("div",{className:i().toggleWrapper,children:["post","friend","buddy"].map(e=>(0,a.jsx)("button",{className:"".concat(i().toggleButton," ").concat(y===e?i().activeToggle:""),onClick:()=>j(e),children:t("search.types.".concat(e))},e))})]}),!B&&A&&(0,a.jsx)(_.A,{visible:A,onLogin:()=>r.push("/login"),onBrowse:()=>W(!1)}),v&&1===I?(0,a.jsxs)("div",{className:i().loadingContainer,children:[(0,a.jsx)("div",{className:i().loadingIndicator}),(0,a.jsx)("p",{className:i().loadingText,children:t("loading_search_results")})]}):(0,a.jsxs)("div",{className:i().resultsContainer,children:[S.map(e=>F(e)),k&&!v&&(0,a.jsx)("button",{className:i().loadMoreButton,onClick:()=>{k&&!v&&E(I+1)},children:t("load_more")})]}),(0,a.jsx)("footer",{className:i().footer,children:(0,a.jsx)(m.A,{})})]})},f=()=>(0,a.jsx)(o.Suspense,{fallback:(0,a.jsx)("div",{children:"Loading..."}),children:(0,a.jsx)(p,{})})},29406:e=>{e.exports={container:"SearchPage_container__Hlwi2",header:"SearchPage_header__qnJwQ",slideDown:"SearchPage_slideDown__IrbtS",logoContainer:"SearchPage_logoContainer__2docP",logo:"SearchPage_logo__MehjD",searchBarContainer:"SearchPage_searchBarContainer__2G_Jd",searchBar:"SearchPage_searchBar__eKr3g",clearButton:"SearchPage_clearButton__XfDHE",clearIcon:"SearchPage_clearIcon__Vj_Wq",searchButton:"SearchPage_searchButton__Bs6nW",toggleWrapper:"SearchPage_toggleWrapper___Pk24",toggleButton:"SearchPage_toggleButton__NE3GC",activeToggle:"SearchPage_activeToggle__pWryT",resultsContainer:"SearchPage_resultsContainer__DdVuL",loadMoreButton:"SearchPage_loadMoreButton__5nRpw",loadingContainer:"SearchPage_loadingContainer__MAAbB",loadingIndicator:"SearchPage_loadingIndicator__yDgyN",spin:"SearchPage_spin__6kI47",loadingText:"SearchPage_loadingText__dfy1_",postMain:"SearchPage_postMain__I2oNW",friendItem:"SearchPage_friendItem__ypvjo",buddyItem:"SearchPage_buddyItem__gh8Tp",friendImage:"SearchPage_friendImage__v5VYD",buddyImage:"SearchPage_buddyImage__C7G0I",loginOverlay:"SearchPage_loginOverlay__ugDZb",loginOverlayContent:"SearchPage_loginOverlayContent__tgz_v",loginOverlayButtons:"SearchPage_loginOverlayButtons__AnY5N",loginButton:"SearchPage_loginButton__joRWX",browseButton:"SearchPage_browseButton__brOO0",footer:"SearchPage_footer__tZ2Eb",slideUp:"SearchPage_slideUp__RRBED"}},31875:e=>{let t=Math.asin,r=Math.cos,a=Math.sin,o=Math.sqrt,n=Math.PI;function s(e){return e*n/180}function i(e){var t;return(t=a(e/2))*t}e.exports=function(e,a){let n=s(Array.isArray(e)?e[1]:e.latitude??e.lat),c=s(Array.isArray(a)?a[1]:a.latitude??a.lat),l=s(Array.isArray(e)?e[0]:e.longitude??e.lng??e.lon),d=s(Array.isArray(a)?a[0]:a.longitude??a.lng??a.lon);return 0xc2a532*t(o(i(c-n)+r(n)*r(c)*i(d-l)))}},35695:(e,t,r)=>{"use strict";var a=r(18999);r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},39707:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var a=r(95155),o=r(6874),n=r.n(o),s=r(73582),i=r.n(s);function c(){let e=e=>{localStorage.setItem("termsType",e)};return(0,a.jsxs)("footer",{className:i().footer,children:[(0,a.jsxs)("div",{className:i().footerContainer,children:[(0,a.jsxs)("div",{className:i().footerSection,children:[(0,a.jsx)("h3",{className:i().footerTitle,children:"About Abrody"}),(0,a.jsx)("p",{className:i().footerText,children:"Abrody turns your real life into real language learning—whenever you want, in 12 supported languages. Just snap a photo and get instant, personalized lessons tailored to your daily moments."})]}),(0,a.jsxs)("div",{className:i().footerSection,children:[(0,a.jsx)("h3",{className:i().footerTitle,children:"Quick Links"}),(0,a.jsxs)("ul",{className:i().footerLinks,children:[(0,a.jsx)("li",{children:(0,a.jsx)(n(),{href:"/about",children:(0,a.jsx)("a",{children:"About Us"})})}),(0,a.jsx)("li",{children:(0,a.jsx)(n(),{href:"/contact",children:(0,a.jsx)("a",{children:"Contact"})})}),(0,a.jsx)("li",{children:(0,a.jsx)(n(),{href:"/faq",children:(0,a.jsx)("a",{children:"FAQ"})})}),(0,a.jsx)("li",{children:(0,a.jsx)(n(),{href:"/terms",children:(0,a.jsx)("a",{onClick:()=>e("service"),children:"Terms of Service"})})}),(0,a.jsx)("li",{children:(0,a.jsx)(n(),{href:"/terms",children:(0,a.jsx)("a",{onClick:()=>e("privacy"),children:"Privacy Policy"})})})]})]}),(0,a.jsxs)("div",{className:i().footerSection,children:[(0,a.jsx)("h3",{className:i().footerTitle,children:"Follow Us"}),(0,a.jsxs)("div",{className:i().socialIcons,children:[(0,a.jsx)("a",{href:"https://x.com/facadeconnect/status/1934952417680150568",target:"_blank",rel:"noopener noreferrer",children:(0,a.jsx)("img",{src:"/icons/twitter.png",alt:"Twitter"})}),(0,a.jsx)("a",{href:"https://www.facebook.com/share/1HrNxiJxV8/?mibextid=wwXIfr",target:"_blank",rel:"noopener noreferrer",children:(0,a.jsx)("img",{src:"/icons/facebook.png",alt:"Facebook"})}),(0,a.jsx)("a",{href:"https://www.instagram.com/abrody.app?igsh=MWo2ajQyMWZpdXFxNg%3D%3D&utm_source=qr",target:"_blank",rel:"noopener noreferrer",children:(0,a.jsx)("img",{src:"/icons/instagram.png",alt:"Instagram"})}),(0,a.jsx)("a",{href:"https://www.tiktok.com/@abrody.language.m/video/7516879247135509778?is_from_webapp=1&sender_device=pc&web_id=7516889198793377298",target:"_blank",rel:"noopener noreferrer",children:(0,a.jsx)("img",{src:"/icons/tiktok.png",alt:"TikTok"})}),(0,a.jsx)("a",{href:"https://youtu.be/0-ZbuoKICVQ",target:"_blank",rel:"noopener noreferrer",children:(0,a.jsx)("img",{src:"/icons/youtube.png",alt:"YouTube"})})]})]})]}),(0,a.jsx)("div",{className:i().footerBottom,children:(0,a.jsxs)("p",{children:["ⓒ ",new Date().getFullYear()," Abrody, operated by FacadeConnect Co., Ltd. All rights reserved."]})})]})}},73582:e=>{e.exports={footer:"WebFooter_footer__2WnVU",footerContainer:"WebFooter_footerContainer__YBtb1",footerSection:"WebFooter_footerSection__nWzpG",footerTitle:"WebFooter_footerTitle__JXcRN",footerText:"WebFooter_footerText__A_iHN",footerLinks:"WebFooter_footerLinks__3TS2Z",socialIcons:"WebFooter_socialIcons__dEzrQ",footerBottom:"WebFooter_footerBottom__SM7KX"}},89609:(e,t,r)=>{Promise.resolve().then(r.bind(r,1018))}},e=>{var t=t=>e(e.s=t);e.O(0,[5697,5429,3464,6874,1218,8723,165,1189,8441,1684,7358],()=>t(89609)),_N_E=e.O()}]);