(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[624],{246:e=>{e.exports={container:"BuddyProfileWithFlag_container__A1ueJ",profileImage:"BuddyProfileWithFlag_profileImage__prUCO",flagWrapper:"BuddyProfileWithFlag_flagWrapper__UMv1Y",flagImage:"BuddyProfileWithFlag_flagImage__yXy_D"}},802:(e,a,t)=>{"use strict";t.d(a,{A:()=>n});var r=t(5155);t(2115);let n=e=>{let{visible:a,onLogin:t,onBrowse:n}=e;if(!a)return null;let s={backgroundColor:"transparent",padding:"12px 20px",border:"2px solid #0A1045",borderRadius:"30px",cursor:"pointer"},i={...s,borderColor:"#355C7D"},o={color:"#0A1045",fontSize:"16px",fontWeight:700,margin:0};return(0,r.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:999,display:"flex",justifyContent:"center",alignItems:"center"},children:(0,r.jsx)("div",{style:{width:"100vw",height:"100vh",background:"linear-gradient(45deg, rgba(0, 0, 0, 0.7), rgba(50, 50, 50, 0.7))",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,r.jsx)("div",{style:{width:"90%",maxWidth:"500px",borderRadius:"30px",overflow:"hidden",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},children:(0,r.jsxs)("div",{style:{backgroundColor:"rgba(255, 255, 255, 0.85)",borderRadius:"30px",padding:"30px 25px",textAlign:"center",boxShadow:"0 8px 20px rgba(0, 0, 0, 0.35)"},children:[(0,r.jsx)("h2",{style:{fontSize:"28px",fontWeight:800,color:"#0A1045",marginBottom:"15px"},children:"Welcome to Facade"}),(0,r.jsx)("p",{style:{fontSize:"16px",color:"#333",marginBottom:"30px",lineHeight:"24px"},children:"To see announcements and recommendations, please log in."}),(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"center",gap:"16px"},children:[(0,r.jsx)("button",{style:s,onClick:t,children:(0,r.jsx)("span",{style:o,children:"Log In"})}),(0,r.jsx)("button",{style:i,onClick:n,children:(0,r.jsx)("span",{style:o,children:"Continue as Guest"})})]})]})})})})}},1300:e=>{e.exports={buddySearchItem:"BuddySearchItem_buddySearchItem__r4hP9",buddyInfoContainer:"BuddySearchItem_buddyInfoContainer__Q1Iiq",buddyInfoTextContainer:"BuddySearchItem_buddyInfoTextContainer__bEH_z",buddyGroupName:"BuddySearchItem_buddyGroupName___2IDU",buddyGroupDescription:"BuddySearchItem_buddyGroupDescription__7VMdk",memberCountText:"BuddySearchItem_memberCountText__sTZ82",memberListContainer:"BuddySearchItem_memberListContainer__D4RfG",memberProfileContainer:"BuddySearchItem_memberProfileContainer__4hvBg",memberNickname:"BuddySearchItem_memberNickname__wMNtw",joinRequestButton:"BuddySearchItem_joinRequestButton__Po_y5",buddyPageButton:"BuddySearchItem_buddyPageButton__rnn6a",removeBuddyButton:"BuddySearchItem_removeBuddyButton__iswtc"}},1772:e=>{e.exports={container:"ProfileWithFlag_container__fXJUY",profileImage:"ProfileWithFlag_profileImage__kvu3h",gradientBorder:"ProfileWithFlag_gradientBorder__c_Y4a",flagWrapper:"ProfileWithFlag_flagWrapper__C0EJW",flagImage:"ProfileWithFlag_flagImage__mZNJt",spinner:"ProfileWithFlag_spinner__j6Bkl",spin:"ProfileWithFlag_spin__7po5D",modal:"ProfileWithFlag_modal__KzG8T"}},1990:(e,a,t)=>{Promise.resolve().then(t.bind(t,3620))},2649:(e,a,t)=>{"use strict";t.d(a,{A:()=>g});var r=t(5155),n=t(2115),s=t(3464),i=t(1065),o=t(5695),c=t(802),l=t(7926),d=t(1772),u=t.n(d);let h=e=>"string"==typeof e&&""!==e.trim()?e.startsWith("http")||e.startsWith("/assets/")?e:"/assets/".concat(e):"/assets/Annonymous.png",g=e=>{let{userId:a,nickname:t,profileImage:d,profileThumbnail:g,countryName:m,size:f,trustBadge:p}=e,{SERVER_URL:_}=(0,i.U)(),x=(0,o.useRouter)(),[y,j]=(0,n.useState)(g||d||null),[b,I]=(0,n.useState)(m||null),[S,v]=(0,n.useState)(p||!1),[N,C]=(0,n.useState)(!1),[k,B]=(0,n.useState)(null),[w,P]=(0,n.useState)(!1),[T,F]=(0,n.useState)(!1);(0,n.useEffect)(()=>{B(localStorage.getItem("userId"))},[]),(0,n.useEffect)(()=>{let e="true"===localStorage.getItem("isLoggedIn");P(e),m&&(g||d)&&void 0!==p||!a||(async()=>{try{if(C(!0),!e){C(!1);return}let t=await s.A.get("".concat(_,"/users/country?userId=").concat(a));if(200===t.status){let e=t.data;I(e.originCountry),"string"!=typeof e.profileThumbnail&&(e.profileThumbnail=""),"string"!=typeof e.profileImage&&(e.profileImage=""),j(e.profileThumbnail||e.profileImage||""),v(e.trustBadge||!1)}else console.log("Failed to fetch user details")}catch(e){console.error("Error fetching user details:",e)}finally{C(!1)}})()},[m,g,d,p,a,_]);let R=l.X.find(e=>e.name===b),E=R?R.flag:null,A=h(y);return N?(0,r.jsx)("div",{className:u().container,style:{width:f,height:f},children:(0,r.jsx)("div",{className:u().spinner})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{onClick:()=>{if(!w){F(!0);return}let e={userId:a,nickname:t,profileImage:d||null,profileThumbnail:g||null};a===k?x.push("/myProfile?".concat(new URLSearchParams(e).toString())):x.push("/profile?".concat(new URLSearchParams(e).toString()))},className:u().container,style:{width:f,height:f},children:[S?(0,r.jsx)("div",{className:u().gradientBorder,style:{width:f,height:f,borderRadius:f/2},children:(0,r.jsx)("img",{src:A,alt:"Profile",className:u().profileImage,style:{width:f-4,height:f-4,borderRadius:(f-4)/2}})}):(0,r.jsx)("img",{src:A,alt:"Profile",className:u().profileImage,style:{width:f,height:f,borderRadius:f/2}}),E&&(0,r.jsx)("div",{className:u().flagWrapper,style:{width:f/3+4,height:f/3+4,borderRadius:f/6+2},children:(0,r.jsx)("img",{src:E,alt:"Flag",className:u().flagImage,style:{width:f/3,height:f/3,borderRadius:f/6}})})]}),T&&(0,r.jsx)("div",{className:u().modal,children:(0,r.jsx)(c.A,{visible:!0,onLogin:()=>{F(!1),x.push("/signInLogIn")},onBrowse:()=>F(!1)})})]})}},3582:e=>{e.exports={footer:"WebFooter_footer__2WnVU",footerContainer:"WebFooter_footerContainer__YBtb1",footerSection:"WebFooter_footerSection__nWzpG",footerTitle:"WebFooter_footerTitle__JXcRN",footerText:"WebFooter_footerText__A_iHN",footerLinks:"WebFooter_footerLinks__3TS2Z",socialIcons:"WebFooter_socialIcons__dEzrQ",footerBottom:"WebFooter_footerBottom__SM7KX"}},3620:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>w});var r=t(5155),n=t(2115),s=t(5695),i=t(9406),o=t.n(i),c=t(3464),l=t(1218),d=t(1065),u=t(1557),h=t(2649),g=t(7714),m=t.n(g),f=t(3625);let p={en:"/assets/flags/uk-flag.png",es:"/assets/flags/spain-flag.png",zh:"/assets/flags/china-flag.png",hi:"/assets/flags/india-flag.png",fr:"/assets/flags/france-flag.png",ko:"/assets/flags/south-korea-flag.png",ja:"/assets/flags/japan-flag.png",de:"/assets/flags/germany-flag.png",ar:"/assets/flags/saudi-arabia-flag.png",pt:"/assets/flags/portugal-flag.png",ru:"/assets/flags/russia-flag.png",it:"/assets/flags/italy-flag.png",tr:"/assets/flags/turkey-flag.png",nl:"/assets/flags/netherlands-flag.png",pl:"/assets/flags/poland-flag.png",th:"/assets/flags/thailand-flag.png",vi:"/assets/flags/vietnam-flag.png",ms:"/assets/flags/malaysia-flag.png",sv:"/assets/flags/sweden-flag.png",no:"/assets/flags/norway-flag.png",fi:"/assets/flags/finland-flag.png",el:"/assets/flags/greece-flag.png",hu:"/assets/flags/hungary-flag.png",cs:"/assets/flags/czech-republic-flag.png",ro:"/assets/flags/romania-flag.png",da:"/assets/flags/denmark-flag.png",he:"/assets/flags/israel-flag.png",id:"/assets/flags/indonesia-flag.png",uk:"/assets/flags/ukraine-flag.png",fa:"/assets/flags/iran-flag.png",bn:"/assets/flags/bangladesh-flag.png"},_="/assets/buddyDefault.png",x=e=>{let{friend:a,userId:t,isFriend:i,hasSentRequest:o,hasReceivedRequest:u,buddyGroupId:g}=e,{SERVER_URL:x}=(0,d.U)(),{t:y}=(0,l.Bd)(),j=(0,s.useRouter)(),[b,I]=(0,n.useState)(!1),[S,v]=(0,n.useState)(!1),[N,C]=(0,n.useState)(!1),[k,B]=(0,n.useState)({}),[w,P]=(0,n.useState)(!1),[T,F]=(0,n.useState)(a.isDeactivated||!1),[R,E]=(0,n.useState)(!1),[A,W]=(0,n.useState)(""),[q,L]=(0,n.useState)(null),U=async e=>{try{let a=await c.A.get("".concat(x,"/users/members/").concat(e));a.data&&B(a.data)}catch(e){console.error("Error fetching member details:",e)}},D=()=>{P(e=>!e)},G=async()=>{try{let e=await c.A.post("".concat(x,"/chats/one-on-one"),{friendId:a.userId});e.data&&e.data.chatRoomId?j.push("/chat?chatRoomId=".concat(e.data.chatRoomId,"&otherUserId=").concat(a.userId,"&nickname=").concat(a.nickname)):alert("Failed to retrieve or create a chat room.")}catch(e){console.error("Error handling chat:",e),alert("An error occurred while trying to open the chat.")}},M=async()=>{if(!t||!a.userId){alert("User information is missing.");return}try{let e=await c.A.post("".concat(x,"/friend/friend-request"),{senderId:t,receiverId:a.userId},{headers:{"Content-Type":"application/json"}});200===e.status?alert(y("friendSearch.friendRequestSuccess")):alert("Error: "+e.data.message)}catch(e){console.error("Error sending friend request:",e),alert(y("friendSearch.friendRequestError"))}},z=async()=>{if(!t||!a.userId){alert("User information is missing.");return}try{let e=await c.A.post("".concat(x,"/friend/friend-request/cancel"),{senderId:t,receiverId:a.userId},{headers:{"Content-Type":"application/json"}});200===e.status?alert(y("friendSearch.cancelRequestSuccess")):alert(y("friendSearch.cancelRequestError")+" "+e.data.message)}catch(e){console.error("Error cancelling friend request:",e),alert(y("friendSearch.cancelRequestError"))}},O=async()=>{try{let e=await c.A.post("".concat(x,"/friend/friend-request/accept"),{receiverId:t,senderId:a.userId,accept:!0},{headers:{"Content-Type":"application/json"}});200===e.status?alert(y("friendSearch.acceptRequestSuccess")):alert(y("friendSearch.acceptRequestError")+" "+e.data.message)}catch(e){console.error("Error accepting friend request:",e),alert(y("friendSearch.acceptRequestError"))}},J=async()=>{try{let e=await c.A.post("".concat(x,"/friend/remove"),{userId:t,friendId:a.userId},{headers:{"Content-Type":"application/json"}});200===e.status?alert(y("friendSearch.removeFriendSuccess")):alert("Error: "+e.data.message)}catch(e){console.error("Error removing friend:",e),alert(y("friendSearch.removeFriendError"))}},Y=async()=>{if(g)try{await c.A.post("".concat(x,"/buddy-groups/join-request/accept"),{buddyGroupId:g,userId:a.userId}),alert(y("friendSearch.joinAcceptSuccess"))}catch(e){console.error("Error accepting join request:",e),alert(y("friendSearch.joinAcceptError"))}},X=async()=>{if(g)try{await c.A.post("".concat(x,"/buddy-groups/join-request/reject"),{buddyGroupId:g,userId:a.userId}),alert(y("friendSearch.joinRejectSuccess"))}catch(e){console.error("Error rejecting join request:",e),alert(y("friendSearch.joinRejectError"))}},V=async()=>{try{let e=await c.A.post("".concat(x,"/api/admin/users/reactivate"),{userId:a.userId});200===e.status?(alert(y("friendSearch.reactivateUser")),K()):alert("Failed to reactivate user account.")}catch(e){console.error("Error reactivating user:",e),alert("An error occurred while reactivating the account.")}},H=async()=>{try{let e=await c.A.post("".concat(x,"/api/admin/users/deactivate"),{userId:a.userId,reason:A,durationInDays:q});200===e.status?(alert(y("friendSearch.deactivateUserSuccess")),K()):alert("Failed to deactivate user account."),E(!1)}catch(e){console.error("Error deactivating user:",e),alert("An error occurred while deactivating the account.")}},K=async()=>{try{let e=await c.A.get("".concat(x,"/users/members/").concat(a.userId));e.data&&(F(e.data.isDeactivated),B(e.data))}catch(e){console.error("Error refreshing user status:",e)}};return(0,n.useEffect)(()=>{(async()=>{try{let e=await c.A.get("".concat(x,"/users/me"));e.data&&I(e.data.isAdmin)}catch(e){console.error("Error checking admin status:",e)}})()},[x]),(0,r.jsxs)("div",{className:m().friendItem,onContextMenu:e=>{e.preventDefault(),C(e=>!e)},children:[(0,r.jsxs)("div",{className:m().rowContainer,onClick:()=>{v(e=>!e),S||U(a.userId)},children:[(0,r.jsx)(h.A,{userId:a.userId,nickname:a.nickname,profileImage:a.profileImage||void 0,profileThumbnail:a.profileThumbnail||void 0,countryName:a.originCountry||void 0,size:50}),(0,r.jsx)("span",{className:m().nickname,children:a.nickname||k.nickname})]}),S&&(0,r.jsxs)("div",{className:m().expandedContent,children:[(0,r.jsxs)("div",{className:m().infoGrid,children:[(0,r.jsxs)("div",{className:m().infoBlock,children:[(0,r.jsx)("span",{className:m().sectionTitle,children:y("origin_country")}),(0,r.jsxs)("div",{className:m().infoRow,children:[(0,r.jsx)("img",{src:k.originCountry?f.A[k.originCountry]:_,alt:k.originCountry||y("unknown"),className:m().flagIcon}),(0,r.jsx)("span",{className:m().infoText,children:k.originCountry||y("unknown")})]})]}),(0,r.jsxs)("div",{className:m().infoBlock,children:[(0,r.jsx)("span",{className:m().sectionTitle,children:y("main_language")}),(0,r.jsxs)("div",{className:m().infoRow,children:[(0,r.jsx)("img",{src:k.mainLanguage?p[k.mainLanguage]:_,alt:k.mainLanguage||y("unknown"),className:m().flagIcon}),(0,r.jsx)("span",{className:m().infoText,children:k.mainLanguage||y("unknown")})]})]})]}),(0,r.jsxs)("div",{className:m().infoGrid,children:[(0,r.jsxs)("div",{className:m().infoBlock,children:[(0,r.jsx)("span",{className:m().sectionTitle,children:y("learning_languages")}),(0,r.jsx)("div",{className:m().languageList,children:k.learningLanguage&&k.learningLanguage.length>0?k.learningLanguage.map(e=>(0,r.jsxs)("div",{className:m().languageItem,children:[(0,r.jsx)("img",{src:e?p[e]:_,alt:e,className:m().flagIcon}),(0,r.jsx)("span",{className:m().infoText,children:e})]},e)):(0,r.jsx)("span",{className:m().infoText,children:y("none")})})]}),(0,r.jsxs)("div",{className:m().infoBlock,children:[(0,r.jsx)("span",{className:m().sectionTitle,onClick:D,style:{cursor:"pointer"},children:y("current_country")}),(0,r.jsxs)("div",{className:m().infoRow,children:[(0,r.jsx)("img",{src:k.currentCountry?f.A[k.currentCountry]:_,alt:k.currentCountry||y("unknown"),className:m().flagIcon}),(0,r.jsx)("span",{className:m().infoText,children:k.currentCountry||y("unknown")})]})]})]}),(0,r.jsxs)("div",{className:m().infoGrid,children:[(0,r.jsxs)("div",{className:m().infoBlock,children:[(0,r.jsx)("span",{className:m().sectionTitle,onClick:D,style:{cursor:"pointer"},children:y("current_city")}),(0,r.jsx)("span",{className:m().infoText,children:k.currentCity||y("unknown")})]}),(0,r.jsxs)("div",{className:m().infoBlock,children:[(0,r.jsx)("span",{className:m().sectionTitle,children:y("profile.hobbies")}),(0,r.jsx)("span",{className:m().infoText,children:k.hobbies&&k.hobbies.length>0?k.hobbies.join(", "):y("profile.info_none")})]})]}),(0,r.jsxs)("div",{className:m().infoGrid,children:[(0,r.jsxs)("div",{className:m().infoBlock,children:[(0,r.jsx)("span",{className:m().sectionTitle,children:y("profile.skills")}),(0,r.jsx)("span",{className:m().infoText,children:k.skills&&k.skills.length>0?k.skills.join(", "):y("profile.info_none")})]}),(0,r.jsxs)("div",{className:m().infoBlock,children:[(0,r.jsx)("span",{className:m().sectionTitle,children:y("description")}),(0,r.jsx)("span",{className:m().infoText,children:k.description||y("none")})]})]}),w&&k.locationMapImage&&(0,r.jsx)("div",{className:m().mapImageContainer,children:(0,r.jsx)("img",{src:k.locationMapImage,alt:"Map",className:m().mapImage})}),(0,r.jsx)("div",{className:m().buttonRow,children:g?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{className:m().button,onClick:Y,children:y("friendSearch.acceptJoin")}),(0,r.jsx)("button",{className:m().button,onClick:X,children:y("friendSearch.rejectJoin")})]}):(0,r.jsx)(r.Fragment,{children:i?N?(0,r.jsx)("button",{className:m().button,onClick:J,children:y("friendSearch.removeFriend")}):(0,r.jsx)("button",{className:m().button,onClick:G,children:y("friendSearch.chat")}):u?(0,r.jsx)("button",{className:m().button,onClick:O,children:y("friendSearch.acceptFriendRequest")}):o?(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:m().pendingRequestText,children:y("friendSearch.pendingFriendRequest")}),(0,r.jsx)("button",{className:m().button,onClick:z,children:y("friendSearch.cancelFriendRequest")})]}):(0,r.jsx)("button",{className:m().button,onClick:M,children:y("friendSearch.sendFriendRequest")})})}),b&&(T?(0,r.jsx)("button",{className:m().reactivateButton,onClick:V,children:y("friendSearch.reactivateUser")}):(0,r.jsx)("button",{className:m().deactivateButton,onClick:()=>E(!R),children:y("friendSearch.deactivateUser")})),R&&(0,r.jsxs)("div",{className:m().formContainer,children:[(0,r.jsx)("input",{type:"text",className:m().input,placeholder:"Enter reason for deactivation",value:A,onChange:e=>W(e.target.value)}),(0,r.jsxs)("select",{className:m().picker,value:null!==q?q:"",onChange:e=>L(e.target.value?Number(e.target.value):null),children:[(0,r.jsx)("option",{value:"",children:"Select duration"}),(0,r.jsx)("option",{value:1,children:"1 Day"}),(0,r.jsx)("option",{value:7,children:"7 Days"}),(0,r.jsx)("option",{value:30,children:"30 Days"}),(0,r.jsx)("option",{value:"",children:"Permanent"})]}),(0,r.jsx)("button",{className:m().confirmButton,onClick:H,children:y("friendSearch.confirmDeactivation")})]})]})]})};var y=t(7926),j=t(246),b=t.n(j);let I=e=>{var a;let{buddyGroupId:t,buddyPhoto:n,buddyPhotoMedium:i,buddyPhotoThumbnail:o,activityCountry:c,size:u}=e,{SERVER_URL:h}=(0,d.U)(),{t:g}=(0,l.Bd)(),m=(0,s.useRouter)(),f=null===(a=y.X.find(e=>e.name===c))||void 0===a?void 0:a.flag;return(0,r.jsxs)("div",{onClick:()=>{m.push("/buddyInfo?buddyGroupId=".concat(t))},className:b().container,style:{width:u,height:u},children:[(0,r.jsx)("img",{src:o||i||n||"/assets/buddyDefault.png",alt:"Profile",className:b().profileImage,style:{width:u,height:u,borderRadius:u/2}}),f&&(0,r.jsx)("div",{className:b().flagWrapper,style:{width:u/3+4,height:u/3+4,borderRadius:u/6+2},children:(0,r.jsx)("img",{src:f,alt:"Flag",className:b().flagImage,style:{width:u/3,height:u/3,borderRadius:u/6}})})]})};var S=t(1300),v=t.n(S);let N=e=>{let{buddyPhoto:a,buddyPhotoMedium:t,buddyPhotoThumbnail:i,buddyGroupName:o,activityCountry:d,description:u,members:g,userId:m,buddyGroupId:f}=e,{SERVER_URL:p}={SERVER_URL:"https://fcde.app"},{t:_}=(0,l.Bd)(),x=(0,s.useRouter)(),[y,j]=(0,n.useState)(!1),b=null==g?void 0:g.some(e=>e.userId===m),S=async e=>{try{let a=localStorage.getItem("token"),t=await c.A.post("".concat(p,"/buddy-groups/remove"),{buddyGroupId:e},{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}});200===t.status?alert(_("buddySearch.removeBuddySuccess")):alert(_("buddySearch.removeBuddyError"))}catch(e){console.error("Error removing buddy group:",e),alert(_("buddySearch.removeBuddyError"))}},N=async e=>{try{let a=localStorage.getItem("token"),t=await c.A.post("".concat(p,"/buddy-groups/join-request"),{buddyGroupId:e},{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}});200===t.status?alert(_("buddySearch.joinRequestSuccess")):alert(_("buddySearch.joinRequestError"))}catch(e){console.error("Error sending join request:",e),alert(_("buddySearch.joinRequestError"))}};return(0,r.jsxs)("div",{className:v().buddySearchItem,children:[(0,r.jsxs)("div",{className:v().buddyInfoContainer,children:[(0,r.jsx)(I,{buddyGroupId:f,buddyPhoto:a,buddyPhotoMedium:t,buddyPhotoThumbnail:i,activityCountry:d||"",size:60}),(0,r.jsxs)("div",{className:v().buddyInfoTextContainer,children:[(0,r.jsx)("p",{className:v().buddyGroupName,children:o}),(0,r.jsx)("p",{className:v().buddyGroupDescription,children:u||_("buddySearch.descriptionDefault")}),(0,r.jsx)("p",{className:v().memberCountText,children:_("buddySearch.memberCount",{count:(null==g?void 0:g.length)||0})})]})]}),(0,r.jsx)("div",{className:v().memberListContainer,children:null==g?void 0:g.map(e=>(0,r.jsxs)("div",{className:v().memberProfileContainer,children:[(0,r.jsx)(h.A,{userId:e.userId,nickname:e.nickname,profileImage:e.profileImage,size:40}),(0,r.jsx)("p",{className:v().memberNickname,children:e.nickname})]},e.userId))}),(0,r.jsx)("button",{className:y?v().removeBuddyButton:b?v().buddyPageButton:v().joinRequestButton,onClick:()=>{y?S(f):b?x.push("/buddy?buddyGroupId=".concat(f)):N(f)},onContextMenu:e=>{e.preventDefault(),j(e=>!e)},children:y?_("buddySearch.removeBuddy"):b?_("buddySearch.navigateToBuddy"):_("buddySearch.joinRequest")})]})};var C=t(802),k=t(9707);let B=()=>{let{SERVER_URL:e}=(0,d.U)(),{t:a}=(0,l.Bd)(),t=(0,s.useRouter)(),i=(0,s.useSearchParams)().get("searchTerm")||"",[h,g]=(0,n.useState)(""),[m,f]=(0,n.useState)(""),[p,_]=(0,n.useState)("post"),[y,j]=(0,n.useState)([]),[b,I]=(0,n.useState)(!1),[S,v]=(0,n.useState)(1),[B,w]=(0,n.useState)(!0),[P,T]=(0,n.useState)(!1),[F,R]=(0,n.useState)(!1),E=(0,n.useRef)(0);(0,n.useEffect)(()=>{i&&f(i)},[i]);let A=async function(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=Date.now();if(!(t-E.current<1e3)&&(E.current=t,m.trim())){I(!0);try{let t=await c.A.get("".concat(e,"/search/").concat("post"===p?"posts":"friend"===p?"users":"buddies","?query=").concat(encodeURIComponent(m),"&page=").concat(a,"&limit=").concat("friend"===p?20:10),{headers:{"Content-Type":"application/json"},withCredentials:!0});if(200!==t.status){console.error("Error fetching search results:",t.statusText),I(!1);return}let r=t.data,n=[];n="friend"===p?r.friends||[]:"post"===p?r.posts||[]:r.results||[],a>1?j(e=>[...e,...n]):j(n),w(a<r.totalPages),v(a)}catch(e){console.error("Error fetching search results:",e)}finally{I(!1)}}};(0,n.useEffect)(()=>{m.length>0&&(v(1),j([]),A(1))},[m,p]),(0,n.useEffect)(()=>{T("true"===localStorage.getItem("isLoggedIn"))},[]),(0,n.useEffect)(()=>{P?R(!1):R(!0)},[P]),(0,n.useEffect)(()=>{(async()=>{try{let a=await c.A.get("".concat(e,"/users/me"),{headers:{"Content-Type":"application/json"},withCredentials:!0});200===a.status&&g(a.data.userId)}catch(e){console.error("Error fetching user data:",e)}})()},[]);let W=e=>{if("_id"in e)return(0,r.jsx)(u.A,{postId:e._id,author:e.author,time:e.time,meetingTime:e.meetingTime||"",meetingPlace:e.meetingPlace||"",meetingCountry:e.meetingCountry||"",meetingCity:e.meetingCity||"",category:e.category,title:e.title,content:e.content,likes:e.likes,comments:e.comments,visitors:e.visitors,commentList:e.commentList||[],visitedUsers:e.visitedUsers||[],likedUsers:e.likedUsers||[],recruitmentCount:e.recruitmentCount||0,applicantsCount:e.applicantsCount||0,profileImage:e.profileImage||"",profileThumbnail:e.profileThumbnail||"",image:e.image,thumbnail:e.thumbnail||void 0,nicknameOption:e.nicknameOption,userId:e.userId||e._id,applicants:e.applicants||[],isBuddyPost:!1,latitude:e.meetingLatitude,longitude:e.meetingLongitude},e._id);if("userId"in e)return(0,r.jsx)(x,{friend:e,userId:h,isFriend:!1,hasSentRequest:!1,hasReceivedRequest:!1},e.userId);if("buddyGroupId"in e){var a;return(0,r.jsx)(N,{buddyPhoto:e.buddyPhoto,buddyPhotoMedium:e.buddyPhotoMedium,buddyPhotoThumbnail:e.buddyPhotoThumbnail,buddyGroupName:e.buddyGroupName,description:e.description,members:(null===(a=e.members)||void 0===a?void 0:a.map(e=>({...e,profileImage:e.profileImage||""})))||[],userId:h,buddyGroupId:e.buddyGroupId},e.buddyGroupId)}return null};return(0,r.jsxs)("div",{className:o().container,children:[(0,r.jsxs)("header",{className:o().header,children:[(0,r.jsx)("div",{className:o().logoContainer,children:(0,r.jsx)("img",{src:"/assets/Owl-icon-pink.png",alt:"Owl Logo",className:o().logo})}),(0,r.jsxs)("div",{className:o().searchBarContainer,children:[(0,r.jsx)("input",{type:"text",placeholder:"Search...",className:o().searchBar,value:m,onChange:e=>f(e.target.value),onKeyPress:e=>{"Enter"===e.key&&A(1)}}),m&&(0,r.jsx)("button",{className:o().clearButton,onClick:()=>f(""),children:(0,r.jsx)("img",{src:"/assets/cancel-icon.png",alt:"Clear",className:o().clearIcon})}),(0,r.jsx)("button",{className:o().searchButton,onClick:()=>A(1),children:"Search"})]}),(0,r.jsx)("div",{className:o().toggleWrapper,children:["post","friend","buddy"].map(e=>(0,r.jsx)("button",{className:"".concat(o().toggleButton," ").concat(p===e?o().activeToggle:""),onClick:()=>_(e),children:a("search.types.".concat(e))},e))})]}),!P&&F&&(0,r.jsx)(C.A,{visible:F,onLogin:()=>t.push("/login"),onBrowse:()=>R(!1)}),b&&1===S?(0,r.jsxs)("div",{className:o().loadingContainer,children:[(0,r.jsx)("div",{className:o().loadingIndicator}),(0,r.jsx)("p",{className:o().loadingText,children:a("loading_search_results")})]}):(0,r.jsxs)("div",{className:o().resultsContainer,children:[y.map(e=>W(e)),B&&!b&&(0,r.jsx)("button",{className:o().loadMoreButton,onClick:()=>{B&&!b&&A(S+1)},children:a("load_more")})]}),(0,r.jsx)("footer",{className:o().footer,children:(0,r.jsx)(k.A,{})})]})},w=()=>(0,r.jsx)(n.Suspense,{fallback:(0,r.jsx)("div",{children:"Loading..."}),children:(0,r.jsx)(B,{})})},5695:(e,a,t)=>{"use strict";var r=t(8999);t.o(r,"usePathname")&&t.d(a,{usePathname:function(){return r.usePathname}}),t.o(r,"useRouter")&&t.d(a,{useRouter:function(){return r.useRouter}}),t.o(r,"useSearchParams")&&t.d(a,{useSearchParams:function(){return r.useSearchParams}})},7714:e=>{e.exports={friendItem:"FriendSearchItem_friendItem__AEsee",rowContainer:"FriendSearchItem_rowContainer__V_9V_",nickname:"FriendSearchItem_nickname__n616J",expandedContent:"FriendSearchItem_expandedContent__d9pLW",infoGrid:"FriendSearchItem_infoGrid__U_TDZ",infoBlock:"FriendSearchItem_infoBlock__G95sJ",sectionTitle:"FriendSearchItem_sectionTitle__WBFf_",infoRow:"FriendSearchItem_infoRow__IUY_r",flagIcon:"FriendSearchItem_flagIcon__7UCYU",infoText:"FriendSearchItem_infoText__57tMV",languageList:"FriendSearchItem_languageList__s32uP",languageItem:"FriendSearchItem_languageItem__pRdnT",buttonRow:"FriendSearchItem_buttonRow__tQ4WX",button:"FriendSearchItem_button__8qUnt",pendingRequestText:"FriendSearchItem_pendingRequestText__WgEz4",mapImageContainer:"FriendSearchItem_mapImageContainer__jhvEh",mapImage:"FriendSearchItem_mapImage__Yoq1l",formContainer:"FriendSearchItem_formContainer__B6KXz",input:"FriendSearchItem_input__8qOH3",picker:"FriendSearchItem_picker__g56aK",confirmButton:"FriendSearchItem_confirmButton__1IKNP",deactivateButton:"FriendSearchItem_deactivateButton__OevpH",reactivateButton:"FriendSearchItem_reactivateButton__T3Nd8"}},9406:e=>{e.exports={container:"SearchPage_container__Hlwi2",header:"SearchPage_header__qnJwQ",slideDown:"SearchPage_slideDown__IrbtS",logoContainer:"SearchPage_logoContainer__2docP",logo:"SearchPage_logo__MehjD",searchBarContainer:"SearchPage_searchBarContainer__2G_Jd",searchBar:"SearchPage_searchBar__eKr3g",clearButton:"SearchPage_clearButton__XfDHE",clearIcon:"SearchPage_clearIcon__Vj_Wq",searchButton:"SearchPage_searchButton__Bs6nW",toggleWrapper:"SearchPage_toggleWrapper___Pk24",toggleButton:"SearchPage_toggleButton__NE3GC",activeToggle:"SearchPage_activeToggle__pWryT",resultsContainer:"SearchPage_resultsContainer__DdVuL",loadMoreButton:"SearchPage_loadMoreButton__5nRpw",loadingContainer:"SearchPage_loadingContainer__MAAbB",loadingIndicator:"SearchPage_loadingIndicator__yDgyN",spin:"SearchPage_spin__6kI47",loadingText:"SearchPage_loadingText__dfy1_",postMain:"SearchPage_postMain__I2oNW",friendItem:"SearchPage_friendItem__ypvjo",buddyItem:"SearchPage_buddyItem__gh8Tp",friendImage:"SearchPage_friendImage__v5VYD",buddyImage:"SearchPage_buddyImage__C7G0I",loginOverlay:"SearchPage_loginOverlay__ugDZb",loginOverlayContent:"SearchPage_loginOverlayContent__tgz_v",loginOverlayButtons:"SearchPage_loginOverlayButtons__AnY5N",loginButton:"SearchPage_loginButton__joRWX",browseButton:"SearchPage_browseButton__brOO0",footer:"SearchPage_footer__tZ2Eb",slideUp:"SearchPage_slideUp__RRBED"}},9707:(e,a,t)=>{"use strict";t.d(a,{A:()=>c});var r=t(5155),n=t(6874),s=t.n(n),i=t(3582),o=t.n(i);function c(){let e=e=>{localStorage.setItem("termsType",e)};return(0,r.jsxs)("footer",{className:o().footer,children:[(0,r.jsxs)("div",{className:o().footerContainer,children:[(0,r.jsxs)("div",{className:o().footerSection,children:[(0,r.jsx)("h3",{className:o().footerTitle,children:"About Facade"}),(0,r.jsx)("p",{className:o().footerText,children:"Facade is dedicated to connecting international minds through cultural exchange and real events. Join our community and explore a world of possibilities."})]}),(0,r.jsxs)("div",{className:o().footerSection,children:[(0,r.jsx)("h3",{className:o().footerTitle,children:"Quick Links"}),(0,r.jsxs)("ul",{className:o().footerLinks,children:[(0,r.jsx)("li",{children:(0,r.jsx)(s(),{href:"/about",children:(0,r.jsx)("a",{children:"About Us"})})}),(0,r.jsx)("li",{children:(0,r.jsx)(s(),{href:"/contact",children:(0,r.jsx)("a",{children:"Contact"})})}),(0,r.jsx)("li",{children:(0,r.jsx)(s(),{href:"/faq",children:(0,r.jsx)("a",{children:"FAQ"})})}),(0,r.jsx)("li",{children:(0,r.jsx)(s(),{href:"/terms",children:(0,r.jsx)("a",{onClick:()=>e("service"),children:"Terms of Service"})})}),(0,r.jsx)("li",{children:(0,r.jsx)(s(),{href:"/terms",children:(0,r.jsx)("a",{onClick:()=>e("privacy"),children:"Privacy Policy"})})})]})]}),(0,r.jsxs)("div",{className:o().footerSection,children:[(0,r.jsx)("h3",{className:o().footerTitle,children:"Follow Us"}),(0,r.jsxs)("div",{className:o().socialIcons,children:[(0,r.jsx)("a",{href:"https://twitter.com",target:"_blank",rel:"noopener noreferrer",children:(0,r.jsx)("img",{src:"/icons/twitter.png",alt:"Twitter"})}),(0,r.jsx)("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer",children:(0,r.jsx)("img",{src:"/icons/facebook.png",alt:"Facebook"})}),(0,r.jsx)("a",{href:"https://instagram.com",target:"_blank",rel:"noopener noreferrer",children:(0,r.jsx)("img",{src:"/icons/instagram.png",alt:"Instagram"})}),(0,r.jsx)("a",{href:"https://www.tiktok.com",target:"_blank",rel:"noopener noreferrer",children:(0,r.jsx)("img",{src:"/icons/tiktok.png",alt:"TikTok"})}),(0,r.jsx)("a",{href:"https://www.youtube.com",target:"_blank",rel:"noopener noreferrer",children:(0,r.jsx)("img",{src:"/icons/youtube.png",alt:"YouTube"})})]})]})]}),(0,r.jsx)("div",{className:o().footerBottom,children:(0,r.jsxs)("p",{children:["\xa9 ",new Date().getFullYear()," Facade. All rights reserved."]})})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[697,435,874,464,218,82,165,441,684,358],()=>a(1990)),_N_E=e.O()}]);