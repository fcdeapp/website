(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9699],{61065:(e,n,t)=>{"use strict";t.d(n,{s:()=>c,U:()=>o});var r=t(95155),a=t(12115);let s=JSON.parse('{"hl":"1.0.0","SC":"YOUR_INTERSTITIAL_PLACEMENT_ID","O8":"YOUR_BANNER_PLACEMENT_ID"}'),l={SERVER_URL:(()=>{var e;let n="";try{let e=localStorage.getItem("region");e&&(n=e)}catch(e){}if(!n&&"undefined"!=typeof navigator&&navigator.language){let e=navigator.language.split("-");e.length>1&&(n=e[1])}let t=n.toLowerCase();if("beta"===t)return"https://beta.fcde.app";if("development"===t)return"https://fcde.app";let r=null!==(e=({"ca-central-1":"ca.","ap-southeast-2":"au.","eu-west-2":"uk.","ap-northeast-2":""})[t])&&void 0!==e?e:"";return"https://".concat(r,"fcde.app")})(),APP_VERSION:s.hl,FACEBOOK_INTERSTITIAL_PLACEMENT_ID:s.SC,FACEBOOK_BANNER_PLACEMENT_ID:s.O8},i=(0,a.createContext)(null),c=e=>{let{children:n}=e;return(0,r.jsx)(i.Provider,{value:l,children:n})},o=()=>{let e=(0,a.useContext)(i);if(!e)throw Error("useConfig must be used within a ConfigProvider");return e}},62865:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>d});var r=t(95155),a=t(12115),s=t(23464),l=t(61065),i=t(81273),c=t.n(i);let o={ruleId:"",type:"grammar",pattern:"",suggestion:"",description:"",issueType:"",category:{id:"",name:""},languageCode:"",importanceScore:0,difficultyScore:0,originalSentence:"",correctedSentence:""};function d(){let{SERVER_URL:e}=(0,l.U)(),[n,t]=(0,a.useState)([]),[i,d]=(0,a.useState)(!0),[u,h]=(0,a.useState)(o),[m,p]=(0,a.useState)(null),[_,g]=(0,a.useState)(""),[j,C]=(0,a.useState)(!1),[x,v]=(0,a.useState)("[]"),[y,N]=(0,a.useState)(null),[f,S]=(0,a.useState)(""),[A,b]=(0,a.useState)(""),[I,B]=(0,a.useState)(""),E=async()=>{if(!f||!A){B("시작과 종료 ruleId를 모두 입력하세요.");return}if(confirm("".concat(f,"부터 ").concat(A,"까지 정말 삭제할까요?")))try{await s.A.delete("".concat(e,"/api/corrections/range"),{params:{start:f,end:A}}),B(""),S(""),b(""),k()}catch(e){var n,t;B((null===(t=e.response)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.error)||"삭제 실패")}},k=async()=>{d(!0);try{let n=await s.A.get("".concat(e,"/api/corrections"));t(n.data)}catch(e){console.error(e)}d(!1)};(0,a.useEffect)(()=>{k()},[]);let D=e=>n=>{let t=n.target.value;h(n=>({...n,[e]:"importanceScore"===e||"difficultyScore"===e?Number(t):t}))},w=async n=>{n.preventDefault();try{m?await s.A.put("".concat(e,"/api/corrections/").concat(m),u):await s.A.post("".concat(e,"/api/corrections"),u),h(o),p(null),g(""),k()}catch(e){var t,r;g((null===(r=e.response)||void 0===r?void 0:null===(t=r.data)||void 0===t?void 0:t.error)||"Save failed")}},O=async n=>{confirm("Delete?")&&(await s.A.delete("".concat(e,"/api/corrections/").concat(n)),k())},T=async()=>{N(null),g("");try{let n=JSON.parse(x),t=await s.A.post("".concat(e,"/api/corrections/bulk"),n);N(t.data),k()}catch(e){g(e.message)}};return(0,r.jsxs)("div",{className:c().container,children:[(0,r.jsx)("h1",{className:c().header,children:"Admin – Corrections"}),(0,r.jsxs)("div",{className:c().topBar,children:[(0,r.jsx)("button",{className:c().newBtn,onClick:()=>{C(!1),h(o),p(null),g("")},children:"+ New"}),(0,r.jsx)("button",{className:c().jsonBtn,onClick:()=>{C(!j),g("")},children:j?"← Back to form":"⇪ Bulk JSON"}),(0,r.jsxs)("div",{className:c().rangeDelete,children:[(0,r.jsx)("input",{className:c().rangeInput,placeholder:"Start ruleId",value:f,onChange:e=>S(e.target.value)}),(0,r.jsx)("input",{className:c().rangeInput,placeholder:"End ruleId",value:A,onChange:e=>b(e.target.value)}),(0,r.jsx)("button",{className:c().delBtn,onClick:E,children:"Delete Range"})]}),I&&(0,r.jsx)("div",{className:c().error,children:I})]}),j&&(0,r.jsxs)("div",{className:c().jsonCard,children:[(0,r.jsx)("textarea",{className:c().jsonArea,value:x,onChange:e=>v(e.target.value),placeholder:'[ { "ruleId": "...", "type": "grammar", ... }, ... ]'}),(0,r.jsx)("div",{className:c().actions,children:(0,r.jsx)("button",{className:c().saveBtn,onClick:T,children:"Upload JSON"})}),y&&(0,r.jsx)("pre",{className:c().jsonResp,children:JSON.stringify(y,null,2)}),_&&(0,r.jsx)("div",{className:c().error,children:_})]}),!j&&(0,r.jsxs)("form",{className:c().form,onSubmit:w,children:[_&&(0,r.jsx)("div",{className:c().error,children:_}),[{label:"Rule ID",key:"ruleId",disabled:!!m},{label:"Pattern",key:"pattern"},{label:"Suggestion",key:"suggestion"},{label:"Description",key:"description"},{label:"Issue Type",key:"issueType"},{label:"Category ID",key:"category.id"},{label:"Category Name",key:"category.name"},{label:"Language Code",key:"languageCode"},{label:"Original Sentence",key:"originalSentence"},{label:"Corrected Sentence",key:"correctedSentence"}].map(e=>{let{label:n,key:t,disabled:a}=e,[s,l]=t.split("."),i=l?u[s][l]:u[s];return(0,r.jsxs)("div",{className:c().row,children:[(0,r.jsx)("label",{children:n}),(0,r.jsx)("input",{value:i,disabled:a,onChange:e=>{l?h(n=>({...n,[s]:{...n[s],[l]:e.target.value}})):D(s)(e)},required:["ruleId","suggestion","description","category.id","category.name","languageCode","originalSentence","correctedSentence"].includes(t)})]},t)}),(0,r.jsxs)("div",{className:c().row,children:[(0,r.jsx)("label",{children:"Type"}),(0,r.jsxs)("select",{value:u.type,onChange:D("type"),children:[(0,r.jsx)("option",{value:"grammar",children:"Grammar"}),(0,r.jsx)("option",{value:"expression",children:"Expression"})]})]}),(0,r.jsxs)("div",{className:c().row,children:[(0,r.jsx)("label",{children:"Importance"}),(0,r.jsx)("input",{type:"number",min:0,max:10,value:u.importanceScore,onChange:D("importanceScore")})]}),(0,r.jsxs)("div",{className:c().row,children:[(0,r.jsx)("label",{children:"Difficulty"}),(0,r.jsx)("input",{type:"number",min:0,max:10,value:u.difficultyScore,onChange:D("difficultyScore")})]}),(0,r.jsxs)("div",{className:c().actions,children:[(0,r.jsx)("button",{className:c().saveBtn,type:"submit",children:m?"Update":"Create"}),(0,r.jsx)("button",{className:c().cancelBtn,type:"button",onClick:()=>{h(o),p(null)},children:"Cancel"})]})]}),i?(0,r.jsx)("p",{className:c().loader,children:"Loading…"}):(0,r.jsxs)("table",{className:c().table,children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"ID"}),(0,r.jsx)("th",{children:"Type"}),(0,r.jsx)("th",{children:"Suggestion"}),(0,r.jsx)("th",{children:"Category"}),(0,r.jsx)("th",{children:"Lang"}),(0,r.jsx)("th",{children:"Imp"}),(0,r.jsx)("th",{children:"Diff"}),(0,r.jsx)("th",{children:"⋯"})]})}),(0,r.jsx)("tbody",{children:n.map(e=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:e.ruleId}),(0,r.jsx)("td",{children:e.type}),(0,r.jsx)("td",{children:e.suggestion}),(0,r.jsxs)("td",{children:[e.category.id,"/",e.category.name]}),(0,r.jsx)("td",{children:e.languageCode}),(0,r.jsx)("td",{children:e.importanceScore}),(0,r.jsx)("td",{children:e.difficultyScore}),(0,r.jsxs)("td",{className:c().actionsCell,children:[(0,r.jsx)("button",{className:c().editBtn,onClick:()=>{h(e),p(e.ruleId),C(!1)},children:"✎"}),(0,r.jsx)("button",{className:c().delBtn,onClick:()=>O(e.ruleId),children:"\uD83D\uDDD1"})]})]},e.ruleId))})]})]})}},81273:e=>{e.exports={container:"AdminCorrections_container__t4CzX",topBar:"AdminCorrections_topBar__bkqMk",rangeDelete:"AdminCorrections_rangeDelete__HHhgh",rangeInput:"AdminCorrections_rangeInput__PEEBg",header:"AdminCorrections_header__rFe9D",newBtn:"AdminCorrections_newBtn__Uh4Zn",jsonBtn:"AdminCorrections_jsonBtn__e3Zvb",form:"AdminCorrections_form__ARWzs",jsonCard:"AdminCorrections_jsonCard__B9fip",row:"AdminCorrections_row__0eoUy",actions:"AdminCorrections_actions__LLpU_",saveBtn:"AdminCorrections_saveBtn__JqNeW",cancelBtn:"AdminCorrections_cancelBtn__GwX_E",error:"AdminCorrections_error__Pf3NA",loader:"AdminCorrections_loader__JqXDI",table:"AdminCorrections_table__Av208",actionsCell:"AdminCorrections_actionsCell__zDFY0",editBtn:"AdminCorrections_editBtn__uJ3Z7",delBtn:"AdminCorrections_delBtn__KTKWD",jsonArea:"AdminCorrections_jsonArea__VEtof",jsonResp:"AdminCorrections_jsonResp__YTHra"}},85356:(e,n,t)=>{Promise.resolve().then(t.bind(t,62865))}},e=>{var n=n=>e(e.s=n);e.O(0,[8758,3464,8441,1684,7358],()=>n(85356)),_N_E=e.O()}]);