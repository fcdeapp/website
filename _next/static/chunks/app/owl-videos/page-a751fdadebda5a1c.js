(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4350],{22903:(e,a,i)=>{Promise.resolve().then(i.bind(i,27440))},27440:(e,a,i)=>{"use strict";i.r(a),i.d(a,{default:()=>d});var t=i(95155),l=i(12115),n=i(23464),s=i(61065),o=i(31801),r=i.n(o);function d(){let{SERVER_URL:e}=(0,s.U)(),a="ap-northeast-2",[i,o]=(0,l.useState)([]),[d,c]=(0,l.useState)(""),[u,m]=(0,l.useState)(""),[p,_]=(0,l.useState)(""),[h,v]=(0,l.useState)({}),[g,x]=(0,l.useState)({}),[N,w]=(0,l.useState)([{image:null,audio:null,video:null,prompt:""}]);(0,l.useEffect)(()=>{j()},[]),(0,l.useEffect)(()=>{let e=localStorage.getItem("userId");e&&c(e)},[]);let j=async()=>{try{let i=await n.A.get("".concat(e,"/owl-videos?region=").concat(a),{withCredentials:!0});o(i.data)}catch(e){console.error("Error fetching owl videos",e)}},f=async()=>{if(!d||!u){alert("User ID, country required.");return}let i=new FormData;i.append("userId",d),i.append("country",u),i.append("description",p),i.append("region",a),N.forEach(e=>{e.image&&i.append("images",e.image,e.image.name),e.audio&&i.append("audios",e.audio,e.audio.name),e.video&&i.append("videos",e.video,e.video.name),i.append("prompts",e.prompt)});try{await n.A.post("".concat(e,"/owl-videos"),i,{headers:{"Content-Type":"multipart/form-data"},withCredentials:!0}),m(""),_(""),w([{image:null,audio:null,video:null,prompt:""}]),j()}catch(e){console.error("Error creating owl video",e),alert("Failed to create.")}},C=async(i,t,l,s)=>{let o=new FormData;o.append("region",a),o.append(l,s);try{await n.A.patch("".concat(e,"/owl-videos/").concat(i,"/scenes/").concat(t,"/").concat(l),o,{headers:{"Content-Type":"multipart/form-data"},withCredentials:!0}),j()}catch(e){console.error("Error updating ".concat(l),e),alert("Failed to update ".concat(l,"."))}},O=async(i,t)=>{let l="".concat(i,"-").concat(t);v(e=>({...e,[l]:!0}));try{let s=g[l]||"";await n.A.post("".concat(e,"/owl-videos/").concat(i,"/scenes/").concat(t,"/generate-video"),{region:a,prompt:s},{withCredentials:!0}),alert("Video generation started.")}catch(e){console.error("Error generating video",e),alert("Failed to start video generation.")}finally{v(e=>({...e,[l]:!1}))}},V=async i=>{if(confirm("Delete this video entirely?"))try{await n.A.delete("".concat(e,"/owl-videos/").concat(i,"?region=").concat(a),{withCredentials:!0}),j()}catch(e){console.error("Error deleting owl video",e),alert("Failed to delete.")}},b=e=>w(a=>a.filter((a,i)=>i!==e)),y=(e,a,i)=>w(t=>t.map((t,l)=>l===e?{...t,[a]:i}:t));return(0,t.jsxs)("div",{className:r().container,children:[(0,t.jsx)("header",{className:r().header,children:(0,t.jsx)("h1",{className:r().title,children:"Owl Videos Management"})}),(0,t.jsxs)("main",{className:r().main,children:[(0,t.jsxs)("section",{className:r().section,children:[(0,t.jsx)("h2",{className:r().sectionTitle,children:"Create New Owl Video"}),(0,t.jsxs)("div",{className:r().formRow,children:[(0,t.jsx)("input",{type:"text",placeholder:"User ID",value:d,readOnly:!0,className:r().input}),(0,t.jsxs)("select",{value:u,onChange:e=>m(e.target.value),className:r().input,children:[(0,t.jsx)("option",{value:"",children:"Select country"}),(0,t.jsx)("option",{value:"Canada",children:"Canada"}),(0,t.jsx)("option",{value:"Australia",children:"Australia"}),(0,t.jsx)("option",{value:"United Kingdom",children:"United Kingdom"}),(0,t.jsx)("option",{value:"South Korea",children:"South Korea"})]})]}),(0,t.jsx)("div",{className:r().formRow,children:(0,t.jsx)("textarea",{placeholder:"Description",value:p,onChange:e=>_(e.target.value),className:r().textarea})}),N.map((e,a)=>(0,t.jsxs)("div",{className:r().sceneCard,children:[(0,t.jsxs)("h3",{children:["New Scene ",a+1]}),(0,t.jsxs)("div",{className:r().mediaRow,children:[(0,t.jsx)("div",{className:r().mediaBox,children:(0,t.jsxs)("button",{className:r().fileBtn,children:[e.image?e.image.name:"Select Image",(0,t.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{var i;return y(a,"image",(null===(i=e.target.files)||void 0===i?void 0:i[0])||null)}})]})}),(0,t.jsx)("div",{className:r().mediaBox,children:(0,t.jsxs)("button",{className:r().fileBtnLight,children:[e.audio?e.audio.name:"Select Audio",(0,t.jsx)("input",{type:"file",accept:"audio/*",onChange:e=>{var i;return y(a,"audio",(null===(i=e.target.files)||void 0===i?void 0:i[0])||null)}})]})}),(0,t.jsx)("div",{className:r().mediaBox,children:(0,t.jsxs)("button",{className:r().fileBtn,children:[e.video?e.video.name:"Select Video",(0,t.jsx)("input",{type:"file",accept:"video/*",onChange:e=>{var i;return y(a,"video",(null===(i=e.target.files)||void 0===i?void 0:i[0])||null)}})]})})]}),(0,t.jsx)("input",{type:"text",placeholder:"Scene prompt",value:e.prompt,onChange:e=>y(a,"prompt",e.target.value),className:r().input}),N.length>1&&(0,t.jsx)("button",{onClick:()=>b(a),className:r().removeButton,children:"Remove Scene"})]},a)),(0,t.jsxs)("button",{onClick:()=>w(e=>[...e,{image:null,audio:null,video:null,prompt:""}]),className:r().button,children:[(0,t.jsx)("span",{className:r().plus,children:"ï¼‹"})," Add Scene"]}),(0,t.jsx)("button",{onClick:f,className:r().buttonPrimary,children:"Create Owl Video"})]}),(0,t.jsxs)("section",{className:r().section,children:[(0,t.jsx)("h2",{className:r().sectionTitle,children:"Existing Owl Videos"}),0===i.length&&(0,t.jsx)("p",{children:"No videos found."}),i.map(e=>(0,t.jsxs)("div",{className:r().videoCard,children:[(0,t.jsxs)("div",{className:r().cardHeader,children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"Country:"})," ",e.country," \xa0|\xa0",(0,t.jsx)("strong",{children:"Uploaded:"})," ",new Date(e.uploadedAt).toLocaleString()]}),(0,t.jsx)("button",{onClick:()=>V(e._id),className:r().deleteButton,children:"Delete Video"})]}),(0,t.jsx)("p",{className:r().description,children:e.description}),(0,t.jsx)("div",{className:r().scenesContainer,children:e.scenes.map(a=>(0,t.jsxs)("div",{className:r().sceneCard,children:[(0,t.jsxs)("h3",{children:["Scene ",a.sceneNumber]}),(0,t.jsxs)("div",{className:r().mediaRow,children:[(0,t.jsxs)("div",{className:r().mediaBox,children:[(0,t.jsx)("img",{src:a.imageUrl,alt:"scene ".concat(a.sceneNumber),className:r().previewImage}),(0,t.jsxs)("label",{className:r().fileBtnSmall,children:[(0,t.jsx)("input",{type:"file",accept:"image/*",onChange:i=>{var t;return(null===(t=i.target.files)||void 0===t?void 0:t[0])&&C(e._id,a.sceneNumber,"image",i.target.files[0])},className:r().fileInput}),(0,t.jsx)("i",{className:"icon-upload"})," Change Image"]})]}),(0,t.jsxs)("div",{className:r().mediaBox,children:[(0,t.jsx)("audio",{controls:!0,src:a.audioUrl,className:r().audioPlayer}),(0,t.jsxs)("label",{className:r().patchLabel,children:["Change Audio",(0,t.jsx)("input",{type:"file",accept:"audio/*",onChange:i=>{var t;return(null===(t=i.target.files)||void 0===t?void 0:t[0])&&C(e._id,a.sceneNumber,"audio",i.target.files[0])},className:r().fileInput})]})]}),(0,t.jsxs)("div",{className:r().mediaBox,children:[(0,t.jsx)("video",{controls:!0,src:a.videoUrl,className:r().videoPlayer}),(0,t.jsxs)("label",{className:r().patchLabel,children:["Change Video",(0,t.jsx)("input",{type:"file",accept:"video/*",onChange:i=>{var t;return(null===(t=i.target.files)||void 0===t?void 0:t[0])&&C(e._id,a.sceneNumber,"video",i.target.files[0])},className:r().fileInput})]})]})]}),a.imageUrl&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("input",{type:"text",placeholder:"Enter generation prompt",value:g["".concat(e._id,"-").concat(a.sceneNumber)]||"",onChange:i=>x(t=>({...t,["".concat(e._id,"-").concat(a.sceneNumber)]:i.target.value})),className:r().input}),(0,t.jsx)("button",{onClick:()=>O(e._id,a.sceneNumber),disabled:h["".concat(e._id,"-").concat(a.sceneNumber)],className:r().generateButton,children:h["".concat(e._id,"-").concat(a.sceneNumber)]?"Generating...":"Generate Video"})]})]},a.sceneNumber))})]},e._id))]})]})]})}},31801:e=>{e.exports={container:"OwlVideos_container__x4Hj0",header:"OwlVideos_header__NAM_3",title:"OwlVideos_title__Z_0X3",main:"OwlVideos_main__PMN_7",createSection:"OwlVideos_createSection__M9uLk",sectionTitle:"OwlVideos_sectionTitle__6YcJQ",formRow:"OwlVideos_formRow__yRGmp",input:"OwlVideos_input__fl_66",select:"OwlVideos_select__wdKDG",textarea:"OwlVideos_textarea__R3G9W",sceneGrid:"OwlVideos_sceneGrid__r7C5r",sceneCard:"OwlVideos_sceneCard__q9Bk5",fileLabel:"OwlVideos_fileLabel__jJrf3",promptInput:"OwlVideos_promptInput__r1oSX",listSection:"OwlVideos_listSection__ISu9L",videoGrid:"OwlVideos_videoGrid__kUXXI",videoCard:"OwlVideos_videoCard__u1JII",cardHeader:"OwlVideos_cardHeader__j9_26",deleteButton:"OwlVideos_deleteButton__GrR__",previewImage:"OwlVideos_previewImage__lTLGa",mediaRow:"OwlVideos_mediaRow__SbgZc",mediaBox:"OwlVideos_mediaBox__tHpOS",audioPlayer:"OwlVideos_audioPlayer__RymaL",videoPlayer:"OwlVideos_videoPlayer__mn3pF",patchLabel:"OwlVideos_patchLabel__NJP44",generateButton:"OwlVideos_generateButton__fRshA",description:"OwlVideos_description__8C7bQ",fileBtn:"OwlVideos_fileBtn__T42z1",fileBtnLight:"OwlVideos_fileBtnLight__QwqM2",fileBtnSmall:"OwlVideos_fileBtnSmall__gB87p",addScene:"OwlVideos_addScene__Wc6H7",plus:"OwlVideos_plus__Bj9mP",buttonPrimary:"OwlVideos_buttonPrimary__X5EQr"}},61065:(e,a,i)=>{"use strict";i.d(a,{s:()=>r,U:()=>d});var t=i(95155),l=i(12115);let n=JSON.parse('{"hl":"1.0.0","SC":"YOUR_INTERSTITIAL_PLACEMENT_ID","O8":"YOUR_BANNER_PLACEMENT_ID"}'),s={SERVER_URL:(()=>{let e="KR";if("undefined"!=typeof navigator&&navigator.language){let a=navigator.language.split("-");a.length>1&&(e=a[1])}let a="";switch(e.toUpperCase()){case"CA":a="ca.";break;case"AU":a="au.";break;case"GB":a="uk.";break;default:a=""}return console.log("domainPrefix: ",a),console.log("region: ",e),"https://beta.fcde.app"})(),APP_VERSION:n.hl,FACEBOOK_INTERSTITIAL_PLACEMENT_ID:n.SC,FACEBOOK_BANNER_PLACEMENT_ID:n.O8},o=(0,l.createContext)(null),r=e=>{let{children:a}=e;return(0,t.jsx)(o.Provider,{value:s,children:a})},d=()=>{let e=(0,l.useContext)(o);if(!e)throw Error("useConfig must be used within a ConfigProvider");return e}}},e=>{var a=a=>e(e.s=a);e.O(0,[7218,3464,8441,1684,7358],()=>a(22903)),_N_E=e.O()}]);