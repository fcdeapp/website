(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4350],{22903:(e,a,t)=>{Promise.resolve().then(t.bind(t,27440))},27440:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>c});var s=t(95155),i=t(12115),l=t(23464),n=t(61065),o=t(31801),r=t.n(o);function c(){let{SERVER_URL:e}=(0,n.U)(),a="ap-northeast-2",[t,o]=(0,i.useState)([]),[c,d]=(0,i.useState)(""),[u,_]=(0,i.useState)(""),[p,m]=(0,i.useState)(""),[h,g]=(0,i.useState)({}),[N,w]=(0,i.useState)(null),[f,v]=(0,i.useState)(null),[x,C]=(0,i.useState)(null),j=async(t,s)=>{let i="".concat(t,"-").concat(s);g(e=>({...e,[i]:!0}));try{await l.A.post("".concat(e,"/owl-videos/").concat(t,"/scenes/").concat(s,"/generate-video"),{region:a},{withCredentials:!0}),alert("Video generation started.")}catch(e){console.error("Error generating video",e),alert("Failed to start video generation.")}finally{g(e=>({...e,[i]:!1}))}};(0,i.useEffect)(()=>{b()},[]);let b=async()=>{try{let t=await l.A.get("".concat(e,"/owl-videos?region=").concat(a),{withCredentials:!0});o(t.data)}catch(e){console.error("Error fetching owl videos",e)}},O=async()=>{if(!c||!u||!N||!f||!x){alert("userId, country, and at least one file of each type are required.");return}let t=new FormData;t.append("userId",c),t.append("country",u),t.append("description",p),t.append("region",a),Array.from(N).forEach(e=>t.append("images",e)),Array.from(f).forEach(e=>t.append("audios",e)),Array.from(x).forEach(e=>t.append("videos",e));try{await l.A.post("".concat(e,"/owl-videos"),t,{headers:{"Content-Type":"multipart/form-data"},withCredentials:!0}),d(""),_(""),m(""),w(null),v(null),C(null),b()}catch(e){console.error("Error creating owl video",e),alert("Failed to create.")}},y=async(t,s,i,n)=>{let o=new FormData;o.append("region",a),o.append(i,n);try{await l.A.patch("".concat(e,"/owl-videos/").concat(t,"/scenes/").concat(s,"/").concat(i),o,{headers:{"Content-Type":"multipart/form-data"},withCredentials:!0}),b()}catch(e){console.error("Error updating ".concat(i),e),alert("Failed to update ".concat(i,"."))}},V=async t=>{if(confirm("Delete this video entirely?"))try{await l.A.delete("".concat(e,"/owl-videos/").concat(t,"?region=").concat(a),{withCredentials:!0}),b()}catch(e){console.error("Error deleting owl video",e),alert("Failed to delete.")}};return(0,s.jsxs)("div",{className:r().container,children:[(0,s.jsx)("header",{className:r().header,children:(0,s.jsx)("h1",{className:r().title,children:"Owl Videos Management"})}),(0,s.jsxs)("main",{className:r().main,children:[(0,s.jsxs)("section",{className:r().section,children:[(0,s.jsx)("h2",{className:r().sectionTitle,children:"Create New Owl Video"}),(0,s.jsxs)("div",{className:r().formRow,children:[(0,s.jsx)("input",{type:"text",placeholder:"User ID",value:c,onChange:e=>d(e.target.value),className:r().input}),(0,s.jsx)("input",{type:"text",placeholder:"Country",value:u,onChange:e=>_(e.target.value),className:r().input})]}),(0,s.jsx)("div",{className:r().formRow,children:(0,s.jsx)("textarea",{placeholder:"Description",value:p,onChange:e=>m(e.target.value),className:r().textarea})}),(0,s.jsxs)("div",{className:r().formRow,children:[(0,s.jsxs)("label",{className:r().fileLabel,children:["Images",(0,s.jsx)("input",{type:"file",multiple:!0,accept:"image/*",onChange:e=>w(e.target.files),className:r().fileInput})]}),(0,s.jsxs)("label",{className:r().fileLabel,children:["Audios",(0,s.jsx)("input",{type:"file",multiple:!0,accept:"audio/*",onChange:e=>v(e.target.files),className:r().fileInput})]}),(0,s.jsxs)("label",{className:r().fileLabel,children:["Videos",(0,s.jsx)("input",{type:"file",multiple:!0,accept:"video/*",onChange:e=>C(e.target.files),className:r().fileInput})]})]}),(0,s.jsx)("button",{onClick:O,className:r().button,children:"Create Owl Video"})]}),(0,s.jsxs)("section",{className:r().section,children:[(0,s.jsx)("h2",{className:r().sectionTitle,children:"Existing Owl Videos"}),0===t.length&&(0,s.jsx)("p",{children:"No videos found."}),t.map(e=>(0,s.jsxs)("div",{className:r().videoCard,children:[(0,s.jsxs)("div",{className:r().cardHeader,children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Country:"})," ",e.country," \xa0| \xa0",(0,s.jsx)("strong",{children:"Uploaded:"})," ",new Date(e.uploadedAt).toLocaleString()]}),(0,s.jsx)("button",{onClick:()=>V(e._id),className:r().deleteButton,children:"Delete Video"})]}),(0,s.jsx)("p",{className:r().description,children:e.description}),(0,s.jsx)("div",{className:r().scenesContainer,children:e.scenes.map(a=>(0,s.jsxs)("div",{className:r().sceneCard,children:[(0,s.jsxs)("h3",{children:["Scene ",a.sceneNumber]}),(0,s.jsxs)("div",{className:r().mediaRow,children:[(0,s.jsxs)("div",{className:r().mediaBox,children:[(0,s.jsx)("img",{src:a.imageUrl,alt:"scene ".concat(a.sceneNumber),className:r().previewImage}),(0,s.jsxs)("label",{className:r().patchLabel,children:["Change Image",(0,s.jsx)("input",{type:"file",accept:"image/*",onChange:t=>{var s;(null===(s=t.target.files)||void 0===s?void 0:s[0])&&y(e._id,a.sceneNumber,"image",t.target.files[0])},className:r().fileInput})]})]}),(0,s.jsxs)("div",{className:r().mediaBox,children:[(0,s.jsx)("audio",{controls:!0,src:a.audioUrl,className:r().audioPlayer}),(0,s.jsxs)("label",{className:r().patchLabel,children:["Change Audio",(0,s.jsx)("input",{type:"file",accept:"audio/*",onChange:t=>{var s;(null===(s=t.target.files)||void 0===s?void 0:s[0])&&y(e._id,a.sceneNumber,"audio",t.target.files[0])},className:r().fileInput})]})]}),(0,s.jsxs)("div",{className:r().mediaBox,children:[(0,s.jsx)("video",{controls:!0,src:a.videoUrl,className:r().videoPlayer}),(0,s.jsxs)("label",{className:r().patchLabel,children:["Change Video",(0,s.jsx)("input",{type:"file",accept:"video/*",onChange:t=>{var s;(null===(s=t.target.files)||void 0===s?void 0:s[0])&&y(e._id,a.sceneNumber,"video",t.target.files[0])},className:r().fileInput})]})]})]}),(0,s.jsx)("button",{onClick:()=>j(e._id,a.sceneNumber),disabled:h["".concat(e._id,"-").concat(a.sceneNumber)],className:r().generateButton,children:h["".concat(e._id,"-").concat(a.sceneNumber)]?"Generating...":"Generate Video"})]},a.sceneNumber))})]},e._id))]})]})]})}},31801:e=>{e.exports={container:"OwlVideos_container__x4Hj0",header:"OwlVideos_header__NAM_3",title:"OwlVideos_title__Z_0X3",main:"OwlVideos_main__PMN_7",section:"OwlVideos_section__WaQNf",sectionTitle:"OwlVideos_sectionTitle__6YcJQ",formRow:"OwlVideos_formRow__yRGmp",input:"OwlVideos_input__fl_66",textarea:"OwlVideos_textarea__R3G9W",fileLabel:"OwlVideos_fileLabel__jJrf3",fileInput:"OwlVideos_fileInput__X_awQ",button:"OwlVideos_button__Tc_Fb",videoCard:"OwlVideos_videoCard__u1JII",cardHeader:"OwlVideos_cardHeader__j9_26",description:"OwlVideos_description__8C7bQ",deleteButton:"OwlVideos_deleteButton__GrR__",scenesContainer:"OwlVideos_scenesContainer__w31D8",sceneCard:"OwlVideos_sceneCard__q9Bk5",mediaRow:"OwlVideos_mediaRow__SbgZc",mediaBox:"OwlVideos_mediaBox__tHpOS",previewImage:"OwlVideos_previewImage__lTLGa",audioPlayer:"OwlVideos_audioPlayer__RymaL",videoPlayer:"OwlVideos_videoPlayer__mn3pF",patchLabel:"OwlVideos_patchLabel__NJP44",generateButton:"OwlVideos_generateButton__fRshA"}},61065:(e,a,t)=>{"use strict";t.d(a,{s:()=>r,U:()=>c});var s=t(95155),i=t(12115);let l=JSON.parse('{"hl":"1.0.0","SC":"YOUR_INTERSTITIAL_PLACEMENT_ID","O8":"YOUR_BANNER_PLACEMENT_ID"}'),n={SERVER_URL:(()=>{let e="KR";if("undefined"!=typeof navigator&&navigator.language){let a=navigator.language.split("-");a.length>1&&(e=a[1])}let a="";switch(e.toUpperCase()){case"CA":a="ca.";break;case"AU":a="au.";break;case"GB":a="uk.";break;default:a=""}return console.log("domainPrefix: ",a),console.log("region: ",e),"https://beta.fcde.app"})(),APP_VERSION:l.hl,FACEBOOK_INTERSTITIAL_PLACEMENT_ID:l.SC,FACEBOOK_BANNER_PLACEMENT_ID:l.O8},o=(0,i.createContext)(null),r=e=>{let{children:a}=e;return(0,s.jsx)(o.Provider,{value:n,children:a})},c=()=>{let e=(0,i.useContext)(o);if(!e)throw Error("useConfig must be used within a ConfigProvider");return e}}},e=>{var a=a=>e(e.s=a);e.O(0,[7218,3464,8441,1684,7358],()=>a(22903)),_N_E=e.O()}]);