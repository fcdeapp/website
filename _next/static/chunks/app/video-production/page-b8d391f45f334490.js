(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3226],{5984:e=>{e.exports={container:"VideoProductionPage_container__0p1bN",scrollContent:"VideoProductionPage_scrollContent__tLjEv",pageTitle:"VideoProductionPage_pageTitle__qyqHo",formContainer:"VideoProductionPage_formContainer__pXf2G",stepContainer:"VideoProductionPage_stepContainer__83zX0",formLabel:"VideoProductionPage_formLabel__ms0no",subLabel:"VideoProductionPage_subLabel__W2ap0",textInput:"VideoProductionPage_textInput__oUJxa",picker:"VideoProductionPage_picker__JkZZD",button:"VideoProductionPage_button__JG0S0",buttonWide:"VideoProductionPage_buttonWide__xCWoB",buttonContainer:"VideoProductionPage_buttonContainer__YN7NB",buttonContainerImages:"VideoProductionPage_buttonContainerImages__475dP",buttonContainerVertical:"VideoProductionPage_buttonContainerVertical__ad6FX",editButtonContainer:"VideoProductionPage_editButtonContainer__ewJzT",stepTitle:"VideoProductionPage_stepTitle__gWl8_",resultContainer:"VideoProductionPage_resultContainer__jmaY_",resultText:"VideoProductionPage_resultText__TQcV9",infoText:"VideoProductionPage_infoText__IEN_K",errorText:"VideoProductionPage_errorText__7B2TI",sceneContainer:"VideoProductionPage_sceneContainer__3XCwg",sceneHeader:"VideoProductionPage_sceneHeader__1SDMe",imagePreview:"VideoProductionPage_imagePreview__ShWmk",loader:"VideoProductionPage_loader__J10Vw",spinner:"VideoProductionPage_spinner__6ZCZ9",spin:"VideoProductionPage_spin__W6bwL"}},32229:(e,a,t)=>{"use strict";t.d(a,{default:()=>d});var s=t(95155),n=t(12115),i=t(35695),o=t(23464),l=t(61065),r=t(5984),c=t.n(r);let d=()=>{let e=(0,i.useRouter)(),a=(0,i.useSearchParams)(),{SERVER_URL:t}=(0,l.U)(),[r,d]=(0,n.useState)(null),[u,m]=(0,n.useState)(0),[h,p]=(0,n.useState)(!1),[x,g]=(0,n.useState)(""),[N,v]=(0,n.useState)("Canada"),[_,j]=(0,n.useState)("Custom"),[C,b]=(0,n.useState)(""),[P,f]=(0,n.useState)(3),[S,T]=(0,n.useState)("DREAMSTUDIO"),[w,y]=(0,n.useState)(null),[V,k]=(0,n.useState)(null),[E,I]=(0,n.useState)(!1),[L,A]=(0,n.useState)([]),[R,U]=(0,n.useState)([]),[D,O]=(0,n.useState)([]),[B,M]=(0,n.useState)(""),F=()=>g("");(0,n.useEffect)(()=>{let e=a.get("taskId");e&&d(e)},[a]),(0,n.useEffect)(()=>{r||(async()=>{p(!0);try{let e=await o.A.post("".concat(t,"/api/video-tasks"),null,{withCredentials:!0});d(e.data.task._id)}catch(e){g(e.message)}finally{p(!1)}})()},[t,r]),(0,n.useEffect)(()=>{r&&(async()=>{p(!0);try{let e=(await o.A.get("".concat(t,"/api/video-tasks/").concat(r),{withCredentials:!0})).data.task;e.scenario&&(y(e.scenario),k(e.scenario)),A(e.audioUrls||[]),U(e.sceneImages||[]),O(e.videoUrls||[]),M(e.finalVideoUrl||""),m(e.currentStep||0)}catch(e){g(e.message)}finally{p(!1)}})()},[t,r]);let W=async()=>{F(),p(!0);try{let{scenario:e,newsArticles:a=[]}=(await o.A.post("".concat(t,"/api/video-production"),{action:"generate-scenario",country:N,conceptMode:_,concept:"Custom"===_?C:"",sceneCount:P,taskId:r},{withCredentials:!0})).data;y({...e,newsArticles:a}),k({...e,newsArticles:a}),m(1)}catch(e){g(e.message||"Failed to generate scenario.")}finally{p(!1)}},K=async()=>{F(),p(!0);try{if(!V)throw Error("No scenario.");let e=await Promise.all(V.scenes.map(async e=>(await o.A.post("".concat(t,"/api/video-production"),{action:"generate-tts",text:e.dialogues[0],taskId:r},{withCredentials:!0})).data.audio_url));A(e),m(2)}catch(e){g(e.message||"TTS failed.")}finally{p(!1)}},G=async()=>{F(),p(!0);try{if(!w)throw Error("No scenario.");let e=await Promise.all(w.scenes.map(async e=>(await o.A.post("".concat(t,"/api/video-production"),{action:"generate-image",prompt:"".concat(e.scenePrompt," in 9:16 aspect ratio for a reel video"),source:S,taskId:r},{withCredentials:!0})).data.image_url));U(e),m(3)}catch(e){g(e.message||"Image gen failed.")}finally{p(!1)}},H=async()=>{F(),p(!0);try{if(!w)throw Error("No scenario.");let e=await Promise.all(w.scenes.map(async(e,a)=>{let s="SKIP"===S?{action:"generate-video",videoMode:"text",prompt:w.scenes[a].scenePrompt,duration:"5",ratio:"9:16",model:"kling-video/v1.6/standard/text-to-video",taskId:r}:{action:"generate-video",videoMode:"image",image:R[a],prompt:w.scenes[a].scenePrompt,duration:"5",ratio:"9:16",model:"kling-video/v1.6/standard/image-to-video",taskId:r};return(await o.A.post("".concat(t,"/api/video-production"),s,{withCredentials:!0})).data.video_url}));O(e),m(4)}catch(e){g(e.message||"Video clip gen failed.")}finally{p(!1)}},J=async()=>{F(),p(!0);try{if(L.length!==D.length)throw Error("Mismatch clips.");let e=await o.A.post("".concat(t,"/api/video-production"),{action:"merge-video",videoUrls:D,audioUrls:L,taskId:r},{withCredentials:!0});M(e.data.mergedVideoUrl),m(5)}catch(e){g(e.message||"Merge failed.")}finally{p(!1)}},Y=async e=>{F(),p(!0);try{await o.A.post("".concat(t,"/api/video-production"),{action:"upload-final-video",taskId:r,platform:e},{withCredentials:!0}),alert("Uploaded to ".concat(e,"!")),m(6)}catch(e){alert(e.message)}finally{p(!1)}},X=async()=>{if(!B)return alert("No video.");if(navigator.share)try{await navigator.share({title:"Final Video",url:B})}catch(e){alert(e.message)}else{let e=document.createElement("a");e.href=B,e.download="video.mp4",document.body.appendChild(e),e.click(),document.body.removeChild(e)}};return(0,s.jsx)("div",{className:c().container,children:(0,s.jsxs)("div",{className:c().scrollContent,children:[(0,s.jsx)("h1",{className:c().pageTitle,children:"Video Production Workflow"}),(()=>{switch(u){case 0:return(0,s.jsxs)("div",{className:c().formContainer,children:[(0,s.jsx)("label",{className:c().formLabel,children:"Select Country:"}),(0,s.jsxs)("select",{value:N,onChange:e=>v(e.target.value),className:c().picker,children:[(0,s.jsx)("option",{value:"",children:"None"}),(0,s.jsx)("option",{value:"Canada",children:"Canada"}),(0,s.jsx)("option",{value:"Australia",children:"Australia"}),(0,s.jsx)("option",{value:"United Kingdom",children:"United Kingdom"})]}),(0,s.jsx)("label",{className:c().formLabel,children:"Select Concept Mode:"}),(0,s.jsxs)("select",{value:_,onChange:e=>j(e.target.value),className:c().picker,children:[(0,s.jsx)("option",{value:"News",children:"News"}),(0,s.jsx)("option",{value:"Custom",children:"Custom"})]}),"Custom"===_&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("label",{className:c().formLabel,children:"Concept (opt.):"}),(0,s.jsx)("textarea",{className:c().textInput,placeholder:"e.g., funny, surprising",maxLength:100,value:C,onChange:e=>b(e.target.value)})]}),(0,s.jsx)("label",{className:c().formLabel,children:"Number of Scenes:"}),(0,s.jsx)("select",{value:P,onChange:e=>f(Number(e.target.value)),className:c().picker,children:Array.from({length:10},(e,a)=>a+1).map(e=>(0,s.jsx)("option",{value:e,children:e},e))}),(0,s.jsx)("button",{className:c().button,onClick:W,children:(0,s.jsx)("span",{className:c().buttonText,children:"Generate Scenario"})})]});case 1:var a;return(0,s.jsxs)("div",{className:c().stepContainer,children:[(0,s.jsx)("h2",{className:c().stepTitle,children:"Scenario Result"}),V?(0,s.jsxs)("div",{className:c().resultContainer,children:[(0,s.jsxs)("p",{className:c().resultText,children:["Overall: ",V.scenario]}),V.scenes.map((e,a)=>(0,s.jsxs)("div",{className:c().sceneContainer,children:[(0,s.jsxs)("h3",{className:c().sceneHeader,children:["Scene ",e.sceneNumber]}),(0,s.jsx)("label",{className:c().subLabel,children:"Dialogues:"}),E?e.dialogues.map((e,t)=>(0,s.jsx)("textarea",{className:c().textInput,maxLength:1e3,value:V.scenes[a].dialogues[t],onChange:e=>{let s={...V};s.scenes[a].dialogues[t]=e.target.value,k(s)}},t)):e.dialogues.map((e,a)=>(0,s.jsxs)("p",{className:c().resultText,children:["- ",e]},a)),(0,s.jsx)("label",{className:c().subLabel,children:"Prompt:"}),E?(0,s.jsx)("textarea",{className:c().textInput,maxLength:1e3,value:V.scenes[a].scenePrompt,onChange:e=>{let t={...V};t.scenes[a].scenePrompt=e.target.value,k(t)}}):(0,s.jsx)("p",{className:c().resultText,children:e.scenePrompt})]},a)),(null==w?void 0:null===(a=w.newsArticles)||void 0===a?void 0:a.length)>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h3",{className:c().stepTitle,children:"Source Articles"}),w.newsArticles.map((e,a)=>(0,s.jsxs)("div",{className:c().sceneContainer,children:[(0,s.jsx)("p",{className:c().subLabel,children:e.title}),(0,s.jsx)("p",{className:c().resultText,children:e.source.name}),(0,s.jsx)("a",{className:c().resultText,style:{color:"blue"},href:e.url,target:"_blank",rel:"noopener noreferrer",children:"Read full article"})]},a))]})]}):(0,s.jsx)("p",{className:c().infoText,children:"No scenario yet."}),(0,s.jsxs)("div",{className:c().editButtonContainer,children:[(0,s.jsx)("button",{className:c().button,onClick:()=>{E&&w&&k(w),I(!E)},children:(0,s.jsx)("span",{className:c().buttonText,children:E?"Cancel Edit":"Edit Scenario"})}),E&&(0,s.jsx)("button",{className:c().button,onClick:()=>{V&&(y(V),I(!1))},children:(0,s.jsx)("span",{className:c().buttonText,children:"Save Changes"})}),(0,s.jsx)("button",{className:c().button,onClick:K,children:(0,s.jsx)("span",{className:c().buttonText,children:"Next: Convert to Speech"})})]})]});case 2:return(0,s.jsxs)("div",{className:c().stepContainer,children:[(0,s.jsx)("h2",{className:c().stepTitle,children:"Step\xa02: TTS Conversion"}),(0,s.jsx)("div",{className:c().resultContainer,children:L.map((e,a)=>(0,s.jsxs)("p",{className:c().resultText,children:["Audio Clip ",a+1,": ",e]},a))}),(0,s.jsx)("label",{className:c().formLabel,children:"Select Image Source:"}),(0,s.jsxs)("select",{value:S,onChange:e=>T(e.target.value),className:c().picker,children:[(0,s.jsx)("option",{value:"DREAMSTUDIO",children:"DreamStudio"}),(0,s.jsx)("option",{value:"DALL-E",children:"DALL\xb7E\xa03"}),(0,s.jsx)("option",{value:"LoRA",children:"LoRA"}),(0,s.jsx)("option",{value:"SKIP",children:"Skip"})]}),(0,s.jsx)("div",{className:c().buttonContainerImages,children:"SKIP"===S?(0,s.jsx)("button",{className:c().button,onClick:()=>{U([]),m(3)},children:(0,s.jsx)("span",{className:c().buttonText,children:"Next: Skip Image Generation"})}):(0,s.jsx)("button",{className:c().button,onClick:G,children:(0,s.jsx)("span",{className:c().buttonText,children:"Next: Generate Images"})})})]});case 3:return(0,s.jsxs)("div",{className:c().stepContainer,children:[(0,s.jsx)("h2",{className:c().stepTitle,children:"Step\xa03: Scene Images"}),(0,s.jsx)("div",{className:c().resultContainer,children:R.map((e,a)=>(0,s.jsxs)("div",{className:c().sceneContainer,children:[(0,s.jsxs)("h3",{className:c().sceneHeader,children:["Scene ",null==V?void 0:V.scenes[a].sceneNumber]}),(0,s.jsx)("img",{src:e,className:c().imagePreview,alt:"scene ".concat(a+1)}),(0,s.jsx)("p",{className:c().subLabel,children:"Dialogues:"}),null==V?void 0:V.scenes[a].dialogues.map((e,a)=>(0,s.jsxs)("p",{className:c().resultText,children:["- ",e]},a))]},a))}),(0,s.jsx)("div",{className:c().buttonContainer,children:(0,s.jsx)("button",{className:c().button,onClick:H,children:(0,s.jsx)("span",{className:c().buttonText,children:"Next: Generate Video Clips"})})})]});case 4:return(0,s.jsxs)("div",{className:c().stepContainer,children:[(0,s.jsx)("h2",{className:c().stepTitle,children:"Step\xa04: Video Clips"}),(0,s.jsx)("div",{className:c().resultContainer,children:D.map((e,a)=>(0,s.jsxs)("div",{className:c().sceneContainer,children:[(0,s.jsxs)("h3",{className:c().sceneHeader,children:["Scene ",null==V?void 0:V.scenes[a].sceneNumber]}),(0,s.jsx)("video",{src:e,controls:!0,style:{width:"100%",height:250,borderRadius:10,marginBottom:5}}),(0,s.jsx)("p",{className:c().subLabel,children:"Dialogues:"}),null==V?void 0:V.scenes[a].dialogues.map((e,a)=>(0,s.jsxs)("p",{className:c().resultText,children:["- ",e]},a))]},a))}),(0,s.jsx)("div",{className:c().buttonContainer,children:(0,s.jsx)("button",{className:c().button,onClick:J,children:(0,s.jsx)("span",{className:c().buttonText,children:"Next: Merge Video"})})})]});case 5:return(0,s.jsxs)("div",{className:c().stepContainer,children:[(0,s.jsx)("h2",{className:c().stepTitle,children:"Step\xa05: Final Video"}),B?(0,s.jsx)("video",{src:B,controls:!0,autoPlay:!0,style:{width:"100%",height:250,borderRadius:10,marginBottom:5}}):(0,s.jsx)("p",{className:c().infoText,children:"No merged video yet."}),(0,s.jsxs)("div",{className:c().buttonContainerVertical,children:[["Instagram","Facebook","TikTok","Twitter","YouTube"].map(e=>(0,s.jsx)("button",{className:c().buttonWide,onClick:()=>Y(e),children:(0,s.jsxs)("span",{className:c().buttonText,children:["Upload to ",e]})},e)),(0,s.jsx)("button",{className:c().button,onClick:()=>Y("ALL"),children:(0,s.jsx)("span",{className:c().buttonText,children:"Upload All"})})]}),(0,s.jsxs)("div",{className:c().buttonContainer,children:[(0,s.jsx)("button",{className:c().button,onClick:X,children:(0,s.jsx)("span",{className:c().buttonText,children:"Download/Share Video"})}),(0,s.jsx)("button",{className:c().button,onClick:()=>e.back(),children:(0,s.jsx)("span",{className:c().buttonText,children:"Back to Settings"})})]})]});default:return null}})(),x&&(0,s.jsx)("p",{className:c().errorText,children:x}),h&&(0,s.jsx)("div",{className:c().loader,children:(0,s.jsx)("div",{className:c().spinner})})]})})}},35695:(e,a,t)=>{"use strict";var s=t(18999);t.o(s,"usePathname")&&t.d(a,{usePathname:function(){return s.usePathname}}),t.o(s,"useRouter")&&t.d(a,{useRouter:function(){return s.useRouter}}),t.o(s,"useSearchParams")&&t.d(a,{useSearchParams:function(){return s.useSearchParams}})},61065:(e,a,t)=>{"use strict";t.d(a,{s:()=>r,U:()=>c});var s=t(95155),n=t(12115);let i=JSON.parse('{"hl":"1.0.0","SC":"YOUR_INTERSTITIAL_PLACEMENT_ID","O8":"YOUR_BANNER_PLACEMENT_ID"}'),o={SERVER_URL:(()=>{var e;let a="";try{let e=localStorage.getItem("region");e&&(a=e)}catch(e){}if(!a&&"undefined"!=typeof navigator&&navigator.language){let e=navigator.language.split("-");e.length>1&&(a=e[1])}let t=a.toLowerCase();if("beta"===t)return"https://beta.fcde.app";if("development"===t)return"https://fcde.app";let s=null!==(e=({"ca-central-1":"ca.","ap-southeast-2":"au.","eu-west-2":"uk.","ap-northeast-2":""})[t])&&void 0!==e?e:"";return"https://".concat(s,"fcde.app")})(),APP_VERSION:i.hl,FACEBOOK_INTERSTITIAL_PLACEMENT_ID:i.SC,FACEBOOK_BANNER_PLACEMENT_ID:i.O8},l=(0,n.createContext)(null),r=e=>{let{children:a}=e;return(0,s.jsx)(l.Provider,{value:o,children:a})},c=()=>{let e=(0,n.useContext)(l);if(!e)throw Error("useConfig must be used within a ConfigProvider");return e}},80175:(e,a,t)=>{Promise.resolve().then(t.bind(t,32229))}},e=>{var a=a=>e(e.s=a);e.O(0,[8199,3464,8441,1684,7358],()=>a(80175)),_N_E=e.O()}]);