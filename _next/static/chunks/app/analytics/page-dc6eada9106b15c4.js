(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1745],{18495:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var s=a(95155),n=a(12115),r=a(23464),i=a(32502),l=a(64065),o=a(61065),d=a(97896),c=a.n(d);i.t1.register(i.PP,i.kc,i.FN,i.No,i.hE,i.m_,i.s$);let h=["ap-northeast-2","ap-southeast-2","ca-central-1","eu-west-2"];function u(){let{SERVER_URL:e}=(0,o.U)(),[t,a]=(0,n.useState)(h[0]),[i,d]=(0,n.useState)(()=>{let e=new Date;return e.setDate(e.getDate()-7),e.toISOString().slice(0,10)}),[u,x]=(0,n.useState)(new Date().toISOString().slice(0,10)),[b,p]=(0,n.useState)([]),[j,g]=(0,n.useState)(!1),[m,A]=(0,n.useState)("");(0,n.useEffect)(()=>{t&&i&&u&&(g(!0),A(""),r.A.get("".concat(e,"/api/admin/analytics/range?region=").concat(t,"&start=").concat(i,"&end=").concat(u),{withCredentials:!0}).then(e=>p(e.data.analytics)).catch(e=>{console.error(e),A("데이터를 불러오는 중 오류가 발생했습니다.")}).finally(()=>g(!1)))},[e,t,i,u]);let C=b.map(e=>e.date.slice(0,10)),_={labels:C,datasets:[{label:"Total Users",data:b.map(e=>e.totalUsers),borderColor:"#556cd6",backgroundColor:"transparent",tension:.3},{label:"Daily Active",data:b.map(e=>e.dailyActiveUsers),borderColor:"#19857b",backgroundColor:"transparent",tension:.3}]},N={labels:C,datasets:[{label:"App Load",data:b.map(e=>e.avgAppLoadCount),borderColor:"#556cd6",backgroundColor:"transparent",tension:.3},{label:"Map Search",data:b.map(e=>e.avgMapSearchCount),borderColor:"#19857b",backgroundColor:"transparent",tension:.3},{label:"AI Posts",data:b.map(e=>e.avgAiPostCount),borderColor:"#ff8a65",backgroundColor:"transparent",tension:.3},{label:"Banner Ads",data:b.map(e=>e.avgBannerAdViewCount),borderColor:"#9c27b0",backgroundColor:"transparent",tension:.3},{label:"Interstitial Ads",data:b.map(e=>e.avgInterstitialAdViewCount),borderColor:"#ffca28",backgroundColor:"transparent",tension:.3},{label:"Buddy Groups",data:b.map(e=>e.avgBuddyGroups),borderColor:"#00838f",backgroundColor:"transparent",tension:.3}]},v={labels:C,datasets:[{label:"Trust Badge",data:b.map(e=>100*e.trustBadgeRatio),borderColor:"#556cd6",backgroundColor:"transparent",tension:.3},{label:"Push Notif",data:b.map(e=>100*e.pushNotificationEnabledRatio),borderColor:"#19857b",backgroundColor:"transparent",tension:.3},{label:"New Msg",data:b.map(e=>100*e.newMessageEnabledRatio),borderColor:"#ff8a65",backgroundColor:"transparent",tension:.3},{label:"Account Public",data:b.map(e=>100*e.isAccountPublicRatio),borderColor:"#9c27b0",backgroundColor:"transparent",tension:.3},{label:"Email Verified",data:b.map(e=>100*e.isEmailVerifiedRatio),borderColor:"#ffca28",backgroundColor:"transparent",tension:.3},{label:"Google Account",data:b.map(e=>100*e.isGoogleAccountRatio),borderColor:"#00838f",backgroundColor:"transparent",tension:.3}]};return(0,s.jsxs)("div",{className:c().container,children:[(0,s.jsx)("h1",{className:c().header,children:"\uD83D\uDCCA User Analytics Dashboard"}),(0,s.jsxs)("div",{className:c().toolbar,children:[(0,s.jsxs)("div",{className:c().filters,children:[(0,s.jsxs)("div",{className:c().filterItem,children:[(0,s.jsx)("label",{children:"Region"}),(0,s.jsx)("select",{value:t,onChange:e=>a(e.target.value),children:h.map(e=>(0,s.jsx)("option",{value:e,children:e},e))})]}),(0,s.jsxs)("div",{className:c().filterItem,children:[(0,s.jsx)("label",{children:"Start Date"}),(0,s.jsx)("input",{type:"date",value:i,onChange:e=>d(e.target.value)})]}),(0,s.jsxs)("div",{className:c().filterItem,children:[(0,s.jsx)("label",{children:"End Date"}),(0,s.jsx)("input",{type:"date",value:u,onChange:e=>x(e.target.value)})]})]}),(0,s.jsx)("button",{className:c().downloadButton,onClick:()=>{let e="analytics_".concat(t,"_").concat(i,"_").concat(u,".json"),a=new Blob([JSON.stringify(b,null,2)],{type:"application/json"}),s=URL.createObjectURL(a),n=document.createElement("a");n.href=s,n.download=e,n.click(),URL.revokeObjectURL(s)},disabled:!b.length,children:"Download JSON"})]}),j?(0,s.jsx)("div",{className:c().loader,children:"Loading analytics…"}):m?(0,s.jsx)("div",{className:c().error,children:m}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("section",{className:c().section,children:[(0,s.jsxs)("div",{className:c().tableWrapper,children:[(0,s.jsx)("h2",{className:c().sectionTitle,children:"Users & Daily Active"}),(0,s.jsxs)("table",{className:c().table,children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Date"}),(0,s.jsx)("th",{children:"Total Users"}),(0,s.jsx)("th",{children:"Daily Active"})]})}),(0,s.jsx)("tbody",{children:b.map(e=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:e.date.slice(0,10)}),(0,s.jsx)("td",{children:e.totalUsers}),(0,s.jsx)("td",{children:e.dailyActiveUsers})]},e.date))})]})]}),(0,s.jsx)("div",{className:c().chartContainer,children:(0,s.jsx)(l.N1,{data:_,options:{responsive:!0,plugins:{legend:{position:"bottom"}},scales:{y:{beginAtZero:!0}}}})})]}),(0,s.jsxs)("section",{className:c().section,children:[(0,s.jsxs)("div",{className:c().tableWrapper,children:[(0,s.jsx)("h2",{className:c().sectionTitle,children:"Usage Counts"}),(0,s.jsxs)("table",{className:c().table,children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Date"}),(0,s.jsx)("th",{children:"App Load"}),(0,s.jsx)("th",{children:"Map Search"}),(0,s.jsx)("th",{children:"AI Posts"}),(0,s.jsx)("th",{children:"Banner Ads"}),(0,s.jsx)("th",{children:"Interstitial Ads"}),(0,s.jsx)("th",{children:"Buddy Groups"})]})}),(0,s.jsx)("tbody",{children:b.map(e=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:e.date.slice(0,10)}),(0,s.jsx)("td",{children:e.avgAppLoadCount.toFixed(1)}),(0,s.jsx)("td",{children:e.avgMapSearchCount.toFixed(1)}),(0,s.jsx)("td",{children:e.avgAiPostCount.toFixed(1)}),(0,s.jsx)("td",{children:e.avgBannerAdViewCount.toFixed(1)}),(0,s.jsx)("td",{children:e.avgInterstitialAdViewCount.toFixed(1)}),(0,s.jsx)("td",{children:e.avgBuddyGroups.toFixed(1)})]},e.date))})]})]}),(0,s.jsx)("div",{className:c().chartContainer,children:(0,s.jsx)(l.N1,{data:N,options:{responsive:!0,plugins:{legend:{position:"bottom"}},scales:{y:{beginAtZero:!0}}}})})]}),(0,s.jsxs)("section",{className:c().section,children:[(0,s.jsxs)("div",{className:c().tableWrapper,children:[(0,s.jsx)("h2",{className:c().sectionTitle,children:"Feature Ratios (%)"}),(0,s.jsxs)("table",{className:c().table,children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Date"}),(0,s.jsx)("th",{children:"Trust Badge"}),(0,s.jsx)("th",{children:"Push Notif"}),(0,s.jsx)("th",{children:"New Msg"}),(0,s.jsx)("th",{children:"Public Acc"}),(0,s.jsx)("th",{children:"Email Verified"}),(0,s.jsx)("th",{children:"Google Acc"})]})}),(0,s.jsx)("tbody",{children:b.map(e=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:e.date.slice(0,10)}),(0,s.jsxs)("td",{children:[(100*e.trustBadgeRatio).toFixed(1),"%"]}),(0,s.jsxs)("td",{children:[(100*e.pushNotificationEnabledRatio).toFixed(1),"%"]}),(0,s.jsxs)("td",{children:[(100*e.newMessageEnabledRatio).toFixed(1),"%"]}),(0,s.jsxs)("td",{children:[(100*e.isAccountPublicRatio).toFixed(1),"%"]}),(0,s.jsxs)("td",{children:[(100*e.isEmailVerifiedRatio).toFixed(1),"%"]}),(0,s.jsxs)("td",{children:[(100*e.isGoogleAccountRatio).toFixed(1),"%"]})]},e.date))})]})]}),(0,s.jsx)("div",{className:c().chartContainer,children:(0,s.jsx)(l.N1,{data:v,options:{responsive:!0,plugins:{legend:{position:"bottom"}},scales:{y:{beginAtZero:!0,ticks:{callback:e=>"".concat(e,"%")}}}}})})]})]})]})}},24592:(e,t,a)=>{Promise.resolve().then(a.bind(a,18495))},61065:(e,t,a)=>{"use strict";a.d(t,{s:()=>o,U:()=>d});var s=a(95155),n=a(12115);let r=JSON.parse('{"hl":"1.0.0","SC":"YOUR_INTERSTITIAL_PLACEMENT_ID","O8":"YOUR_BANNER_PLACEMENT_ID"}'),i={SERVER_URL:(()=>{let e="KR";if("undefined"!=typeof navigator&&navigator.language){let t=navigator.language.split("-");t.length>1&&(e=t[1])}let t="";switch(e.toUpperCase()){case"CA":t="ca.";break;case"AU":t="au.";break;case"GB":t="uk.";break;default:t=""}return console.log("domainPrefix: ",t),console.log("region: ",e),"https://beta.fcde.app"})(),APP_VERSION:r.hl,FACEBOOK_INTERSTITIAL_PLACEMENT_ID:r.SC,FACEBOOK_BANNER_PLACEMENT_ID:r.O8},l=(0,n.createContext)(null),o=e=>{let{children:t}=e;return(0,s.jsx)(l.Provider,{value:i,children:t})},d=()=>{let e=(0,n.useContext)(l);if(!e)throw Error("useConfig must be used within a ConfigProvider");return e}},97896:e=>{e.exports={container:"AdminAnalytics_container__y3TFA",header:"AdminAnalytics_header__klgLW",toolbar:"AdminAnalytics_toolbar__iIcBz",filters:"AdminAnalytics_filters__IKIEe",filterItem:"AdminAnalytics_filterItem__U9vOL",downloadButton:"AdminAnalytics_downloadButton__GqqQN",loader:"AdminAnalytics_loader__1RdUt",error:"AdminAnalytics_error__qSNei",section:"AdminAnalytics_section__ej_cM",sectionTitle:"AdminAnalytics_sectionTitle__PYvXe",tableWrapper:"AdminAnalytics_tableWrapper__ojxNR",table:"AdminAnalytics_table__bGqPw",chartContainer:"AdminAnalytics_chartContainer__DyJj2"}}},e=>{var t=t=>e(e.s=t);e.O(0,[3163,5647,3464,6693,8441,1684,7358],()=>t(24592)),_N_E=e.O()}]);