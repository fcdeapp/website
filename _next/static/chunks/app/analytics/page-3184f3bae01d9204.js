(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1745],{18495:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>u});var s=t(95155),r=t(12115),n=t(23464),i=t(32502),l=t(64065),o=t(61065),d=t(97896),c=t.n(d);i.t1.register(i.PP,i.kc,i.FN,i.No,i.hE,i.m_,i.s$);let h=["ap-northeast-2","ap-southeast-2","ca-central-1","eu-west-2"];function u(){let{SERVER_URL:e}=(0,o.U)(),[a,t]=(0,r.useState)(h[0]),[i,d]=(0,r.useState)(()=>{let e=new Date;return e.setDate(e.getDate()-7),e.toISOString().slice(0,10)}),[u,x]=(0,r.useState)(new Date().toISOString().slice(0,10)),[p,b]=(0,r.useState)([]),[j,g]=(0,r.useState)(!1),[m,A]=(0,r.useState)("");(0,r.useEffect)(()=>{a&&i&&u&&(g(!0),A(""),n.A.get("".concat(e,"/api/admin/analytics/range?region=").concat(a,"&start=").concat(i,"&end=").concat(u),{withCredentials:!0}).then(e=>b(e.data.analytics)).catch(e=>{console.error(e),A("데이터를 불러오는 중 오류가 발생했습니다.")}).finally(()=>g(!1)))},[e,a,i,u]);let C=p.map(e=>e.date.slice(0,10)),_={labels:C,datasets:[{label:"Total Users",data:p.map(e=>e.totalUsers),borderColor:"#556cd6",backgroundColor:"transparent",tension:.3},{label:"Daily Active",data:p.map(e=>e.dailyActiveUsers),borderColor:"#19857b",backgroundColor:"transparent",tension:.3}]},v={labels:C,datasets:[{label:"App Load",data:p.map(e=>e.avgAppLoadCount),borderColor:"#556cd6",backgroundColor:"transparent",tension:.3},{label:"Map Search",data:p.map(e=>e.avgMapSearchCount),borderColor:"#19857b",backgroundColor:"transparent",tension:.3},{label:"AI Posts",data:p.map(e=>e.avgAiPostCount),borderColor:"#ff8a65",backgroundColor:"transparent",tension:.3},{label:"Banner Ads",data:p.map(e=>e.avgBannerAdViewCount),borderColor:"#9c27b0",backgroundColor:"transparent",tension:.3},{label:"Interstitial Ads",data:p.map(e=>e.avgInterstitialAdViewCount),borderColor:"#ffca28",backgroundColor:"transparent",tension:.3},{label:"Buddy Groups",data:p.map(e=>e.avgBuddyGroups),borderColor:"#00838f",backgroundColor:"transparent",tension:.3}]},N={labels:C,datasets:[{label:"Trust Badge",data:p.map(e=>100*e.trustBadgeRatio),borderColor:"#556cd6",backgroundColor:"transparent",tension:.3},{label:"Push Notif",data:p.map(e=>100*e.pushNotificationEnabledRatio),borderColor:"#19857b",backgroundColor:"transparent",tension:.3},{label:"New Msg",data:p.map(e=>100*e.newMessageEnabledRatio),borderColor:"#ff8a65",backgroundColor:"transparent",tension:.3},{label:"Account Public",data:p.map(e=>100*e.isAccountPublicRatio),borderColor:"#9c27b0",backgroundColor:"transparent",tension:.3},{label:"Email Verified",data:p.map(e=>100*e.isEmailVerifiedRatio),borderColor:"#ffca28",backgroundColor:"transparent",tension:.3},{label:"Google Account",data:p.map(e=>100*e.isGoogleAccountRatio),borderColor:"#00838f",backgroundColor:"transparent",tension:.3}]};return(0,s.jsxs)("div",{className:c().container,children:[(0,s.jsx)("h1",{className:c().header,children:"\uD83D\uDCCA User Analytics Dashboard"}),(0,s.jsxs)("div",{className:c().filters,children:[(0,s.jsxs)("div",{className:c().filterItem,children:[(0,s.jsx)("label",{children:"Region"}),(0,s.jsx)("select",{value:a,onChange:e=>t(e.target.value),children:h.map(e=>(0,s.jsx)("option",{value:e,children:e},e))})]}),(0,s.jsxs)("div",{className:c().filterItem,children:[(0,s.jsx)("label",{children:"Start Date"}),(0,s.jsx)("input",{type:"date",value:i,onChange:e=>d(e.target.value)})]}),(0,s.jsxs)("div",{className:c().filterItem,children:[(0,s.jsx)("label",{children:"End Date"}),(0,s.jsx)("input",{type:"date",value:u,onChange:e=>x(e.target.value)})]})]}),j?(0,s.jsx)("div",{className:c().loader,children:"Loading analytics…"}):m?(0,s.jsx)("div",{className:c().error,children:m}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("section",{className:c().section,children:[(0,s.jsxs)("div",{className:c().tableWrapper,children:[(0,s.jsx)("h2",{className:c().sectionTitle,children:"Users & Daily Active"}),(0,s.jsxs)("table",{className:c().table,children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Date"}),(0,s.jsx)("th",{children:"Total Users"}),(0,s.jsx)("th",{children:"Daily Active"})]})}),(0,s.jsx)("tbody",{children:p.map(e=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:e.date.slice(0,10)}),(0,s.jsx)("td",{children:e.totalUsers}),(0,s.jsx)("td",{children:e.dailyActiveUsers})]},e.date))})]})]}),(0,s.jsx)("div",{className:c().chartContainer,children:(0,s.jsx)(l.N1,{data:_,options:{responsive:!0,plugins:{legend:{position:"bottom"}},scales:{y:{beginAtZero:!0}}}})})]}),(0,s.jsxs)("section",{className:c().section,children:[(0,s.jsxs)("div",{className:c().tableWrapper,children:[(0,s.jsx)("h2",{className:c().sectionTitle,children:"Usage Counts"}),(0,s.jsxs)("table",{className:c().table,children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Date"}),(0,s.jsx)("th",{children:"App Load"}),(0,s.jsx)("th",{children:"Map Search"}),(0,s.jsx)("th",{children:"AI Posts"}),(0,s.jsx)("th",{children:"Banner Ads"}),(0,s.jsx)("th",{children:"Interstitial Ads"}),(0,s.jsx)("th",{children:"Buddy Groups"})]})}),(0,s.jsx)("tbody",{children:p.map(e=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:e.date.slice(0,10)}),(0,s.jsx)("td",{children:e.avgAppLoadCount.toFixed(1)}),(0,s.jsx)("td",{children:e.avgMapSearchCount.toFixed(1)}),(0,s.jsx)("td",{children:e.avgAiPostCount.toFixed(1)}),(0,s.jsx)("td",{children:e.avgBannerAdViewCount.toFixed(1)}),(0,s.jsx)("td",{children:e.avgInterstitialAdViewCount.toFixed(1)}),(0,s.jsx)("td",{children:e.avgBuddyGroups.toFixed(1)})]},e.date))})]})]}),(0,s.jsx)("div",{className:c().chartContainer,children:(0,s.jsx)(l.N1,{data:v,options:{responsive:!0,plugins:{legend:{position:"bottom"}},scales:{y:{beginAtZero:!0}}}})})]}),(0,s.jsxs)("section",{className:c().section,children:[(0,s.jsxs)("div",{className:c().tableWrapper,children:[(0,s.jsx)("h2",{className:c().sectionTitle,children:"Feature Ratios (%)"}),(0,s.jsxs)("table",{className:c().table,children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Date"}),(0,s.jsx)("th",{children:"Trust Badge"}),(0,s.jsx)("th",{children:"Push Notif"}),(0,s.jsx)("th",{children:"New Msg"}),(0,s.jsx)("th",{children:"Public Acc"}),(0,s.jsx)("th",{children:"Email Verified"}),(0,s.jsx)("th",{children:"Google Acc"})]})}),(0,s.jsx)("tbody",{children:p.map(e=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:e.date.slice(0,10)}),(0,s.jsxs)("td",{children:[(100*e.trustBadgeRatio).toFixed(1),"%"]}),(0,s.jsxs)("td",{children:[(100*e.pushNotificationEnabledRatio).toFixed(1),"%"]}),(0,s.jsxs)("td",{children:[(100*e.newMessageEnabledRatio).toFixed(1),"%"]}),(0,s.jsxs)("td",{children:[(100*e.isAccountPublicRatio).toFixed(1),"%"]}),(0,s.jsxs)("td",{children:[(100*e.isEmailVerifiedRatio).toFixed(1),"%"]}),(0,s.jsxs)("td",{children:[(100*e.isGoogleAccountRatio).toFixed(1),"%"]})]},e.date))})]})]}),(0,s.jsx)("div",{className:c().chartContainer,children:(0,s.jsx)(l.N1,{data:N,options:{responsive:!0,plugins:{legend:{position:"bottom"}},scales:{y:{beginAtZero:!0,ticks:{callback:e=>"".concat(e,"%")}}}}})})]})]})]})}},24592:(e,a,t)=>{Promise.resolve().then(t.bind(t,18495))},61065:(e,a,t)=>{"use strict";t.d(a,{s:()=>o,U:()=>d});var s=t(95155),r=t(12115);let n=JSON.parse('{"hl":"1.0.0","SC":"YOUR_INTERSTITIAL_PLACEMENT_ID","O8":"YOUR_BANNER_PLACEMENT_ID"}'),i={SERVER_URL:(()=>{let e="KR";if("undefined"!=typeof navigator&&navigator.language){let a=navigator.language.split("-");a.length>1&&(e=a[1])}let a="";switch(e.toUpperCase()){case"CA":a="ca.";break;case"AU":a="au.";break;case"GB":a="uk.";break;default:a=""}return console.log("domainPrefix: ",a),console.log("region: ",e),"https://beta.fcde.app"})(),APP_VERSION:n.hl,FACEBOOK_INTERSTITIAL_PLACEMENT_ID:n.SC,FACEBOOK_BANNER_PLACEMENT_ID:n.O8},l=(0,r.createContext)(null),o=e=>{let{children:a}=e;return(0,s.jsx)(l.Provider,{value:i,children:a})},d=()=>{let e=(0,r.useContext)(l);if(!e)throw Error("useConfig must be used within a ConfigProvider");return e}},97896:e=>{e.exports={container:"AdminAnalytics_container__y3TFA",header:"AdminAnalytics_header__klgLW",filters:"AdminAnalytics_filters__IKIEe",filterItem:"AdminAnalytics_filterItem__U9vOL",loader:"AdminAnalytics_loader__1RdUt",error:"AdminAnalytics_error__qSNei",section:"AdminAnalytics_section__ej_cM",sectionTitle:"AdminAnalytics_sectionTitle__PYvXe",tableWrapper:"AdminAnalytics_tableWrapper__ojxNR",table:"AdminAnalytics_table__bGqPw",chartContainer:"AdminAnalytics_chartContainer__DyJj2"}}},e=>{var a=a=>e(e.s=a);e.O(0,[3163,5647,3464,6693,8441,1684,7358],()=>a(24592)),_N_E=e.O()}]);