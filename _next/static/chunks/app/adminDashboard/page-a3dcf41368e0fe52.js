(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5502],{5924:e=>{e.exports={container:"AdminDashboard_container__JLNKn",header:"AdminDashboard_header__WJb6S",tabContainer:"AdminDashboard_tabContainer__maR9G",activeTab:"AdminDashboard_activeTab__Jxtcw",content:"AdminDashboard_content__VRhJN",cards:"AdminDashboard_cards__3J5ab",card:"AdminDashboard_card__TKj8v",chartCard:"AdminDashboard_chartCard__2Fevt",section:"AdminDashboard_section__k7yGb",loader:"AdminDashboard_loader__ANpI_"}},8592:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>p});var t=s(95155),r=s(12115),i=s(23464),n=s(64065),d=s(32502),l=s(61065),o=s(5924),c=s.n(o);d.t1.register(d.PP,d.kc,d.FN,d.No,d.Bs,d.hE,d.m_,d.s$);let h=e=>isNaN(e)||null==e?0:e,m=e=>isNaN(e)?"N/A":"".concat((100*e).toFixed(1),"%");function p(){let{SERVER_URL:e}=(0,l.U)(),[a,s]=(0,r.useState)([]),[d,o]=(0,r.useState)(!0),[p,b]=(0,r.useState)("combined");if((0,r.useEffect)(()=>{i.A.get("".concat(e,"/api/admin/stats")).then(e=>s(e.data.allStats||[])).catch(console.error).finally(()=>o(!1))},[e]),d)return(0,t.jsx)("div",{className:c().loader,children:"Loading dashboardâ€¦"});if(!a.length)return(0,t.jsx)("div",{className:c().loader,children:"No data available"});let x=a[0],u=a.map(e=>e.date),j=a.map(e=>h(e.combined.users.dau)),N=a.map(e=>h(e.combined.users.mau)),C=a.map(e=>h(100*e.retentionRateD7)),_=a.map(e=>h(100*e.retentionRateD30));return(0,t.jsxs)("div",{className:c().container,children:[(0,t.jsx)("h1",{className:c().header,children:"Admin Dashboard"}),(0,t.jsx)("nav",{className:c().tabContainer,children:["combined","regional","history"].map(e=>(0,t.jsx)("button",{className:p===e?c().activeTab:"",onClick:()=>b(e),children:e.charAt(0).toUpperCase()+e.slice(1)},e))}),(0,t.jsxs)("section",{className:c().content,children:["combined"===p&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:c().cards,children:[(0,t.jsxs)("div",{className:c().card,children:[(0,t.jsx)("h2",{children:"User Stats"}),(0,t.jsxs)("p",{children:["Total: ",h(x.combined.users.total)]}),(0,t.jsxs)("p",{children:["DAU: ",h(x.combined.users.dau)]}),(0,t.jsxs)("p",{children:["MAU: ",h(x.combined.users.mau)]})]}),(0,t.jsxs)("div",{className:c().card,children:[(0,t.jsx)("h2",{children:"New Users (7d)"}),(0,t.jsx)("p",{children:x.combined.users.newUsers.map(e=>e.count).reduce((e,a)=>e+a,0)})]}),(0,t.jsxs)("div",{className:c().card,children:[(0,t.jsx)("h2",{children:"Reports"}),(0,t.jsxs)("p",{children:["Total: ",h(x.combined.reports.total)]}),(0,t.jsxs)("p",{children:["Inquiries: ",h(x.combined.reports.inquiries)]})]}),(0,t.jsxs)("div",{className:c().card,children:[(0,t.jsx)("h2",{children:"Buddy & District"}),(0,t.jsxs)("p",{children:["Groups: ",h(x.combined.buddy.groups)]}),(0,t.jsxs)("p",{children:["District Chats: ",h(x.combined.districtsChat.total)]})]})]}),(0,t.jsxs)("div",{className:c().chartCard,children:[(0,t.jsx)("h3",{children:"DAU & MAU Trends"}),(0,t.jsx)(n.N1,{data:{labels:u,datasets:[{label:"DAU",data:j,borderColor:"#6C63FF",fill:!1},{label:"MAU",data:N,borderColor:"#FF6B6B",fill:!1}]},options:{maintainAspectRatio:!1}})]}),(0,t.jsxs)("div",{className:c().chartCard,children:[(0,t.jsx)("h3",{children:"Retention Rates"}),(0,t.jsx)(n.N1,{data:{labels:u,datasets:[{label:"D7 Retention (%)",data:C,borderColor:"#6C63FF",fill:!1},{label:"D30 Retention (%)",data:_,borderColor:"#FF6B6B",fill:!1}]},options:{maintainAspectRatio:!1}})]}),(0,t.jsxs)("div",{className:c().chartCard,children:[(0,t.jsx)("h3",{children:"New Users Over Last 7 Days"}),(0,t.jsx)(n.N1,{data:{labels:x.combined.users.newUsers.map(e=>e._id),datasets:[{label:"New Users",data:x.combined.users.newUsers.map(e=>h(e.count)),borderColor:"#120C3A",fill:!1}]},options:{maintainAspectRatio:!1}})]}),(0,t.jsxs)("div",{className:c().chartCard,children:[(0,t.jsx)("h3",{children:"Reports vs Inquiries"}),(0,t.jsx)(n.Fq,{data:{labels:["Reports","Inquiries"],datasets:[{data:[h(x.combined.reports.total),h(x.combined.reports.inquiries)],backgroundColor:["#FF6B6B","#120C3A"]}]},options:{maintainAspectRatio:!1}})]}),(0,t.jsxs)("div",{className:c().card,children:[(0,t.jsx)("h3",{children:"Other Metrics"}),(0,t.jsxs)("p",{children:["Viral Coefficient: ",x.viralCoefficient.toFixed(2)]}),(0,t.jsxs)("p",{children:["Network Effect: ",x.networkEffect.toFixed(2)]}),(0,t.jsxs)("p",{children:["Organic Growth: ",m(x.organicGrowthRate)]})]})]}),"regional"===p&&(0,t.jsx)("div",{className:c().section,children:x.byRegion.map(e=>(0,t.jsxs)("div",{className:c().card,children:[(0,t.jsx)("h3",{children:e.region}),(0,t.jsxs)("p",{children:["Users: ",h(e.stats.users.total)]}),(0,t.jsxs)("p",{children:["DAU: ",h(e.stats.users.dau)]}),(0,t.jsxs)("p",{children:["MAU: ",h(e.stats.users.mau)]}),(0,t.jsxs)("p",{children:["Reports: ",h(e.stats.reports.total)]}),(0,t.jsxs)("p",{children:["Inquiries: ",h(e.stats.reports.inquiries)]}),(0,t.jsxs)("p",{children:["District Chats: ",h(e.stats.districtsChat.total)]})]},e.region))}),"history"===p&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:c().chartCard,children:[(0,t.jsx)("h3",{children:"Total Users Over Time"}),(0,t.jsx)(n.N1,{data:{labels:u,datasets:[{label:"Total Users",data:a.map(e=>h(e.combined.users.total)),borderColor:"#120C3A",fill:!1}]},options:{maintainAspectRatio:!1}})]}),(0,t.jsxs)("div",{className:c().chartCard,children:[(0,t.jsx)("h3",{children:"Viral & Network Effect"}),(0,t.jsx)(n.N1,{data:{labels:u,datasets:[{label:"Viral Coef",data:a.map(e=>h(e.viralCoefficient)),borderColor:"#6C63FF",fill:!1},{label:"Network Eff",data:a.map(e=>h(e.networkEffect)),borderColor:"#FF6B6B",fill:!1}]},options:{maintainAspectRatio:!1}})]}),(0,t.jsxs)("div",{className:c().chartCard,children:[(0,t.jsx)("h3",{children:"Organic Growth Over Time"}),(0,t.jsx)(n.N1,{data:{labels:u,datasets:[{label:"Organic Growth (%)",data:a.map(e=>h(100*e.organicGrowthRate)),borderColor:"#120C3A",fill:!1}]},options:{maintainAspectRatio:!1}})]})]})]})]})}},61065:(e,a,s)=>{"use strict";s.d(a,{s:()=>l,U:()=>o});var t=s(95155),r=s(12115);let i=JSON.parse('{"hl":"1.0.0","SC":"YOUR_INTERSTITIAL_PLACEMENT_ID","O8":"YOUR_BANNER_PLACEMENT_ID"}'),n={SERVER_URL:(()=>{var e;let a="";try{let e=localStorage.getItem("region");e&&(a=e)}catch(e){}if(!a&&"undefined"!=typeof navigator&&navigator.language){let e=navigator.language.split("-");e.length>1&&(a=e[1])}let s=a.toLowerCase();if("beta"===s)return"https://beta.fcde.app";if("development"===s)return"https://fcde.app";let t=null!==(e=({"ca-central-1":"ca.","ap-southeast-2":"au.","eu-west-2":"uk.","ap-northeast-2":""})[s])&&void 0!==e?e:"";return"https://".concat(t,"fcde.app")})(),APP_VERSION:i.hl,FACEBOOK_INTERSTITIAL_PLACEMENT_ID:i.SC,FACEBOOK_BANNER_PLACEMENT_ID:i.O8},d=(0,r.createContext)(null),l=e=>{let{children:a}=e;return(0,t.jsx)(d.Provider,{value:n,children:a})},o=()=>{let e=(0,r.useContext)(d);if(!e)throw Error("useConfig must be used within a ConfigProvider");return e}},95679:(e,a,s)=>{Promise.resolve().then(s.bind(s,8592))}},e=>{var a=a=>e(e.s=a);e.O(0,[3651,5647,3464,6693,8441,1684,7358],()=>a(95679)),_N_E=e.O()}]);