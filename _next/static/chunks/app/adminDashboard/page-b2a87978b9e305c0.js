(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5502],{5924:e=>{e.exports={container:"AdminDashboard_container__JLNKn",header:"AdminDashboard_header__WJb6S",tabContainer:"AdminDashboard_tabContainer__maR9G",activeTab:"AdminDashboard_activeTab__Jxtcw",content:"AdminDashboard_content__VRhJN",cards:"AdminDashboard_cards__3J5ab",card:"AdminDashboard_card__TKj8v",chartCard:"AdminDashboard_chartCard__2Fevt",section:"AdminDashboard_section__k7yGb",loader:"AdminDashboard_loader__ANpI_"}},8592:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>m});var r=a(95155),t=a(12115),i=a(23464),n=a(64065),d=a(32502),l=a(89760),c=a(5924),o=a.n(c);d.t1.register(d.PP,d.kc,d.FN,d.No,d.Bs,d.hE,d.m_,d.s$);let h=e=>isNaN(e)||null==e?0:e,_=e=>isNaN(e)?"N/A":"".concat((100*e).toFixed(1),"%");function m(){let{SERVER_URL:e}=(0,l.U)(),[s,a]=(0,t.useState)([]),[d,c]=(0,t.useState)(!0),[m,E]=(0,t.useState)("combined");if((0,t.useEffect)(()=>{i.A.get("".concat(e,"/api/admin/stats"),{withCredentials:!0}).then(e=>a(e.data.allStats||[])).catch(console.error).finally(()=>c(!1))},[e]),d)return(0,r.jsx)("div",{className:o().loader,children:"Loading dashboardâ€¦"});if(!s.length)return(0,r.jsx)("div",{className:o().loader,children:"No data available"});let N=s[0],b=s.map(e=>e.date),p=s.map(e=>h(e.combined.users.dau)),A=s.map(e=>h(e.combined.users.mau)),x=s.map(e=>h(100*e.retentionRateD7)),C=s.map(e=>h(100*e.retentionRateD30));return(0,r.jsxs)("div",{className:o().container,children:[(0,r.jsx)("h1",{className:o().header,children:"Admin Dashboard"}),(0,r.jsx)("nav",{className:o().tabContainer,children:["combined","regional","history"].map(e=>(0,r.jsx)("button",{className:m===e?o().activeTab:"",onClick:()=>E(e),children:e.charAt(0).toUpperCase()+e.slice(1)},e))}),(0,r.jsxs)("section",{className:o().content,children:["combined"===m&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:o().cards,children:[(0,r.jsxs)("div",{className:o().card,children:[(0,r.jsx)("h2",{children:"User Stats"}),(0,r.jsxs)("p",{children:["Total: ",h(N.combined.users.total)]}),(0,r.jsxs)("p",{children:["DAU: ",h(N.combined.users.dau)]}),(0,r.jsxs)("p",{children:["MAU: ",h(N.combined.users.mau)]})]}),(0,r.jsxs)("div",{className:o().card,children:[(0,r.jsx)("h2",{children:"New Users (7d)"}),(0,r.jsx)("p",{children:N.combined.users.newUsers.map(e=>e.count).reduce((e,s)=>e+s,0)})]}),(0,r.jsxs)("div",{className:o().card,children:[(0,r.jsx)("h2",{children:"Reports"}),(0,r.jsxs)("p",{children:["Total: ",h(N.combined.reports.total)]}),(0,r.jsxs)("p",{children:["Inquiries: ",h(N.combined.reports.inquiries)]})]}),(0,r.jsxs)("div",{className:o().card,children:[(0,r.jsx)("h2",{children:"Buddy & District"}),(0,r.jsxs)("p",{children:["Groups: ",h(N.combined.buddy.groups)]}),(0,r.jsxs)("p",{children:["District Chats: ",h(N.combined.districtsChat.total)]})]})]}),(0,r.jsxs)("div",{className:o().chartCard,children:[(0,r.jsx)("h3",{children:"DAU & MAU Trends"}),(0,r.jsx)(n.N1,{data:{labels:b,datasets:[{label:"DAU",data:p,borderColor:"#6C63FF",fill:!1},{label:"MAU",data:A,borderColor:"#FF6B6B",fill:!1}]},options:{maintainAspectRatio:!1}})]}),(0,r.jsxs)("div",{className:o().chartCard,children:[(0,r.jsx)("h3",{children:"Retention Rates"}),(0,r.jsx)(n.N1,{data:{labels:b,datasets:[{label:"D7 Retention (%)",data:x,borderColor:"#6C63FF",fill:!1},{label:"D30 Retention (%)",data:C,borderColor:"#FF6B6B",fill:!1}]},options:{maintainAspectRatio:!1}})]}),(0,r.jsxs)("div",{className:o().chartCard,children:[(0,r.jsx)("h3",{children:"New Users Over Last 7 Days"}),(0,r.jsx)(n.N1,{data:{labels:N.combined.users.newUsers.map(e=>e._id),datasets:[{label:"New Users",data:N.combined.users.newUsers.map(e=>h(e.count)),borderColor:"#120C3A",fill:!1}]},options:{maintainAspectRatio:!1}})]}),(0,r.jsxs)("div",{className:o().chartCard,children:[(0,r.jsx)("h3",{children:"Reports vs Inquiries"}),(0,r.jsx)(n.Fq,{data:{labels:["Reports","Inquiries"],datasets:[{data:[h(N.combined.reports.total),h(N.combined.reports.inquiries)],backgroundColor:["#FF6B6B","#120C3A"]}]},options:{maintainAspectRatio:!1}})]}),(0,r.jsxs)("div",{className:o().card,children:[(0,r.jsx)("h3",{children:"Other Metrics"}),(0,r.jsxs)("p",{children:["Viral Coefficient: ",N.viralCoefficient.toFixed(2)]}),(0,r.jsxs)("p",{children:["Network Effect: ",N.networkEffect.toFixed(2)]}),(0,r.jsxs)("p",{children:["Organic Growth: ",_(N.organicGrowthRate)]})]})]}),"regional"===m&&(0,r.jsx)("div",{className:o().section,children:N.byRegion.map(e=>(0,r.jsxs)("div",{className:o().card,children:[(0,r.jsx)("h3",{children:e.region}),(0,r.jsxs)("p",{children:["Users: ",h(e.stats.users.total)]}),(0,r.jsxs)("p",{children:["DAU: ",h(e.stats.users.dau)]}),(0,r.jsxs)("p",{children:["MAU: ",h(e.stats.users.mau)]}),(0,r.jsxs)("p",{children:["Reports: ",h(e.stats.reports.total)]}),(0,r.jsxs)("p",{children:["Inquiries: ",h(e.stats.reports.inquiries)]}),(0,r.jsxs)("p",{children:["District Chats: ",h(e.stats.districtsChat.total)]})]},e.region))}),"history"===m&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:o().chartCard,children:[(0,r.jsx)("h3",{children:"Total Users Over Time"}),(0,r.jsx)(n.N1,{data:{labels:b,datasets:[{label:"Total Users",data:s.map(e=>h(e.combined.users.total)),borderColor:"#120C3A",fill:!1}]},options:{maintainAspectRatio:!1}})]}),(0,r.jsxs)("div",{className:o().chartCard,children:[(0,r.jsx)("h3",{children:"Viral & Network Effect"}),(0,r.jsx)(n.N1,{data:{labels:b,datasets:[{label:"Viral Coef",data:s.map(e=>h(e.viralCoefficient)),borderColor:"#6C63FF",fill:!1},{label:"Network Eff",data:s.map(e=>h(e.networkEffect)),borderColor:"#FF6B6B",fill:!1}]},options:{maintainAspectRatio:!1}})]}),(0,r.jsxs)("div",{className:o().chartCard,children:[(0,r.jsx)("h3",{children:"Organic Growth Over Time"}),(0,r.jsx)(n.N1,{data:{labels:b,datasets:[{label:"Organic Growth (%)",data:s.map(e=>h(100*e.organicGrowthRate)),borderColor:"#120C3A",fill:!1}]},options:{maintainAspectRatio:!1}})]})]})]})]})}},89760:(e,s,a)=>{"use strict";a.d(s,{s:()=>o,U:()=>h});var r=a(95155),t=a(12115),i=a(49509);function n(){return"https://fcde.app"}async function d(){return n()}let l={SERVER_URL:n()||"https://www.fcde.app",APP_VERSION:i.env.NEXT_PUBLIC_APP_VERSION||"",FACEBOOK_INTERSTITIAL_PLACEMENT_ID:i.env.NEXT_PUBLIC_FACEBOOK_INTERSTITIAL_PLACEMENT_ID||"",FACEBOOK_BANNER_PLACEMENT_ID:i.env.NEXT_PUBLIC_FACEBOOK_BANNER_PLACEMENT_ID||"",FEATURE_UNDER_DEV:"true"===(i.env.NEXT_PUBLIC_FEATURE_UNDER_DEV||"true").toLowerCase(),TEST_AD_MODE:"true"===(i.env.NEXT_PUBLIC_TEST_AD_MODE||"false").toLowerCase()},c=(0,t.createContext)(null),o=e=>{let{children:s}=e,[a,i]=(0,t.useState)(n());(0,t.useEffect)(()=>{let e=!0;return(async()=>{try{let s=await d();e&&i(s)}catch(e){}})(),()=>{e=!1}},[]);let o={SERVER_URL:a,APP_VERSION:l.APP_VERSION,FACEBOOK_INTERSTITIAL_PLACEMENT_ID:l.FACEBOOK_INTERSTITIAL_PLACEMENT_ID,FACEBOOK_BANNER_PLACEMENT_ID:l.FACEBOOK_BANNER_PLACEMENT_ID,FEATURE_UNDER_DEV:l.FEATURE_UNDER_DEV,TEST_AD_MODE:l.TEST_AD_MODE};return(0,r.jsx)(c.Provider,{value:o,children:s})},h=()=>{let e=(0,t.useContext)(c);if(!e)throw Error("useConfig must be used within a ConfigProvider");return e}},95679:(e,s,a)=>{Promise.resolve().then(a.bind(a,8592))}},e=>{var s=s=>e(e.s=s);e.O(0,[3651,5647,3464,6693,8441,1684,7358],()=>s(95679)),_N_E=e.O()}]);