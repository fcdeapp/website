(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9545],{57047:(e,a,l)=>{"use strict";l.r(a),l.d(a,{default:()=>i});var n=l(95155),r=l(12115),t=l(61065),s=l(59455),o=l.n(s);function i(){let{SERVER_URL:e}=(0,t.U)(),[a,l]=(0,r.useState)(null),[s,i]=(0,r.useState)(null),[c,d]=(0,r.useState)(null),[_,p]=(0,r.useState)(!1),[u,y]=(0,r.useState)(null),h=(0,r.useRef)(null);(0,r.useEffect)(()=>()=>{s&&URL.revokeObjectURL(s)},[s]);let m=async()=>{if(!a){y("Please select an image.");return}y(null),p(!0),d(null);try{var l,n;let r=new FormData;r.append("profileImage",a);let t=await fetch("".concat(e,"/api/userAnalysis/analyze-user-image-only"),{method:"POST",body:r});if(!t.ok){let e=await t.text();throw Error(e||t.statusText)}let s=await t.json(),o=null!==(n=null===(l=s.analysis)||void 0===l?void 0:l.results)&&void 0!==n?n:s.analysis;if(!Array.isArray(o))throw console.error("Unexpected analysis payload:",s.analysis),Error("Invalid analysis format received");d(o)}catch(e){console.error(e),y("Analysis failed. Please try again.")}finally{p(!1)}},b=()=>d(null);return(0,n.jsx)("div",{className:o().pageWrapper,children:(0,n.jsxs)("div",{className:o().container,children:[(0,n.jsxs)("div",{className:o().header,children:[(0,n.jsx)("button",{className:o().backBtn,onClick:()=>history.back(),children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:o().backIcon,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,n.jsx)("polyline",{points:"15 18 9 12 15 6"})})}),(0,n.jsx)("h1",{className:o().title,children:"Instant Popularity Snapshot"})]}),(0,n.jsxs)("p",{className:o().subtitle,children:["This quick test uses AI to predict in which countries you’d be most popular based ",(0,n.jsx)("strong",{children:"only"})," on your photo.",(0,n.jsx)("strong",{children:" Note:"})," Results are for entertainment purposes and may not reflect real outcomes."]}),(0,n.jsxs)("div",{className:o().form,children:[(0,n.jsx)("input",{ref:h,type:"file",accept:"image/*",onChange:e=>{var a;let n=null===(a=e.target.files)||void 0===a?void 0:a[0];n&&(l(n),i(URL.createObjectURL(n)),d(null),y(null))},className:o().fileInput}),(0,n.jsx)("div",{className:o().previewContainer,onClick:()=>{var e;null===(e=h.current)||void 0===e||e.click()},title:"Click to select or change image",children:s?(0,n.jsx)("img",{src:s,alt:"Preview",className:o().previewImage}):(0,n.jsx)("div",{className:o().previewPlaceholder,children:"Click here to choose your photo"})}),(0,n.jsx)("button",{onClick:m,disabled:_,className:o().analyzeButton,children:_?"Analyzing…":"Run Analysis"}),u&&(0,n.jsx)("p",{className:o().error,children:u}),!c&&!_&&(0,n.jsxs)("div",{className:o().moreInfo,children:["For deeper insights, complete your profile in the Abrody app:",(0,n.jsxs)("div",{className:o().storeButtons,children:[(0,n.jsx)("a",{href:"https://apps.apple.com/app/abrody/id123456789",target:"_blank",rel:"noopener noreferrer",className:o().storeButton,children:"Download iOS"}),(0,n.jsx)("a",{href:"https://play.google.com/store/apps/details?id=com.fcdeapp.facade",target:"_blank",rel:"noopener noreferrer",className:o().storeButton,children:"Download Android"})]})]})]}),c&&(0,n.jsx)("div",{className:o().backdrop,onClick:b,children:(0,n.jsxs)("div",{className:o().modal,onClick:e=>e.stopPropagation(),children:[(0,n.jsx)("h2",{className:o().modalTitle,children:"Popularity Prediction"}),(0,n.jsx)("div",{className:o().modalBody,children:c.map((e,a)=>(0,n.jsxs)("div",{className:o().row,children:[(0,n.jsx)("span",{className:o().country,children:e.country}),(0,n.jsx)("div",{className:o().barBg,children:(0,n.jsx)("div",{className:o().barFill,style:{width:"".concat(e.percentage,"%")}})}),(0,n.jsxs)("span",{className:o().pct,children:[e.percentage,"%"]}),(0,n.jsx)("p",{className:o().reason,children:e.reason})]},a))}),(0,n.jsxs)("div",{className:o().btnRow,children:[(0,n.jsx)("button",{onClick:()=>{if(!c)return;let e=JSON.stringify(c,null,2);navigator.share?navigator.share({title:"Abrody Popularity Analysis",text:e}):(navigator.clipboard.writeText(e),alert("Results copied to clipboard."))},className:"".concat(o().btn," ").concat(o().btnPrimary),children:"Share"}),(0,n.jsx)("button",{onClick:b,className:"".concat(o().btn," ").concat(o().btnSecondary),children:"Close"})]})]})})]})})}},58244:(e,a,l)=>{Promise.resolve().then(l.bind(l,57047))},59455:e=>{e.exports={pageWrapper:"Analyze_pageWrapper__R1Kyw",container:"Analyze_container__q025C",header:"Analyze_header__s_sIq",backBtn:"Analyze_backBtn__DtMOz",backIcon:"Analyze_backIcon___sJgY",title:"Analyze_title__Tw4VM",subtitle:"Analyze_subtitle__UsWR_",form:"Analyze_form__UixZN",fileInput:"Analyze_fileInput__DO90X",previewContainer:"Analyze_previewContainer__fnBOc",previewPlaceholder:"Analyze_previewPlaceholder__P5V1V",previewImage:"Analyze_previewImage__ZhWkm",analyzeButton:"Analyze_analyzeButton__dErcp",error:"Analyze_error__BNb8R",moreInfo:"Analyze_moreInfo__uUi4Q",storeButtons:"Analyze_storeButtons__bOYg1",storeButton:"Analyze_storeButton__0CQMa",backdrop:"Analyze_backdrop__tkCKk",fadeIn:"Analyze_fadeIn__l7v5m",modal:"Analyze_modal__GCfX8",scaleUp:"Analyze_scaleUp__weEHD",modalTitle:"Analyze_modalTitle__awOa5",modalBody:"Analyze_modalBody__vQmWA",row:"Analyze_row__ODMam",country:"Analyze_country__9grtz",barBg:"Analyze_barBg__t5k8K",barFill:"Analyze_barFill__KRyg6",pct:"Analyze_pct__RPj2V",reason:"Analyze_reason__G9Vl4",btnRow:"Analyze_btnRow__rVpkN",btn:"Analyze_btn__Ks4TP",btnPrimary:"Analyze_btnPrimary__yLj8m",btnSecondary:"Analyze_btnSecondary__BQVzf"}},61065:(e,a,l)=>{"use strict";l.d(a,{s:()=>i,U:()=>c});var n=l(95155),r=l(12115);let t=JSON.parse('{"hl":"1.0.0","SC":"YOUR_INTERSTITIAL_PLACEMENT_ID","O8":"YOUR_BANNER_PLACEMENT_ID"}'),s={SERVER_URL:(()=>{let e="KR";if("undefined"!=typeof navigator&&navigator.language){let a=navigator.language.split("-");a.length>1&&(e=a[1])}let a="";switch(e.toUpperCase()){case"CA":a="ca.";break;case"AU":a="au.";break;case"GB":a="uk.";break;default:a=""}return console.log("domainPrefix: ",a),console.log("region: ",e),"https://beta.fcde.app"})(),APP_VERSION:t.hl,FACEBOOK_INTERSTITIAL_PLACEMENT_ID:t.SC,FACEBOOK_BANNER_PLACEMENT_ID:t.O8},o=(0,r.createContext)(null),i=e=>{let{children:a}=e;return(0,n.jsx)(o.Provider,{value:s,children:a})},c=()=>{let e=(0,r.useContext)(o);if(!e)throw Error("useConfig must be used within a ConfigProvider");return e}}},e=>{var a=a=>e(e.s=a);e.O(0,[2956,8441,1684,7358],()=>a(58244)),_N_E=e.O()}]);