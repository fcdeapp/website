(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[530],{560:e=>{e.exports={modal:"MySubjectOrderChangeOverlay_modal__RoiU2",overlayBackground:"MySubjectOrderChangeOverlay_overlayBackground__PcSba",overlayContainer:"MySubjectOrderChangeOverlay_overlayContainer__EuZGx",header:"MySubjectOrderChangeOverlay_header__16gtS",headerLeft:"MySubjectOrderChangeOverlay_headerLeft__F_ezV",headerTitle:"MySubjectOrderChangeOverlay_headerTitle__ReqdJ",toggleViewButton:"MySubjectOrderChangeOverlay_toggleViewButton__Y7feF",toggleViewButtonText:"MySubjectOrderChangeOverlay_toggleViewButtonText__YYCzd",closeButton:"MySubjectOrderChangeOverlay_closeButton__s0fy6",deleteIcon:"MySubjectOrderChangeOverlay_deleteIcon__ijBo4",scrollContent:"MySubjectOrderChangeOverlay_scrollContent__HDfbv",groupContainer:"MySubjectOrderChangeOverlay_groupContainer__46Z_i",topicItem:"MySubjectOrderChangeOverlay_topicItem__eXgdr",topicButtonWrapper:"MySubjectOrderChangeOverlay_topicButtonWrapper___LHNf",topicButton:"MySubjectOrderChangeOverlay_topicButton__pYA0r",topicText:"MySubjectOrderChangeOverlay_topicText__bQAMb",allButton:"MySubjectOrderChangeOverlay_allButton__9wSOz",allTopicText:"MySubjectOrderChangeOverlay_allTopicText__UsVTk"}},629:(e,a,t)=>{Promise.resolve().then(t.bind(t,1301))},1301:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>G});var s=t(5155),n=t(2115),o=t(5695),l=t(3464),i=t(1218),r=t(1065),c=t(5193),g=t.n(c);let u=e=>{let{myTopics:a,selectedTopics:t,setSelectedTopics:o,isCompact:l,handleSelectTopic:i,t:r}=e;window.innerWidth;let c=(0,n.useRef)(null),[u,d]=(0,n.useState)([]),[p,f]=(0,n.useState)(0),[m,h]=(0,n.useState)(0),[_,y]=(0,n.useState)(0),[x,v]=(0,n.useState)("#0A1045"),k=(0,n.useRef)([]),j=(0,n.useCallback)(e=>{if(c.current&&k.current[e]){let a=c.current.getBoundingClientRect(),t=k.current[e].getBoundingClientRect(),s=t.left-a.left;d(a=>{let t=[...a];return t[e]=s,t}),0===e&&f(t.width)}},[]);(0,n.useEffect)(()=>{let e=a.length+1;for(let a=0;a<e;a++)j(a);let t=()=>{for(let a=0;a<e;a++)j(a)};return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[a,j]),(0,n.useEffect)(()=>{let e=0;if(t.includes("no_topic"))e=0,v("#0A1045");else{let s=a.findIndex(e=>t.includes(e.key));-1!==s&&(e=s+1,v(a[s].color))}if(void 0!==u[e]&&(h(u[e]),y(p),c.current&&k.current[e])){let a=k.current[e],t=c.current.offsetWidth,s=a.getBoundingClientRect(),n=c.current.getBoundingClientRect(),o=Math.max(0,s.left-n.left+s.width/2-t/2);c.current.scrollTo({left:o,behavior:"smooth"})}},[t,u,p,a]);let S=(e,a)=>{i(e,a)};return(0,s.jsx)("div",{className:g().container,style:{width:"300px",height:"60px",display:"flex",flexDirection:"row"},children:(0,s.jsxs)("div",{className:g().topicToggleContainer,children:[(0,s.jsx)("div",{className:g().slider,style:{left:m+11+"px",width:_+"px",top:"0",bottom:"0",position:"absolute"},children:(0,s.jsx)("div",{className:g().sliderGradient})}),(0,s.jsxs)("div",{className:g().horizontalScroll,ref:c,children:[(0,s.jsx)("button",{ref:e=>{k.current[0]=e},className:g().topicButtonAll,style:{backgroundColor:"transparent",borderColor:"transparent",margin:"0 8px",height:l?48:40},onClick:()=>{t.includes("no_topic")&&t.length-1===a.length||o([...a.map(e=>e.key),"no_topic"]),i("no_topic",0)},children:(0,s.jsx)("div",{className:g().allButton,style:{height:l?48:40},children:(0,s.jsx)("span",{className:g().allTopicText,children:r("select_all")})})}),a.map((e,a)=>{let n=t.includes(e.key);if(!n&&l)return null;let o=r("topics.".concat(e.key)),i=o.split(" ")[0],c="";return n&&l?c=i:n&&!l?c=o:n||l||(c=o.replace(/[\u{1F600}-\u{1F64F}]/gu,"").trim()),(0,s.jsx)("div",{style:{transform:"scale(1)"},children:(0,s.jsx)("button",{ref:e=>{k.current[a+1]=e},className:g().topicButton,style:{backgroundColor:n?"#fff":"transparent",borderColor:n?e.color:"#D9D9D9",margin:"0 8px",height:l?48:40,padding:l?"0 8px":"0 16px"},onClick:()=>S(e.key,a+1),children:(0,s.jsx)("span",{className:g().topicText,style:{fontSize:n?l?30:14:l?22:12,color:n?"#F8F8FE":"#888"},children:c})})},e.key)})]})]})})},d=e=>{let{visible:a,onLogin:t,onBrowse:n}=e;if(!a)return null;let o={backgroundColor:"transparent",padding:"12px 20px",border:"2px solid #0A1045",borderRadius:"30px",cursor:"pointer"},l={...o,borderColor:"#355C7D"},i={color:"#0A1045",fontSize:"16px",fontWeight:700,margin:0};return(0,s.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:999,display:"flex",justifyContent:"center",alignItems:"center"},children:(0,s.jsx)("div",{style:{width:"100vw",height:"100vh",background:"linear-gradient(45deg, rgba(0, 0, 0, 0.7), rgba(50, 50, 50, 0.7))",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,s.jsx)("div",{style:{width:"90%",maxWidth:"500px",borderRadius:"30px",overflow:"hidden",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},children:(0,s.jsxs)("div",{style:{backgroundColor:"rgba(255, 255, 255, 0.85)",borderRadius:"30px",padding:"30px 25px",textAlign:"center",boxShadow:"0 8px 20px rgba(0, 0, 0, 0.35)"},children:[(0,s.jsx)("h2",{style:{fontSize:"28px",fontWeight:800,color:"#0A1045",marginBottom:"15px"},children:"Welcome to Facade"}),(0,s.jsx)("p",{style:{fontSize:"16px",color:"#333",marginBottom:"30px",lineHeight:"24px"},children:"To see announcements and recommendations, please log in."}),(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"center",gap:"16px"},children:[(0,s.jsx)("button",{style:o,onClick:t,children:(0,s.jsx)("span",{style:i,children:"Log In"})}),(0,s.jsx)("button",{style:l,onClick:n,children:(0,s.jsx)("span",{style:i,children:"Continue as Guest"})})]})]})})})})};var p=t(7926),f=t(1772),m=t.n(f);let h=e=>"string"==typeof e&&""!==e.trim()?e.startsWith("http")||e.startsWith("/assets/")?e:"/assets/".concat(e):"/assets/Annonymous.png",_=e=>{let{userId:a,nickname:t,profileImage:i,profileThumbnail:c,countryName:g,size:u,trustBadge:f}=e,{SERVER_URL:_}=(0,r.U)(),y=(0,o.useRouter)(),[x,v]=(0,n.useState)(c||i||null),[k,j]=(0,n.useState)(g||null),[S,b]=(0,n.useState)(f||!1),[C,T]=(0,n.useState)(!1),[N,w]=(0,n.useState)(null),[B,I]=(0,n.useState)(!1),[P,M]=(0,n.useState)(!1);(0,n.useEffect)(()=>{w(localStorage.getItem("userId"))},[]),(0,n.useEffect)(()=>{g&&(c||i)&&void 0!==f||!a||(async()=>{try{T(!0);let e=localStorage.getItem("token");if(!e){T(!1);return}let t=await l.A.get("".concat(_,"/users/country?userId=").concat(a),{headers:{Authorization:"Bearer ".concat(e)}});if(200===t.status){let e=t.data;j(e.originCountry),"string"!=typeof e.profileThumbnail&&(e.profileThumbnail=""),"string"!=typeof e.profileImage&&(e.profileImage=""),v(e.profileThumbnail||e.profileImage||""),b(e.trustBadge||!1)}else console.log("Failed to fetch user details")}catch(e){console.error("Error fetching user details:",e)}finally{T(!1)}})()},[g,c,i,f,a,_]);let A=p.X.find(e=>e.name===k),F=A?A.flag:null,O=h(x);return((0,n.useEffect)(()=>{I(!!localStorage.getItem("token"))},[]),C)?(0,s.jsx)("div",{className:m().container,style:{width:u,height:u},children:(0,s.jsx)("div",{className:m().spinner})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{onClick:()=>{if(!B){M(!0);return}let e={userId:a,nickname:t,profileImage:i||null,profileThumbnail:c||null};a===N?y.push("/myProfile?".concat(new URLSearchParams(e).toString())):y.push("/profile?".concat(new URLSearchParams(e).toString()))},className:m().container,style:{width:u,height:u},children:[S?(0,s.jsx)("div",{className:m().gradientBorder,style:{width:u,height:u,borderRadius:u/2},children:(0,s.jsx)("img",{src:O,alt:"Profile",className:m().profileImage,style:{width:u-4,height:u-4,borderRadius:(u-4)/2}})}):(0,s.jsx)("img",{src:O,alt:"Profile",className:m().profileImage,style:{width:u,height:u,borderRadius:u/2}}),F&&(0,s.jsx)("div",{className:m().flagWrapper,style:{width:u/3+4,height:u/3+4,borderRadius:u/6+2},children:(0,s.jsx)("img",{src:F,alt:"Flag",className:m().flagImage,style:{width:u/3,height:u/3,borderRadius:u/6}})})]}),P&&(0,s.jsx)("div",{className:m().modal,children:(0,s.jsx)(d,{visible:!0,onLogin:()=>{M(!1),y.push("/signInLogIn")},onBrowse:()=>M(!1)})})]})},y=(e,a)=>{let t=new Date(e).getTime();if(isNaN(t))return a("unknown");let s=Math.floor((Date.now()-t)/6e4),n=Math.floor(s/60),o=Math.floor(n/24);return s<1?a("just_now"):s<60?a("minutes_ago",{count:s}):n<24?a("hours_ago",{count:n}):a("days_ago",{count:o})},x=(e,a)=>{let t=new Date(e).getTime();if(isNaN(t))return a("unknown");let s=t-Date.now(),n=Math.floor(Math.abs(s)/6e4),o=Math.floor(n/60);return s>0?o<1?a("minutes_remaining",{count:n}):o<24?a("hours_remaining",{count:o}):a("days_remaining",{count:Math.floor(o/24)}):a("meeting_passed")};var v=t(1875),k=t.n(v);let j=async(e,a,t)=>{try{if(!localStorage.getItem("token"))return console.log("Not logged in: skipping location fetch."),"";let t=await new Promise((e,a)=>{if(!navigator.geolocation)return a(Error("Geolocation is not supported by this browser."));navigator.geolocation.getCurrentPosition(e,a,{enableHighAccuracy:!0})}),s={latitude:t.coords.latitude,longitude:t.coords.longitude},n=k()(s,{latitude:e,longitude:a}),o=!navigator.language.includes("US");return S(n,o)}catch(e){return console.error("Error fetching location:",e),t("placeDetails.locationError")}},S=(e,a)=>{if(a)return e<1e3?"".concat(Math.round(e)," m"):e<1e4?"".concat((e/1e3).toFixed(1)," km"):"".concat(Math.round(e/1e3)," km");{let a=3.28084*e;if(a<5280)return"".concat(Math.round(a)," ft");{let e=a/5280;return e<10?"".concat(e.toFixed(1)," mi"):"".concat(Math.round(e)," mi")}}};var b=t(6734),C=t.n(b);let T=e=>e?e.startsWith("http")||e.startsWith("/assets/")?e:"/assets/".concat(e):"",N=e=>{let{text:a,style:t,containerStyle:n,speed:o=6e3,repeatSpacer:l=80,parentWidth:i}=e;return(0,s.jsx)("div",{style:{...n,whiteSpace:"nowrap",overflow:"hidden"},children:(0,s.jsxs)("div",{style:{...t,display:"inline-block",animation:"marquee ".concat(o,"ms linear infinite")},children:[a,(0,s.jsx)("span",{style:{paddingLeft:l},children:a})]})})},w=e=>{try{let a=new Date(e);if(isNaN(a.getTime()))return"unknown";return new Intl.DateTimeFormat(void 0,{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0}).format(a)}catch(e){return console.error("Error formatting ISO date:",e),"unknown"}},B=(e,a)=>e?e.length>a?"".concat(e.substring(0,a),"..."):e:"",I=e=>{let{postId:a,author:t,time:c,meetingTime:g,meetingPlace:u,meetingCity:d,meetingCountry:p,category:f,title:m,content:h,likes:v,comments:k,commentList:S,visitors:b,visitedUsers:I=[],likedUsers:P=[],nicknameOption:M,profileImage:A,profileThumbnail:F,image:O,thumbnail:E,recruitmentCount:D,applicantsCount:z,userId:R,applicants:L,isBuddyPost:W,latitude:U,longitude:G}=e,{SERVER_URL:q}=(0,r.U)(),{t:J}=(0,i.Bd)(),Y=(0,o.useRouter)(),[H,V]=(0,n.useState)(!1),[K,X]=(0,n.useState)(!1),[Z,Q]=(0,n.useState)({title:m,content:h}),[$,ee]=(0,n.useState)(!1),[ea,et]=(0,n.useState)(v),[es,en]=(0,n.useState)(b),[eo,el]=(0,n.useState)(!1),[ei,er]=(0,n.useState)(""),[ec,eg]=(0,n.useState)(""),[eu,ed]=(0,n.useState)(!1),[ep,ef]=(0,n.useState)([]),[em,eh]=(0,n.useState)(!1),[e_,ey]=(0,n.useState)(!1),[ex,ev]=(0,n.useState)([]),[ek,ej]=(0,n.useState)(1),[eS,eb]=(0,n.useState)(0),[eC,eT]=(0,n.useState)(window.innerWidth),[eN,ew]=(0,n.useState)(0),[eB,eI]=(0,n.useState)(!1),[eP,eM]=(0,n.useState)(!0),[eA,eF]=(0,n.useState)(!1),[eO,eE]=(0,n.useState)(null),[eD,ez]=(0,n.useState)(null),eR=(0,n.useRef)(0),eL=window.innerWidth,[eW,eU]=(0,n.useState)(0);(0,n.useEffect)(()=>{(async()=>{U&&G&&ez(await j(U,G,J))})()},[U,G,J]),(0,n.useEffect)(()=>{eU(window.innerHeight)},[]);let eG=(0,n.useCallback)(e=>{eE(e.currentTarget.offsetWidth)},[]),eq=async()=>{try{let e=T("map-colored.png"),a=new Image;a.src=e,a.onload=()=>{console.log("Map asset loaded"),eY()},a.onerror=()=>{console.error("Error loading map asset"),eY()}}catch(e){console.error("Error loading map assets:",e),eY()}},eJ=()=>{U&&G&&eq()},eY=()=>{console.log("Show Map Triggered"),eb(0),ew(0),eT(eL),setTimeout(()=>{eb(1),ew(200)},200),setTimeout(()=>{eT(0),eh(!0)},500)},eH=()=>{console.log("Hide Map Triggered"),eb(0),eT(eL),ew(0),setTimeout(()=>{eh(!1)},500)},eV=()=>{ey(!1),ed(!eu)},eK=()=>{ey(!0),ej(0),setTimeout(()=>{ej(1)},300)},eX=()=>{ey(!1),ej(1)},eZ=async()=>{X(!0);let e=localStorage.getItem("token");if(!e){alert(J("noToken")),X(!1);return}try{let t=localStorage.getItem("language"),s="".concat(q,"/translate/posts/").concat(a,"?targetLanguage=").concat(t),{data:n}=await l.A.get(s,{headers:{Authorization:"Bearer ".concat(e)}});Q(H?{title:m,content:h}:{title:n.title,content:n.content}),V(!H)}catch(e){console.error(e),alert(J("translateError"))}finally{X(!1)}};(0,n.useEffect)(()=>{let e=async()=>{let e=3;for(;e>0;){try{let e=localStorage.getItem("token");if(!e){console.log("No token found");return}let{data:a}=await l.A.post("".concat(q,"/users/profiles"),{userIds:L},{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});ef(a.users);return}catch(e){console.error("Error fetching applicants profiles:",e)}await new Promise(a=>setTimeout(a,1e3*(4-e))),e-=1}};L&&L.length>0&&e()},[L,q]),(0,n.useEffect)(()=>{(async()=>{let e=localStorage.getItem("token");if(e)try{let{data:a}=await l.A.get("".concat(q,"/users/me"),{headers:{Authorization:"Bearer ".concat(e)}});er(a.userId),eg(a.nickname)}catch(e){console.log("Error fetching user data:",e)}else console.log("No token found")})()},[q]);let eQ="AI"===M?D>0?z/D:0:(z+1)/(D+1);(0,n.useEffect)(()=>{(async()=>{eM(!0);let e=localStorage.getItem("token");if(!e){console.log("No token found, skipping status check."),eM(!1);return}try{let{data:t}=await l.A.post("".concat(q,"/posts/").concat(a,"/visit"),{id:a},{headers:{Authorization:"Bearer ".concat(e)}});en(t.visitors);let{data:s}=await l.A.get("".concat(q,"/posts/").concat(a),{headers:{Authorization:"Bearer ".concat(e)}});ee(s.likedUsers.includes(R)),et(s.likes),el(s.commentList.some(e=>e.author===R))}catch(e){console.error("Error updating status:",e)}finally{eM(!1)}})()},[a,R,q]);let e$=async()=>{if(!eP)try{let e=localStorage.getItem("token"),s=W?"".concat(q,"/buddy-post"):"".concat(q,"/posts"),n=es;if(e)try{let{data:t}=await l.A.post("".concat(s,"/").concat(a,"/visit"),null,{headers:{Authorization:"Bearer ".concat(e)}});n=t.visitors,en(n)}catch(e){console.error("Failed to update visitor count",e)}else console.log("Token not found, skipping visitor update.");let o=new URLSearchParams({id:a,author:t,time:c,meetingTime:g,meetingPlace:u,meetingCity:d,meetingCountry:p,category:f,title:m,content:h,likes:ea.toString(),comments:k.toString(),visitors:es.toString(),profileImage:T(A),image:T(O),thumbnail:T(E),recruitmentCount:D.toString(),applicantsCount:z.toString(),applicants:JSON.stringify(L),isBuddyPost:W?"true":"false",latitude:(null==U?void 0:U.toString())||"",longitude:(null==G?void 0:G.toString())||""});Y.push("/fullPost?".concat(o.toString()))}catch(e){console.error("Error visiting post:",e)}},e0=(0,n.useRef)(0),e1=()=>{e0.current+=1;let e="".concat(Date.now(),"_").concat(e0.current,"_").concat(Math.random().toString(36).substring(2,11));ev(a=>[...a,e]),setTimeout(()=>{ev(a=>a.filter(a=>a!==e))},2500)},e5=async()=>{let e=Date.now();if(e-eR.current<500||(eR.current=e,eB||eP))return;let t=localStorage.getItem("token");if(t){eI(!0);try{ee(!$),e1();let e=W?"".concat(q,"/buddyPosts"):"".concat(q,"/posts"),{data:s}=await (0,l.A)({url:"".concat(e,"/").concat(a,"/like"),method:$?"delete":"post",headers:{Authorization:"Bearer ".concat(t)}});et(s.likes)}catch(e){console.error("Error liking post:",e)}finally{eI(!1)}}},e2=e=>{let{width:a,height:t}=e,n=Math.random()*a*.8+.1*a;return(0,s.jsx)("img",{src:T("like-colored.png"),alt:"heart",style:{position:"absolute",width:40,height:40,left:n,animation:"floatHeart 2s ease-out forwards",pointerEvents:"none"}})};return(0,s.jsx)("div",{className:C().box,onClick:e$,onLoad:eG,children:(0,s.jsxs)("div",{className:C().cardContainer,children:[(0,s.jsxs)("div",{className:C().postMain,style:{boxShadow:"0px 2px 4px rgba(0,0,0,0.2)"},children:[(0,s.jsx)("div",{className:"".concat(C().postContent," ").concat(em?C().transparentBackground:""),children:(0,s.jsxs)("div",{className:C().textContent,children:[(0,s.jsxs)("div",{className:C().authorInformation,children:[(0,s.jsx)("div",{className:C().profileImage,children:"AI"===M?(0,s.jsx)("img",{src:T("AI.png"),alt:"AI",style:{width:48,height:48,borderRadius:24,objectFit:"cover"}}):(0,s.jsx)(_,{userId:R,nickname:t,profileImage:T(A)||T("Annonymous.png"),profileThumbnail:T(F),size:48,countryName:void 0})}),(0,s.jsxs)("div",{className:C().author,children:[(0,s.jsx)("p",{className:C().authorText,children:t}),(0,s.jsxs)("p",{className:C().timeCategoryText,children:[y(c,J)," \xb7 ",J("topics.".concat(f))]})]}),(0,s.jsxs)("div",{className:C().recruitmentInfo,children:[z>=D?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{className:C().checkText,children:"✓"}),(0,s.jsx)("p",{className:C().recruitmentCompleteText,children:J("recruitment_status_complete")})]}):(0,s.jsx)("div",{className:C().circleWrapper,children:(0,s.jsx)("div",{className:C().circle,style:{background:"conic-gradient(#D8315B ".concat(100*eQ,"%, #fff ").concat(100*eQ,"%)")}})}),(0,s.jsx)("p",{className:C().recruitmentText,style:{color:z<D&&eu?"#1a1045":"transparent",fontSize:z<D&&eu?12:1,marginTop:z<D&&eu?5:0},children:"AI"===M?"".concat(z," / ").concat(D):"".concat(z+1," / ").concat(D+1)})]})]}),(0,s.jsxs)("div",{className:C().postTextImageSet,children:[(0,s.jsxs)("div",{className:C().postTextSet,style:{width:O?"60%":"100%"},children:[(0,s.jsx)("p",{className:C().postTitle,children:Z.title}),(0,s.jsxs)("div",{className:C().meetingRow,children:[(0,s.jsx)("p",{className:C().meetingTime,children:w(g)}),(0,s.jsx)("div",{className:C().meetingStatus,children:(0,s.jsx)("p",{className:C().meetingStatusText,children:x(g,J)})})]}),(0,s.jsx)("div",{onClick:()=>eF(e=>!e),children:(0,s.jsx)("p",{className:C().postContents,children:B(Z.content,eA?1e3:100)})})]}),E||O?(0,s.jsx)("div",{className:C().postImageCover,children:(0,s.jsx)("img",{className:C().postImage,src:T(E||O),alt:"post",onError:e=>console.warn("Failed to load image:",e)})}):(0,s.jsx)("div",{className:C().postImageCover})]})]})}),(0,s.jsxs)("div",{className:C().postInformation,children:[e_?(0,s.jsxs)("div",{className:C().iconInfoAll,style:{transform:"translateX(0px)"},children:[(0,s.jsxs)("div",{className:C().iconInfo,onClick:eX,style:{backgroundColor:"transparent",borderRadius:8},children:[(0,s.jsx)("img",{src:I.includes(R)?T("eye-colored.png"):T("eye-icon.png"),className:C().icon,alt:"visitor"}),(0,s.jsx)("p",{className:C().iconText,children:es})]}),(0,s.jsxs)("div",{className:C().iconInfo,onClick:e5,style:{backgroundColor:"transparent",borderRadius:8},children:[(0,s.jsx)("img",{src:$?T("like-colored.png"):T("like-icon.png"),className:C().icon,alt:"like"}),(0,s.jsx)("p",{className:C().iconText,children:ea})]}),(0,s.jsx)("div",{style:{position:"absolute",width:"100%",height:"100%",opacity:ek},children:ex.map(e=>(0,s.jsx)(e2,{width:eL,height:eW},e))}),(0,s.jsxs)("div",{className:C().iconInfo,onClick:eX,style:{backgroundColor:"transparent",borderRadius:8},children:[(0,s.jsx)("img",{src:T("comment-icon.png"),className:C().icon,alt:"comment"}),(0,s.jsx)("p",{className:C().iconText,children:k})]})]}):(0,s.jsx)("div",{onClick:()=>{eK(),eH()},children:(0,s.jsx)("div",{className:C().iconInfoAll,style:{opacity:ek},children:(0,s.jsx)("div",{className:C().iconInfo,children:(0,s.jsx)("img",{src:T("plus-icon.png"),className:C().icon,alt:"plus"})})})}),em?(0,s.jsxs)("div",{className:C().placeRow,style:{transform:"translateX(".concat(eC,"px)"),opacity:eS,zIndex:10},children:[(0,s.jsx)("div",{onClick:eH,children:(0,s.jsx)("img",{src:T("map-colored.png"),className:C().mapIcon,alt:"map"})}),(0,s.jsx)("div",{onClick:eH,style:{maxWidth:.6*eL},children:(0,s.jsx)(N,{text:u||J("defaultMeetingPlace"),style:void 0,parentWidth:eO||0,containerStyle:{maxWidth:.6*eL,alignSelf:"flex-start"},speed:6e3,repeatSpacer:80})})]}):eu&&L.length>0?(0,s.jsxs)("div",{className:C().applicantsContainer,onClick:eV,children:[ep.map((e,a)=>{var t;return(0,s.jsx)(_,{userId:e.userId,nickname:e.nickname,profileImage:T(e.profileImage),profileThumbnail:T(e.profileThumbnail),size:30},null!==(t=e.userId)&&void 0!==t?t:a)}),(0,s.jsxs)("div",{className:C().appilcantsContainer,children:[(0,s.jsx)("img",{src:T("participants-icon.png"),className:C().iconColored,alt:"participants"}),(0,s.jsx)("p",{className:C().appilcantsText,children:L.length})]})]}):(0,s.jsxs)("div",{className:C().iconRow,style:{opacity:ek},children:[(0,s.jsx)("div",{onClick:()=>{U&&G&&(eJ(),eX())},children:(0,s.jsx)("img",{src:T("map-icon.png"),className:C().icon,alt:"map icon"})}),(0,s.jsx)("div",{onClick:eV,children:(0,s.jsx)("img",{src:T("participants-icon.png"),className:C().icon,alt:"participants icon"})}),(0,s.jsx)("div",{onClick:eZ,className:C().translateButton,style:{pointerEvents:K?"none":"auto"},children:K?(0,s.jsx)("div",{className:C().spinner}):(0,s.jsx)("img",{src:T("translate-icon.png"),className:"".concat(C().icon," ").concat(H?C().iconTranslated:""),alt:"translate icon"})})]})]})]}),z>=D&&(0,s.jsx)("div",{className:C().blurOverlay}),z>=D&&(0,s.jsxs)("div",{className:C().recruitmentBadge,children:[(0,s.jsx)("img",{src:T("checkedComponent.png"),className:C().badgeIcon,alt:"badge"}),(0,s.jsx)("p",{className:C().recruitmentBadgeText,children:J("recruitment_status_complete")})]})]})})};var P=t(8997),M=t.n(P);let A={"United Kingdom":"/assets/flags/uk-flag.png","United States":"/assets/flags/usa-flag.png","South Korea":"/assets/flags/south-korea-flag.png",Japan:"/assets/flags/japan-flag.png",Germany:"/assets/flags/germany-flag.png",France:"/assets/flags/france-flag.png",Canada:"/assets/flags/canada-flag.png",Australia:"/assets/flags/australia-flag.png",Spain:"/assets/flags/spain-flag.png",China:"/assets/flags/china-flag.png","Saudi Arabia":"/assets/flags/saudi-arabia-flag.png",Poland:"/assets/flags/poland-flag.png",Portugal:"/assets/flags/portugal-flag.png",India:"/assets/flags/india-flag.png",Russia:"/assets/flags/russia-flag.png",Mexico:"/assets/flags/mexico-flag.png",Netherlands:"/assets/flags/netherlands-flag.png",Italy:"/assets/flags/italy-flag.png",Turkey:"/assets/flags/turkey-flag.png",Brazil:"/assets/flags/brazil-flag.png",UAE:"/assets/flags/united-arab-emirates-flag.png",Switzerland:"/assets/flags/switzerland-flag.png",Denmark:"/assets/flags/denmark-flag.png",Singapore:"/assets/flags/singapore-flag.png",Romania:"/assets/flags/romania-flag.png",Greece:"/assets/flags/greece-flag.png",Belgium:"/assets/flags/belgium-flag.png",Ukraine:"/assets/flags/ukraine-flag.png",Vietnam:"/assets/flags/vietnam-flag.png","Czech Republic":"/assets/flags/czech-republic-flag.png","New Zealand":"/assets/flags/new-zealand-flag.png",Norway:"/assets/flags/norway-flag.png",Israel:"/assets/flags/israel-flag.png",Sweden:"/assets/flags/sweden-flag.png",Thailand:"/assets/flags/thailand-flag.png",Hungary:"/assets/flags/hungary-flag.png",Indonesia:"/assets/flags/indonesia-flag.png",Austria:"/assets/flags/austria-flag.png",Palestine:"/assets/flags/palestine-flag.png",Finland:"/assets/flags/finland-flag.png",Slovakia:"/assets/flags/slovakia-flag.png",Pakistan:"/assets/flags/pakistan-flag.png",Serbia:"/assets/flags/serbia-flag.png",Egypt:"/assets/flags/egypt-flag.png",Ireland:"/assets/flags/ireland-flag.png",England:"/assets/flags/england-flag.png",Chile:"/assets/flags/chile-flag.png",Croatia:"/assets/flags/croatia-flag.png",Argentina:"/assets/flags/argentina-flag.png","South Africa":"/assets/flags/south-africa-flag.png",Morocco:"/assets/flags/morocco-flag.png",Georgia:"/assets/flags/georgia-flag.png",Colombia:"/assets/flags/colombia-flag.png",Qatar:"/assets/flags/qatar-flag.png",Bulgaria:"/assets/flags/bulgaria-flag.png",Albania:"/assets/flags/albania-flag.png",Bangladesh:"/assets/flags/bangladesh-flag.png",Philippines:"/assets/flags/philiphines-flag.png",Scotland:"/assets/flags/scotland-flag.png",Algeria:"/assets/flags/algeria-flag.png",Azerbaijan:"/assets/flags/azerbaijan-flag.png",Kazakhstan:"/assets/flags/kazakhstan-flag.png",Lithuania:"/assets/flags/lithuania-flag.png",Nigeria:"/assets/flags/nigeria-flag.png",Estonia:"/assets/flags/estonia-flag.png",Montenegro:"/assets/flags/montenegro-flag.png",Peru:"/assets/flags/peru-flag.png",Jamaica:"/assets/flags/jamaica-flag.png",Malta:"/assets/flags/malta-flag.png",Uruguay:"/assets/flags/uruguay-flag.png",Iceland:"/assets/flags/iceland-flag.png",Bahrain:"/assets/flags/bahrain-flag.png",Luxembourg:"/assets/flags/luxembourg-flag.png","Costa Rica":"/assets/flags/costa-rica-flag.png","Puerto Rico":"/assets/flags/puerto-rico-flag.png",Jordan:"/assets/flags/jordan-flag.png",Kuwait:"/assets/flags/kuwait-flag.png",Venezuela:"/assets/flags/venezuela-flag.png",Ghana:"/assets/flags/ghana-flag.png",Tunisia:"/assets/flags/tunusia-flag.png",Nepal:"/assets/flags/nepal-flag.png","Ivory Coast":"/assets/flags/ivory-coast-flag.png",Macedonia:"/assets/flags/macedonia-flag.png",Kyrgyzstan:"/assets/flags/kyrgyzstan-flag.png",Uzbekistan:"/assets/flags/uzbekistan-flag.png",Libya:"/assets/flags/libya-flag.png",Bosnia:"/assets/flags/bosnia-flag.png",Iran:"/assets/flags/iran-flag.png",Kosovo:"/assets/flags/kosovo-flag.png",Mongolia:"/assets/flags/mongolia-flag.png",Syria:"/assets/flags/syria-flag.png",Tanzania:"/assets/flags/tanzania-flag.png",Malaysia:"/assets/flags/malaysia-flag.png",Paraguay:"/assets/flags/paraguay-flag.png",Monaco:"/assets/flags/monaco-flag.png",Senegal:"/assets/flags/senegal-flag.png",Somalia:"/assets/flags/somalia-flag.png","Dominican Republic":"/assets/flags/dominican-republic-flag.png",Cameroon:"/assets/flags/cameroon-flag.png","Republic of Congo":"/assets/flags/republic-of-congo-flag.png",Guatemala:"/assets/flags/guatemala-flag.png",Sudan:"/assets/flags/sudan-flag.png",Cuba:"/assets/flags/cuba-flag.png",Tajikistan:"/assets/flags/tajikistan-flag.png",Laos:"/assets/flags/laos-flag.png",Honduras:"/assets/flags/honduras-flag.png",Ethiopia:"/assets/flags/ethiopia-flag.png",Yemen:"/assets/flags/yemen-flag.png",Guinea:"/assets/flags/guinea-flag.png",Slovenia:"/assets/flags/slovenia-flag.png","Burkina Faso":"/assets/flags/burkina-faso-flag.png",Bahamas:"/assets/flags/bahamas-flag.png","North Korea":"/assets/flags/north-korea-flag.png",Turkmenistan:"/assets/flags/turkmenistan-flag.png",Mauritius:"/assets/flags/mauritius-flag.png",Gambia:"/assets/flags/gambia-flag.png",Niger:"/assets/flags/niger-flag.png","Trinidad and Tobago":"/assets/flags/trinidad-and-tobago-flag.png","Sierra Leone":"/assets/flags/sierra-leone-flag.png",Benin:"/assets/flags/benin-flag.png","South Sudan":"/assets/flags/south-sudan-flag.png",Togo:"/assets/flags/togo-flag.png",Mauritania:"/assets/flags/mauritania-flag.png",Madagascar:"/assets/flags/madagascar-flag.png","Saint Vincent and the Grenadines":"/assets/flags/saint-vincent-and-the-grenadines-flag.png",Suriname:"/assets/flags/suriname-flag.png","Faroe Islands":"/assets/flags/faroe-islands-flag.png",Greenland:"/assets/flags/greenland-flag.png",Burundi:"/assets/flags/burundi-flag.png",Guyana:"/assets/flags/guyana-flag.png","French Guiana":"/assets/flags/french-guiana-flag.png",Tonga:"/assets/flags/tonga-flag.png","Central African Republic":"/assets/flags/central-african-republic-flag.png",Djibouti:"/assets/flags/djibouti-flag.png"},F=e=>{let{visible:a,onClose:t,sortOption:o,setSortOption:l,nearbyOption:c,setNearbyOption:g,countryOption:u,setCountryOption:d,currentCountry:p,currentCity:f}=e,{SERVER_URL:m}=(0,r.U)(),{t:h}=(0,i.Bd)(),[_,y]=(0,n.useState)({opacity:0,transform:"scale(0.9)"}),[x,v]=(0,n.useState)(a);(0,n.useEffect)(()=>{a?(v(!0),setTimeout(()=>{y({opacity:1,transform:"scale(1)"})},10)):(y({opacity:0,transform:"scale(0.9)"}),setTimeout(()=>{v(!1),t()},300))},[a,t]);let[k,j]=(0,n.useState)(1),[S,b]=(0,n.useState)(1),[C,T]=(0,n.useState)(1),[N,w]=(0,n.useState)(1),[B,I]=(0,n.useState)(1),[P,F]=(0,n.useState)(1);return(0,s.jsx)(s.Fragment,{children:x&&(0,s.jsx)("div",{className:M().modalOverlay,style:_,children:(0,s.jsxs)("div",{className:M().overlayInnerContent,children:[(0,s.jsx)("h2",{className:M().overlayTitle,children:h("filter_options")}),(0,s.jsxs)("div",{className:M().optionGroup,children:[(0,s.jsx)("span",{className:M().optionLabel,children:h("sort_by")}),(0,s.jsx)("button",{className:M().optionButton,onClick:()=>{let e=["latest","popularity","recommended","distance"],a=e[(e.indexOf(o)+1)%e.length];j(.8),b(0),setTimeout(()=>{l(a),j(1.1),b(1),setTimeout(()=>{j(1)},100)},200)},children:(0,s.jsx)("span",{className:M().optionText,style:{transform:"scale(".concat(k,")"),opacity:S},children:h("sort_options.".concat(o))})})]}),(0,s.jsxs)("div",{className:M().optionGroup,children:[(0,s.jsx)("span",{className:M().optionLabel,children:h("nearby_filter_options")}),(0,s.jsx)("button",{className:M().optionButton,onClick:()=>{let e=c===h("nearby-only")?h("anywhere"):h("nearby-only");T(.8),w(0),setTimeout(()=>{g(e),T(1.1),w(1),setTimeout(()=>{T(1)},100)},200)},children:(0,s.jsx)("span",{className:M().optionText,style:{transform:"scale(".concat(C,")"),opacity:N},children:h("nearby_options.".concat(c))})})]}),void 0!==u&&void 0!==d&&void 0!==p&&void 0!==f&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:M().optionGroup,children:[(0,s.jsx)("span",{className:M().optionLabel,children:h("current_location")}),(0,s.jsxs)("div",{className:M().locationInfoContainer,children:["Unknown"!==p&&""!==p&&(0,s.jsx)("img",{src:A[p]||"",alt:p,className:M().locationFlag}),(0,s.jsxs)("div",{className:M().locationTextContainer,children:[(0,s.jsx)("span",{className:M().locationText,children:p}),(0,s.jsx)("span",{className:M().locationText,children:f})]})]})]}),(0,s.jsxs)("div",{className:M().optionGroup,children:[(0,s.jsx)("span",{className:M().optionLabel,children:h("country_filter")}),(0,s.jsx)("button",{className:M().optionButton,onClick:()=>{if(!d)return;let e=u===h("all_countries")?h("same_country"):h("all_countries");I(.8),F(0),setTimeout(()=>{d(e),I(1.1),F(1),setTimeout(()=>{I(1)},100)},200)},children:(0,s.jsx)("span",{className:M().optionText,style:{transform:"scale(".concat(B,")"),opacity:P},children:u})})]})]}),(0,s.jsx)("button",{className:M().closeButton,onClick:t,children:h("close")})]})})})};var O=t(560),E=t.n(O);let D=[{key:"language_study",color:"#D8315B"},{key:"cooking_enthusiasts",color:"#F2542D"},{key:"volunteer_activities",color:"#D8315B"},{key:"fitness_group",color:"#F2542D"},{key:"international_food_exchange",color:"#D8315B"},{key:"team_sports",color:"#F2542D"},{key:"hidden_spots_tour",color:"#F2542D"},{key:"photography_group",color:"#0A1045"},{key:"study_cafe",color:"#0A1045"},{key:"cultural_exchange",color:"#D8315B"},{key:"running_mates",color:"#F2542D"},{key:"academy_mates",color:"#0A1045"},{key:"movie_group",color:"#F2542D"},{key:"art_gathering",color:"#D8315B"},{key:"spontaneous_travel",color:"#F2542D"},{key:"karaoke_group",color:"#F2542D"},{key:"bowling_group",color:"#0A1045"},{key:"gaming_group",color:"#D8315B"},{key:"duo_dining",color:"#F2542D"},{key:"board_game_cafe",color:"#D8315B"},{key:"hobby_exchange",color:"#0A1045"},{key:"reading_group",color:"#D8315B"},{key:"bucket_list",color:"#F2542D"},{key:"sports_viewing",color:"#F2542D"},{key:"dog_walking",color:"#D8315B"},{key:"morning_hiking",color:"#0A1045"},{key:"camping_group",color:"#0A1045"},{key:"climbing_group",color:"#F2542D"},{key:"horror_movie_group",color:"#D8315B"},{key:"local_tours",color:"#0A1045"},{key:"bbq_gathering",color:"#F2542D"},{key:"writing_workshop",color:"#F2542D"},{key:"museum_visits",color:"#0A1045"},{key:"film_discussion_club",color:"#D8315B"},{key:"book_swap_club",color:"#0A1045"},{key:"music_jam_session",color:"#D8315B"},{key:"campus_tour_history",color:"#0A1045"}],z=e=>{let{visible:a,onClose:t,myTopics:o,setMyTopics:l}=e,{SERVER_URL:c}=(0,r.U)(),{t:g}=(0,i.Bd)(),[u,d]=(0,n.useState)(200*!a),[p,f]=(0,n.useState)(+!!a),[m,h]=(0,n.useState)(D.map(()=>-200)),[_,y]=(0,n.useState)(D.map(()=>1)),[x,v]=(0,n.useState)(!1),k=(0,n.useRef)(!0);(0,n.useEffect)(()=>{a?(d(0),f(1),D.forEach((e,a)=>{setTimeout(()=>{h(e=>{let t=[...e];return t[a]=0,t})},100*a)})):(d(200),f(0),D.forEach((e,a)=>{setTimeout(()=>{h(e=>{let t=[...e];return t[a]=-200,t})},100*a)}),setTimeout(()=>{t()},300))},[a,t]),(0,n.useEffect)(()=>{k.current?k.current=!1:D.forEach((e,a)=>{setTimeout(()=>{h(e=>{let t=[...e];return t[a]=0,t}),y(e=>{let t=[...e];return t[a]=1,t})},150)})},[x]);let j=async e=>{try{localStorage.setItem("myTopics",JSON.stringify(e))}catch(e){console.error("Failed to save topics:",e)}},S=(e,a)=>{let t;if(o.some(a=>a.key===e))y(e=>{let t=[...e];return t[a]=.98,t}),setTimeout(()=>{y(e=>{let t=[...e];return t[a]=1,t})},150),t=o.filter(a=>a.key!==e);else{y(e=>{let t=[...e];return t[a]=.95,t}),setTimeout(()=>{y(e=>{let t=[...e];return t[a]=1,t})},150);let s=D.find(a=>a.key===e);s&&(t=[...o,s])}t&&(l(t),j(t))},b=[];for(let e=0;e<D.length;e+=4)b.push(D.slice(e,e+4));return(0,s.jsxs)("div",{className:E().modal,onClick:t,children:[(0,s.jsx)("div",{className:E().overlayBackground}),(0,s.jsxs)("div",{className:E().overlayContainer,style:{transform:"translateY(".concat(u,"px)"),opacity:p},onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:E().header,children:[(0,s.jsxs)("div",{className:E().headerLeft,children:[(0,s.jsx)("h2",{className:E().headerTitle,children:g("change_topic_order")}),(0,s.jsx)("button",{className:E().toggleViewButton,onClick:()=>v(e=>!e),children:(0,s.jsx)("span",{className:E().toggleViewButtonText,children:x?g("toggle_ungroup_view"):g("toggle_group_view")})})]}),(0,s.jsx)("button",{className:E().closeButton,onClick:t,children:(0,s.jsx)("img",{src:"/assets/delete-icon-big.png",alt:"Close",className:E().deleteIcon})})]}),(0,s.jsx)("div",{className:E().scrollContent,children:x?b.map((e,a)=>(0,s.jsx)("div",{className:E().groupContainer,children:e.map(e=>{o.some(a=>a.key===e.key);let a=D.findIndex(a=>a.key===e.key);return(0,s.jsx)("div",{className:E().topicItem,style:{transform:"scale(".concat(_[a],")"),margin:"4px 0"},children:(0,s.jsx)("button",{className:E().topicButton,onClick:()=>S(e.key,a),children:(0,s.jsx)("span",{className:E().topicText,children:g("topics.".concat(e.key))})})},e.key)})},a)):D.map((e,a)=>(0,s.jsx)("div",{className:E().topicButtonWrapper,style:{transform:"translateX(".concat(m[a],"px) scale(").concat(_[a],")")},children:(0,s.jsx)("button",{className:E().topicButton,onClick:()=>S(e.key,a),children:(0,s.jsx)("span",{className:E().topicText,children:g("topics.".concat(e.key))})})},e.key))})]})]})};var R=t(7768),L=t(1347),W=t.n(L);let U=()=>window.innerWidth,G=()=>{let{SERVER_URL:e}=(0,r.U)(),{t:a}=(0,i.Bd)(),t=(0,o.useRouter)(),[c,g]=(0,n.useState)(U()),[p,f]=(0,n.useState)(c>=768),[m,h]=(0,n.useState)("default"),[y,x]=(0,n.useState)(!1),v=(0,n.useRef)(null),[k,j]=(0,n.useState)(null),[S,b]=(0,n.useState)(!1),[C,T]=(0,n.useState)(!1),N=[{key:"language_study",color:"#D8315B"},{key:"cooking_enthusiasts",color:"#F2542D"},{key:"volunteer_activities",color:"#D8315B"},{key:"fitness_group",color:"#F2542D"},{key:"international_food_exchange",color:"#D8315B"},{key:"team_sports",color:"#F2542D"}],[w,B]=(0,n.useState)(N),[P,M]=(0,n.useState)(N.map(e=>e.key)),[A,O]=(0,n.useState)(a("popularity")),[E,D]=(0,n.useState)(a("nearby-only")),[L,G]=(0,n.useState)(a("all_countries")),[q,J]=(0,n.useState)(!1),[Y,H]=(0,n.useState)(!1),[V,K]=(0,n.useState)([]),[X,Z]=(0,n.useState)([]),[Q,$]=(0,n.useState)(1),[ee,ea]=(0,n.useState)(!0),[et,es]=(0,n.useState)(!1),[en,eo]=(0,n.useState)(""),[el,ei]=(0,n.useState)(null),[er,ec]=(0,n.useState)(null),[eg,eu]=(0,n.useState)(null),[ed,ep]=(0,n.useState)(""),[ef,em]=(0,n.useState)(null),[eh,e_]=(0,n.useState)(A),[ey,ex]=(0,n.useState)(E),[ev,ek]=(0,n.useState)(L),[ej,eS]=(0,n.useState)(P),[eb,eC]=(0,n.useState)(N),[eT,eN]=(0,n.useState)(!1),[ew,eB]=(0,n.useState)(1),eI=()=>{v.current&&clearTimeout(v.current),x(!1),v.current=setTimeout(()=>x(!0),6e4)};(0,n.useEffect)(()=>{eI();let e=()=>eI();return window.addEventListener("mousemove",e),window.addEventListener("keydown",e),()=>{window.removeEventListener("mousemove",e),window.removeEventListener("keydown",e),v.current&&clearTimeout(v.current)}},[]),(0,n.useEffect)(()=>{b(!!localStorage.getItem("token"))},[]),(0,n.useEffect)(()=>{let e=()=>{let e=window.innerWidth;g(e);let a=e>=768;a!==p&&(f(a),h("key-".concat(e)))};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[p]),(0,n.useEffect)(()=>{if(S){let a=localStorage.getItem("token");j(localStorage.getItem("userId")),l.A.get("".concat(e,"/users/me"),{headers:{Authorization:"Bearer ".concat(a)}}).then(e=>{let{profileImage:a,profileThumbnail:t,originCountry:s}=e.data;ei(a||null),ec(t||null),eu(s||null)}).catch(e=>{console.error("Error fetching user data:",e),ei(null),ec(null)})}},[S,e]),(0,n.useEffect)(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(t=>{let{latitude:s,longitude:n}=t.coords;em({latitude:s,longitude:n}),(0,R.LF)(s,n,e).then(e=>{if(e){let{country:a,city:t}=e;eu(a||null),eo(t||"")}else eo(a("location_not_available"))}).catch(e=>{console.error("Error in reverse geocoding:",e),eo(a("location_not_available"))})},e=>{console.error("Error fetching geolocation:",e),eo(a("location_not_available"))})},[e,a]);let eP=async function(t){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];es(!0);try{let n=localStorage.getItem("token"),o=P.join(","),i=(await l.A.get("".concat(e,"/posts/filter"),{headers:{Authorization:n?"Bearer ".concat(n):""},params:{sort:A,nearbyOption:E,topics:o,page:t,limit:10,lat:ef?ef.latitude:0,lng:ef?ef.longitude:0,countryFilter:L===a("same_country")?eg:""}})).data;s?(Z(i),K(i)):(Z(e=>{let a=[...e,...i];return Array.from(new Map(a.map(e=>[e._id,e])).values())}),K(e=>{let a=[...e,...i];return Array.from(new Map(a.map(e=>[e._id,e])).values()).filter(e=>P.includes(e.category))})),i.length<10?ea(!1):ea(!0)}catch(e){console.error("Error fetching posts:",e)}finally{es(!1)}};(0,n.useEffect)(()=>{$(1),eP(1,!0)},[]),(0,n.useEffect)(()=>{Q>1&&eP(Q)},[Q]),(0,n.useEffect)(()=>{q||eh===A&&ey===E&&ev===L&&JSON.stringify(ej)===JSON.stringify(P)||($(1),eP(1,!0),e_(A),ex(E),ek(L),eS(P))},[q]),(0,n.useEffect)(()=>{Y||JSON.stringify(eb)===JSON.stringify(w)||($(1),eP(1,!0),eC(w))},[Y]);let eM=()=>{ed.trim()&&t.push("/search?searchTerm=".concat(encodeURIComponent(ed)))},eA=e=>{var a;return(0,s.jsx)("div",{className:p?W().postContainerTablet:W().postContainer,children:(0,s.jsx)(I,{postId:e._id,author:e.author,time:e.time,meetingTime:e.meetingTime,meetingPlace:e.meetingPlace,meetingCity:e.meetingCity,meetingCountry:e.meetingCountry,category:e.category,title:e.title,content:e.content,likes:e.likes,comments:e.comments,visitors:e.visitors,nicknameOption:e.nicknameOption,profileImage:e.profileImage,profileThumbnail:e.profileThumbnail,image:e.image,thumbnail:e.thumbnail,likedUsers:e.likedUsers,visitedUsers:e.visitedUsers,commentList:e.commentList,applicantsCount:e.applicantsCount,recruitmentCount:e.recruitmentCount,userId:e.userId,applicants:(null===(a=e.applicants)||void 0===a?void 0:a.map(e=>e.userId))||[],isBuddyPost:!1,latitude:e.meetingLatitude,longitude:e.meetingLongitude})},e._id)};return et&&1===Q?(0,s.jsxs)("div",{className:W().loadingContainer,children:[(0,s.jsx)("img",{src:"/assets/ActivityIndicatorOWLPink.gif",alt:"Loading",className:W().lottieAnimation}),(0,s.jsx)("p",{className:W().loadingText,children:a("loading_posts")})]}):(0,s.jsxs)("div",{className:W().container,onScroll:e=>{let{scrollTop:a,scrollHeight:t,clientHeight:s}=e.currentTarget;a>50&&!eT?(eN(!0),eB(0)):a<=50&&eT&&(eN(!1),eB(1)),t-a-s<100&&!et&&ee&&$(e=>e+1)},children:[C&&(0,s.jsx)(d,{visible:C,onLogin:()=>{T(!1),t.push("/signInLogIn")},onBrowse:()=>T(!1)}),(0,s.jsx)("div",{className:W().fixedHeader,style:{opacity:ew},children:(0,s.jsxs)("div",{className:W().header,children:[(0,s.jsx)("button",{className:W().logoButton,onClick:()=>{},children:(0,s.jsx)("img",{className:W().logo,src:y?"/assets/sleepingOwl.png":"/assets/Owl-icon-pink.png",alt:"Logo"})}),(0,s.jsx)("div",{className:W().gradientBorderSearch,children:(0,s.jsx)("input",{className:W().searchBar,placeholder:a("search_placeholder"),value:ed,onChange:e=>ep(e.target.value),onBlur:eM,onKeyDown:e=>"Enter"===e.key&&eM()})}),(0,s.jsx)("button",{className:W().profileButton,onClick:()=>{S||T(!0)},children:(0,s.jsx)(_,{userId:k||"",profileImage:el||"",profileThumbnail:er||"",size:48})})]})}),(0,s.jsxs)("div",{className:W().flatList,children:[(()=>{let e=[];return V.forEach((a,t)=>{e.push({type:"post",data:a}),(t+1)%5==0&&e.push({type:"ad",key:"ad-".concat(t)})}),e})().map(e=>{let{item:a}=e;return"ad"===a.type?(0,s.jsx)("div",{className:W().adContainer,children:(0,s.jsx)("p",{children:"AD"})},a.key):eA(a.data?a.data:a)}),et&&(0,s.jsx)("div",{className:W().loadingIndicator,children:a("loading_posts")})]},m),(0,s.jsxs)("div",{className:W().topicSlideContainer,children:[(0,s.jsx)(u,{myTopics:w,selectedTopics:P,setSelectedTopics:M,isCompact:eT,handleSelectTopic:(e,a)=>{if("no_topic"===e)M([...w.map(e=>e.key),"no_topic"]);else{let a=P.includes(e)?P.filter(a=>a!==e):[...P,e];a.includes("no_topic")||a.push("no_topic"),M(a)}},t:a}),(0,s.jsxs)("div",{className:W().sortAndFilterRow,children:[(0,s.jsx)("div",{className:W().togglesContainer,children:(0,s.jsx)("button",{className:W().changeTopicButton,onClick:()=>J(!0),children:a("filter")})}),(0,s.jsx)("button",{className:W().changeTopicButton,onClick:()=>H(!0),children:a("change_topic_order")})]})]}),(0,s.jsx)(F,{visible:q,onClose:()=>J(!1),sortOption:A,setSortOption:O,nearbyOption:E,setNearbyOption:D,countryOption:L,setCountryOption:G,currentCountry:eg||"",currentCity:en}),Y&&(0,s.jsx)(z,{visible:Y,onClose:()=>H(!1),myTopics:w,setMyTopics:B})]})}},1347:e=>{e.exports={container:"Post_container__s8CIx",fixedHeader:"Post_fixedHeader___NHM5",header:"Post_header__n8A3q",logoButton:"Post_logoButton__RWzXp",logo:"Post_logo__xgCW8",gradientBorderSearch:"Post_gradientBorderSearch__kXZ2K",searchBar:"Post_searchBar__UJa7C",profileButton:"Post_profileButton__r99O2",flatList:"Post_flatList__hnkZD",postContainer:"Post_postContainer__rbrdD",postContainerTablet:"Post_postContainerTablet__Jw1RY",loadingContainer:"Post_loadingContainer__BxUhB",loadingIndicator:"Post_loadingIndicator__VPeYc",loadingText:"Post_loadingText__5YBZ1",lottieAnimation:"Post_lottieAnimation__qWkU4",topicSlideContainer:"Post_topicSlideContainer__LFRDb",sortAndFilterRow:"Post_sortAndFilterRow__CfZ54",togglesContainer:"Post_togglesContainer__uovdP",changeTopicButton:"Post_changeTopicButton__Exc1N",changeTopicButtonText:"Post_changeTopicButtonText__MB_b4",adContainer:"Post_adContainer__qIMm_",androidBlur:"Post_androidBlur__MOrFb",blurFull:"Post_blurFull__OGc7n",gradientMask:"Post_gradientMask__EKbQq"}},1772:e=>{e.exports={container:"ProfileWithFlag_container__fXJUY",profileImage:"ProfileWithFlag_profileImage__kvu3h",gradientBorder:"ProfileWithFlag_gradientBorder__c_Y4a",flagWrapper:"ProfileWithFlag_flagWrapper__C0EJW",flagImage:"ProfileWithFlag_flagImage__mZNJt",spinner:"ProfileWithFlag_spinner__j6Bkl",spin:"ProfileWithFlag_spin__7po5D",modal:"ProfileWithFlag_modal__KzG8T"}},1875:e=>{let a=Math.asin,t=Math.cos,s=Math.sin,n=Math.sqrt,o=Math.PI;function l(e){return e*o/180}function i(e){var a;return(a=s(e/2))*a}e.exports=function(e,s){let o=l(Array.isArray(e)?e[1]:e.latitude??e.lat),r=l(Array.isArray(s)?s[1]:s.latitude??s.lat),c=l(Array.isArray(e)?e[0]:e.longitude??e.lng??e.lon),g=l(Array.isArray(s)?s[0]:s.longitude??s.lng??s.lon);return 0xc2a532*a(n(i(r-o)+t(o)*t(r)*i(g-c)))}},5193:e=>{e.exports={container:"TopicSlider_container__oASiY",topicToggleContainer:"TopicSlider_topicToggleContainer__4NXLY",slider:"TopicSlider_slider___LuZT",sliderGradient:"TopicSlider_sliderGradient__Sqi4B",horizontalScroll:"TopicSlider_horizontalScroll__LqJo5",topicButtonAll:"TopicSlider_topicButtonAll__nldzX",allButton:"TopicSlider_allButton__sRTVb",allTopicText:"TopicSlider_allTopicText__gzEJW",topicButton:"TopicSlider_topicButton__k8V42",topicText:"TopicSlider_topicText__Ufr1l"}},6734:e=>{e.exports={box:"PostMain_box__ec0j5",cardContainer:"PostMain_cardContainer__5qPE2",postMain:"PostMain_postMain__eT_zr",postContent:"PostMain_postContent__hJ2Hs",transparentBackground:"PostMain_transparentBackground__CWnVO",textContent:"PostMain_textContent__rRdPy",authorInformation:"PostMain_authorInformation__iid80",profileImage:"PostMain_profileImage__xCp_Z",author:"PostMain_author__m70l4",authorText:"PostMain_authorText__s4Msz",timeCategoryText:"PostMain_timeCategoryText__lK3rT",postTextSet:"PostMain_postTextSet__f4z5_",postTitle:"PostMain_postTitle__zvGtm",postContents:"PostMain_postContents__9sSut",postTextImageSet:"PostMain_postTextImageSet__LWNbb",postInformation:"PostMain_postInformation__3cAX6",iconInfo:"PostMain_iconInfo__bvDbk",iconInfoAll:"PostMain_iconInfoAll__hV6GJ",iconText:"PostMain_iconText__YhBw2",icon:"PostMain_icon___k_FA",mapIcon:"PostMain_mapIcon__dzQLC",postImage:"PostMain_postImage__MAs9y",postImageCover:"PostMain_postImageCover__vfDgX",recruitmentBadge:"PostMain_recruitmentBadge__YZ3Jd",badgeIcon:"PostMain_badgeIcon__zAP8p",recruitmentBadgeText:"PostMain_recruitmentBadgeText__9u36U",circleWrapper:"PostMain_circleWrapper__HalE_",circle:"PostMain_circle__yHIVM",marqueeContainer:"PostMain_marqueeContainer__KYf1B",marqueeWrapper:"PostMain_marqueeWrapper__flooE",marqueeText:"PostMain_marqueeText__SpYrF",floatingHeart:"PostMain_floatingHeart__ikSso",mapBackground:"PostMain_mapBackground__Sh3va",mapPreviewContainer:"PostMain_mapPreviewContainer__6NW4q",mapImage:"PostMain_mapImage__a9g1T",mapOverlay:"PostMain_mapOverlay__Udjwh",distanceOverlay:"PostMain_distanceOverlay__v1RU8",distanceText:"PostMain_distanceText__nKPo1",mapPlaceText:"PostMain_mapPlaceText__raNe6",iconRow:"PostMain_iconRow__kY2E5",placeRow:"PostMain_placeRow__0UCye",applicantsContainer:"PostMain_applicantsContainer__7EuYa",appilcantsContainer:"PostMain_appilcantsContainer__k7udc",appilcantsText:"PostMain_appilcantsText__aw_ve",scrollContainer:"PostMain_scrollContainer__q3M2F"}},8997:e=>{e.exports={modalOverlay:"FilterOverlay_modalOverlay__mqFrU",overlayInnerContent:"FilterOverlay_overlayInnerContent__4WJi8",overlayTitle:"FilterOverlay_overlayTitle__DWMaf",optionGroup:"FilterOverlay_optionGroup__N8vwL",optionLabel:"FilterOverlay_optionLabel__BQ7gH",optionButton:"FilterOverlay_optionButton__40cM_",optionText:"FilterOverlay_optionText__jmiYJ",locationInfoContainer:"FilterOverlay_locationInfoContainer__vk8mR",locationFlag:"FilterOverlay_locationFlag__nwy7y",locationTextContainer:"FilterOverlay_locationTextContainer__Vm6Z_",locationText:"FilterOverlay_locationText__2Vnf4",closeButton:"FilterOverlay_closeButton__wqBYc"}}},e=>{var a=a=>e(e.s=a);e.O(0,[12,935,218,794,82,768,441,684,358],()=>a(629)),_N_E=e.O()}]);