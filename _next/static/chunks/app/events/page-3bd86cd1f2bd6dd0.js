(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8634],{66088:e=>{e.exports={container:"Events_container__2NN6d",jsonBtn:"Events_jsonBtn__KlCwI",header:"Events_header__QMT11",addButton:"Events_addButton__1M7t1",table:"Events_table__1DjqY",editBtn:"Events_editBtn__q39nB",delBtn:"Events_delBtn__N4tnR",modalBackdrop:"Events_modalBackdrop__uaIsD",modal:"Events_modal__P86H5",checkboxLabel:"Events_checkboxLabel__xAjnG",modalButtons:"Events_modalButtons__HZCOZ",saveBtn:"Events_saveBtn__S15Xd",cancelBtn:"Events_cancelBtn__YSE98"}},66871:(e,t,a)=>{Promise.resolve().then(a.bind(a,96868))},89760:(e,t,a)=>{"use strict";a.d(t,{s:()=>v,U:()=>h});var n=a(95155),s=a(12115),r=a(49509);function l(e){switch(e.trim().toUpperCase()){case"BETA":return"https://beta.fcde.app";case"DEVELOPMENT":return"https://dev.fcde.app";case"CA":case"CANADA":return"https://ca.fcde.app";case"AU":case"AUSTRALIA":return"https://au.fcde.app";case"GB":case"UK":return"https://uk.fcde.app";case"KR":case"KOREA":return"https://kr.fcde.app";default:return"https://fcde.app"}}function i(){return"https://fcde.app"}async function c(e){try{return(await fetch("".concat(e,"/health"),{method:"GET"})).ok}catch(e){return!1}}async function o(){let e=null;try{let t=localStorage.getItem("selectedServer");t&&(e=t)}catch(e){}for(let t of(!e&&r.env.NEXT_PUBLIC_FORCED_DEFAULT_SERVER&&(e=r.env.NEXT_PUBLIC_FORCED_DEFAULT_SERVER),e||(e=function(){try{let e=localStorage.getItem("region");if(e)return e}catch(e){}if("undefined"!=typeof navigator&&navigator.language){let e=navigator.language.split("-");if(e.length>1)return e[1]}return"KR"}()),[e,"Beta","Development"])){let e=l(t);if(await c(e))return e}return l(e)}let d={SERVER_URL:i(),APP_VERSION:r.env.NEXT_PUBLIC_APP_VERSION||"",FACEBOOK_INTERSTITIAL_PLACEMENT_ID:r.env.NEXT_PUBLIC_FACEBOOK_INTERSTITIAL_PLACEMENT_ID||"",FACEBOOK_BANNER_PLACEMENT_ID:r.env.NEXT_PUBLIC_FACEBOOK_BANNER_PLACEMENT_ID||"",FEATURE_UNDER_DEV:"true"===(r.env.NEXT_PUBLIC_FEATURE_UNDER_DEV||"true").toLowerCase(),TEST_AD_MODE:"true"===(r.env.NEXT_PUBLIC_TEST_AD_MODE||"false").toLowerCase()},u=(0,s.createContext)(null),v=e=>{let{children:t}=e,[a,r]=(0,s.useState)(i());(0,s.useEffect)(()=>{let e=!0;return(async()=>{try{let t=await o();e&&r(t)}catch(e){}})(),()=>{e=!1}},[]);let l={SERVER_URL:a,APP_VERSION:d.APP_VERSION,FACEBOOK_INTERSTITIAL_PLACEMENT_ID:d.FACEBOOK_INTERSTITIAL_PLACEMENT_ID,FACEBOOK_BANNER_PLACEMENT_ID:d.FACEBOOK_BANNER_PLACEMENT_ID,FEATURE_UNDER_DEV:d.FEATURE_UNDER_DEV,TEST_AD_MODE:d.TEST_AD_MODE};return(0,n.jsx)(u.Provider,{value:l,children:t})},h=()=>{let e=(0,s.useContext)(u);if(!e)throw Error("useConfig must be used within a ConfigProvider");return e}},96868:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var n=a(95155),s=a(12115),r=a(23464),l=a(89760),i=a(66088),c=a.n(i);let o=[{code:"ca-central-1",label:"Canada"},{code:"ap-southeast-2",label:"Australia"},{code:"eu-west-2",label:"United Kingdom"},{code:"ap-northeast-2",label:"South Korea"}];function d(){let{SERVER_URL:e}=(0,l.U)(),[t,a]=(0,s.useState)(!1),[i,d]=(0,s.useState)(""),[u,v]=(0,s.useState)(o[0].code),[h,_]=(0,s.useState)([]),[E,p]=(0,s.useState)(!1),[g,x]=(0,s.useState)(null),[j,m]=(0,s.useState)({eventName:"",description:"",category:"",officialLink:"",source:{name:"",url:""},openingHours:{startTime:"",endTime:""},eventPeriod:{startDate:"",endDate:""},venue:{name:"",address:"",city:"",provinceOrState:"",country:"Canada"},location:{coordinates:[0,0]},tags:[],images:[],organizer:{name:"",website:""},verified:!1});async function C(){try{let t=await r.A.get("".concat(e,"/api/events/events/").concat(u));_(t.data)}catch(e){console.error(e)}}async function N(t){t&&(await r.A.delete("".concat(e,"/api/events/events/").concat(u,"/").concat(t)),C())}function f(e,t){m(a=>({...a,[e]:t}))}function A(e,t,a){m(n=>({...n,[e]:{...n[e]||{},[t]:a}}))}async function b(t){t.preventDefault();try{(null==g?void 0:g._id)?await r.A.put("".concat(e,"/api/events/events/").concat(u,"/").concat(g._id),j):await r.A.post("".concat(e,"/api/events/events/").concat(u),j),p(!1),C()}catch(e){console.error(e)}}return(0,s.useEffect)(()=>{C()},[u]),(0,n.jsxs)("div",{className:c().container,children:[(0,n.jsxs)("header",{className:c().header,children:[(0,n.jsxs)("h1",{children:["Region:"," ",(0,n.jsx)("select",{value:u,onChange:function(e){v(e.target.value)},children:o.map(e=>(0,n.jsx)("option",{value:e.code,children:e.label},e.code))})]}),(0,n.jsx)("button",{onClick:function(){x(null),m({eventName:"",description:"",category:"",officialLink:"",source:{name:"",url:""},openingHours:{startTime:"",endTime:""},eventPeriod:{startDate:"",endDate:""},venue:{name:"",address:"",city:"",provinceOrState:"",country:"Canada"},location:{coordinates:[0,0]},tags:[],images:[],organizer:{name:"",website:""},verified:!1}),p(!0)},className:c().addButton,children:"+ New Event"})]}),(0,n.jsxs)("table",{className:c().table,children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"Name"}),(0,n.jsx)("th",{children:"Period"}),(0,n.jsx)("th",{children:"Venue"}),(0,n.jsx)("th",{children:"Verified"}),(0,n.jsx)("th",{children:"Actions"})]})}),(0,n.jsx)("tbody",{children:h.map(e=>(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:e.eventName}),(0,n.jsxs)("td",{children:[new Date(e.eventPeriod.startDate).toLocaleDateString()," — ",new Date(e.eventPeriod.endDate).toLocaleDateString()]}),(0,n.jsx)("td",{children:e.venue.name}),(0,n.jsx)("td",{children:e.verified?"✔️":"❌"}),(0,n.jsxs)("td",{children:[(0,n.jsx)("button",{onClick:()=>{x(e),m({...e,location:{coordinates:e.location.coordinates}}),p(!0)},className:c().editBtn,children:"Edit"}),(0,n.jsx)("button",{onClick:()=>N(e._id),className:c().delBtn,children:"Delete"}),(0,n.jsx)("button",{onClick:()=>{d(JSON.stringify(e,null,2)),a(!0)},className:c().jsonBtn,children:"JSON"})]})]},e._id))})]}),E&&(0,n.jsx)("div",{className:c().modalBackdrop,children:(0,n.jsxs)("form",{className:c().modal,onSubmit:b,children:[(0,n.jsx)("h2",{children:g?"Edit Event":"New Event"}),(0,n.jsxs)("label",{children:["Name:",(0,n.jsx)("input",{value:j.eventName,onChange:e=>f("eventName",e.target.value),required:!0})]}),(0,n.jsxs)("label",{children:["Description:",(0,n.jsx)("textarea",{value:j.description,onChange:e=>f("description",e.target.value)})]}),(0,n.jsxs)("label",{children:["Category:",(0,n.jsx)("input",{value:j.category,onChange:e=>f("category",e.target.value)})]}),(0,n.jsxs)("label",{children:["Official Link:",(0,n.jsx)("input",{value:j.officialLink,onChange:e=>f("officialLink",e.target.value)})]}),(0,n.jsxs)("label",{children:["Source Name:",(0,n.jsx)("input",{value:j.source.name,onChange:e=>A("source","name",e.target.value),required:!0})]}),(0,n.jsxs)("label",{children:["Source URL:",(0,n.jsx)("input",{value:j.source.url,onChange:e=>A("source","url",e.target.value)})]}),(0,n.jsxs)("label",{children:["Start Date:",(0,n.jsx)("input",{type:"date",value:j.eventPeriod.startDate.slice(0,10),onChange:e=>A("eventPeriod","startDate",e.target.value),required:!0})]}),(0,n.jsxs)("label",{children:["End Date:",(0,n.jsx)("input",{type:"date",value:j.eventPeriod.endDate.slice(0,10),onChange:e=>A("eventPeriod","endDate",e.target.value),required:!0})]}),(0,n.jsxs)("label",{children:["Venue Name:",(0,n.jsx)("input",{value:j.venue.name,onChange:e=>A("venue","name",e.target.value)})]}),(0,n.jsxs)("label",{children:["Venue Address:",(0,n.jsx)("input",{value:j.venue.address,onChange:e=>A("venue","address",e.target.value)})]}),(0,n.jsxs)("label",{children:["City:",(0,n.jsx)("input",{value:j.venue.city,onChange:e=>A("venue","city",e.target.value)})]}),(0,n.jsxs)("label",{children:["Province/State:",(0,n.jsx)("input",{value:j.venue.provinceOrState,onChange:e=>A("venue","provinceOrState",e.target.value)})]}),(0,n.jsxs)("label",{children:["Country:",(0,n.jsxs)("select",{value:j.venue.country,onChange:e=>A("venue","country",e.target.value),children:[(0,n.jsx)("option",{value:"Canada",children:"Canada"}),(0,n.jsx)("option",{value:"Australia",children:"Australia"}),(0,n.jsx)("option",{value:"United Kingdom",children:"United Kingdom"}),(0,n.jsx)("option",{value:"South Korea",children:"South Korea"})]})]}),(0,n.jsxs)("label",{children:["Coordinates (lng,lat):",(0,n.jsx)("input",{value:j.location.coordinates.join(","),onChange:e=>{let[t,a]=e.target.value.split(",").map(e=>parseFloat(e));A("location","coordinates",[t,a])}})]}),(0,n.jsxs)("label",{children:["Tags (comma separated):",(0,n.jsx)("input",{value:j.tags.join(","),onChange:e=>f("tags",e.target.value.split(",").map(e=>e.trim()))})]}),(0,n.jsxs)("label",{children:["Images (comma separated URLs):",(0,n.jsx)("input",{value:j.images.join(","),onChange:e=>f("images",e.target.value.split(",").map(e=>e.trim()))})]}),(0,n.jsxs)("label",{children:["Organizer Name:",(0,n.jsx)("input",{value:j.organizer.name,onChange:e=>A("organizer","name",e.target.value)})]}),(0,n.jsxs)("label",{children:["Organizer Website:",(0,n.jsx)("input",{value:j.organizer.website,onChange:e=>A("organizer","website",e.target.value)})]}),(0,n.jsxs)("label",{className:c().checkboxLabel,children:[(0,n.jsx)("input",{type:"checkbox",checked:j.verified,onChange:e=>f("verified",e.target.checked)}),"Verified"]}),(0,n.jsxs)("div",{className:c().modalButtons,children:[(0,n.jsx)("button",{type:"submit",className:c().saveBtn,children:"Save"}),(0,n.jsx)("button",{type:"button",className:c().cancelBtn,onClick:()=>p(!1),children:"Cancel"})]})]})}),t&&(0,n.jsx)("div",{className:c().modalBackdrop,children:(0,n.jsxs)("div",{className:c().modal,children:[(0,n.jsx)("h2",{children:"Event JSON"}),(0,n.jsx)("pre",{style:{whiteSpace:"pre-wrap",wordBreak:"break-all",maxHeight:"60vh",overflowY:"auto"},children:i}),(0,n.jsx)("div",{className:c().modalButtons,children:(0,n.jsx)("button",{onClick:()=>a(!1),className:c().cancelBtn,children:"Close"})})]})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[335,3464,8441,1684,7358],()=>t(66871)),_N_E=e.O()}]);