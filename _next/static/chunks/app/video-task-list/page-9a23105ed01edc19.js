(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9543],{35695:(e,s,a)=>{"use strict";var t=a(18999);a.o(t,"usePathname")&&a.d(s,{usePathname:function(){return t.usePathname}}),a.o(t,"useRouter")&&a.d(s,{useRouter:function(){return t.useRouter}}),a.o(t,"useSearchParams")&&a.d(s,{useSearchParams:function(){return t.useSearchParams}})},45153:e=>{e.exports={container:"VideoTaskList_container__lkWOB",headerContainer:"VideoTaskList_headerContainer__c3QjD",header:"VideoTaskList_header__MJ9X2",toggleButton:"VideoTaskList_toggleButton__y1vNn",toggleText:"VideoTaskList_toggleText__8qIeW",list:"VideoTaskList_list__a__iT",loader:"VideoTaskList_loader__GJsaQ",spinner:"VideoTaskList_spinner__0cYwD",spin:"VideoTaskList_spin__PolEe",card:"VideoTaskList_card__776Z7",taskTitle:"VideoTaskList_taskTitle__8z4pQ",metaRow:"VideoTaskList_metaRow__HP5F6",status:"VideoTaskList_status__ePPu8",step:"VideoTaskList_step__0Pw24",error:"VideoTaskList_error__2kmLd",fab:"VideoTaskList_fab__vIg1F",fabText:"VideoTaskList_fabText__Uewgj",footer:"VideoTaskList_footer__kuwOX",modalOverlay:"VideoTaskList_modalOverlay__2if4U",modalContent:"VideoTaskList_modalContent__pUEEg",modalTitle:"VideoTaskList_modalTitle__qrx8L",modalSubTitle:"VideoTaskList_modalSubTitle__Dm53o",optionRow:"VideoTaskList_optionRow__sIGEs",optionButton:"VideoTaskList_optionButton__wHTbv",optionButtonSelected:"VideoTaskList_optionButtonSelected__KbWCZ",optionButtonText:"VideoTaskList_optionButtonText__Zx03s",timeText:"VideoTaskList_timeText__qaJIv",modalButton:"VideoTaskList_modalButton__wVO9B",modalButtonText:"VideoTaskList_modalButtonText__9w_LW",modalCancel:"VideoTaskList_modalCancel__4xYY_",modalCancelText:"VideoTaskList_modalCancelText__ZoRMH"}},89760:(e,s,a)=>{"use strict";a.d(s,{s:()=>r,U:()=>u});var t=a(95155),l=a(12115),o=a(49509);function n(){return"https://fcde.app"}async function i(){return n()}let c={SERVER_URL:n()||"https://www.fcde.app",APP_VERSION:o.env.NEXT_PUBLIC_APP_VERSION||"",FACEBOOK_INTERSTITIAL_PLACEMENT_ID:o.env.NEXT_PUBLIC_FACEBOOK_INTERSTITIAL_PLACEMENT_ID||"",FACEBOOK_BANNER_PLACEMENT_ID:o.env.NEXT_PUBLIC_FACEBOOK_BANNER_PLACEMENT_ID||"",FEATURE_UNDER_DEV:"true"===(o.env.NEXT_PUBLIC_FEATURE_UNDER_DEV||"true").toLowerCase(),TEST_AD_MODE:"true"===(o.env.NEXT_PUBLIC_TEST_AD_MODE||"false").toLowerCase()},d=(0,l.createContext)(null),r=e=>{let{children:s}=e,[a,o]=(0,l.useState)(n());(0,l.useEffect)(()=>{let e=!0;return(async()=>{try{let s=await i();e&&o(s)}catch(e){}})(),()=>{e=!1}},[]);let r={SERVER_URL:a,APP_VERSION:c.APP_VERSION,FACEBOOK_INTERSTITIAL_PLACEMENT_ID:c.FACEBOOK_INTERSTITIAL_PLACEMENT_ID,FACEBOOK_BANNER_PLACEMENT_ID:c.FACEBOOK_BANNER_PLACEMENT_ID,FEATURE_UNDER_DEV:c.FEATURE_UNDER_DEV,TEST_AD_MODE:c.TEST_AD_MODE};return(0,t.jsx)(d.Provider,{value:r,children:s})},u=()=>{let e=(0,l.useContext)(d);if(!e)throw Error("useConfig must be used within a ConfigProvider");return e}},95381:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>u});var t=a(95155),l=a(12115),o=a(35695),n=a(23464),i=a(45153),c=a.n(i),d=a(89760);let r=e=>{let s=new Date(e.getTime()-468e5);return{canadaTime:s,australiaTime:new Date(e.getTime()+36e5),ukTime:new Date(e.getTime()-324e5)}},u=()=>{let{SERVER_URL:e}=(0,d.U)(),s=(0,o.useRouter)(),[a,i]=(0,l.useState)([]),[u,m]=(0,l.useState)([]),[h,_]=(0,l.useState)(!1),[T,x]=(0,l.useState)(""),[p,N]=(0,l.useState)("tasks"),[k,j]=(0,l.useState)(null),[C,E]=(0,l.useState)("Daily"),[S,L]=(0,l.useState)(12),[B,w]=(0,l.useState)("Monday"),[y,A]=(0,l.useState)(new Date),[g,v]=(0,l.useState)(null),D=async()=>{_(!0);try{let s=await n.A.get("".concat(e,"/api/video-tasks"),{withCredentials:!0});i(s.data.tasks)}catch(e){x(e.message)}finally{_(!1)}},P=async()=>{_(!0);try{let s=await n.A.get("".concat(e,"/api/task-schedules"),{withCredentials:!0});m(s.data.schedules)}catch(e){x(e.message)}finally{_(!1)}};(0,l.useEffect)(()=>{D()},[]),(0,l.useEffect)(()=>{"tasks"===p?D():P()},[p]);let V=async()=>{try{let s={type:"auto",auto:{mode:C.toLowerCase(),hour:S,..."Weekly"===C&&{weekday:B}}};await n.A.post("".concat(e,"/api/task-schedules"),s,{withCredentials:!0}),alert("Auto Pilot schedule saved successfully."),j("main"),"schedules"===p&&P()}catch(e){alert("Failed to save auto schedule: ".concat(e.message))}},b=async()=>{try{let s={type:"scheduled",scheduledFor:y.toISOString()};await n.A.post("".concat(e,"/api/task-schedules"),s,{withCredentials:!0}),alert("Scheduled task saved successfully."),j("main"),"schedules"===p&&P()}catch(e){alert("Failed to save scheduled task: ".concat(e.message))}},f=async s=>{if(confirm("Are you sure you want to stop this schedule?"))try{await n.A.put("".concat(e,"/api/task-schedules/").concat(s,"/stop"),{},{withCredentials:!0}),alert("Schedule stopped successfully."),j(null),P()}catch(e){alert("Failed to stop schedule: ".concat(e.message))}},R=async s=>{if(confirm("Are you sure you want to delete this schedule?"))try{await n.A.delete("".concat(e,"/api/task-schedules/").concat(s),{withCredentials:!0}),alert("Schedule deleted successfully."),j(null),P()}catch(e){alert("Failed to delete schedule: ".concat(e.message))}},{canadaTime:O,australiaTime:I,ukTime:F}=r(y);return(0,t.jsxs)("div",{className:c().container,children:[(0,t.jsxs)("div",{className:c().headerContainer,children:[(0,t.jsx)("h1",{className:c().header,children:"tasks"===p?"Existing Video Tasks":"Existing Schedules"}),(0,t.jsx)("button",{className:c().toggleButton,onClick:()=>{N(e=>"tasks"===e?"schedules":"tasks")},children:(0,t.jsx)("span",{className:c().toggleText,children:"tasks"===p?"Show Schedules":"Show Tasks"})})]}),h?(0,t.jsx)("div",{className:c().loader,children:(0,t.jsx)("div",{className:c().spinner})}):"tasks"===p?(0,t.jsx)("div",{className:c().list,children:a.map(e=>(0,t.jsxs)("div",{className:c().card,onClick:()=>s.push("/video-production?taskId=".concat(e._id)),children:[(0,t.jsxs)("h2",{className:c().taskTitle,children:["Task #",e._id.slice(-6)]}),(0,t.jsxs)("div",{className:c().metaRow,children:[(0,t.jsx)("span",{className:c().status,children:e.status.toUpperCase()}),(0,t.jsxs)("span",{className:c().step,children:["Step: ",e.currentStep]})]})]},e._id))}):(0,t.jsx)("div",{className:c().list,children:u.map(e=>{let s=e.scheduledFor?new Date(e.scheduledFor):null;return(0,t.jsxs)("div",{className:c().card,onClick:()=>{v(e),j("scheduleDetail")},children:[(0,t.jsxs)("h2",{className:c().taskTitle,children:["Schedule #",e._id.slice(-6)]}),(0,t.jsxs)("div",{className:c().metaRow,children:[(0,t.jsxs)("span",{className:c().status,children:[e.type.toUpperCase()," ",!e.active&&"(STOPPED)"]}),s&&(0,t.jsx)("span",{className:c().step,children:s.toLocaleString()}),e.auto&&(0,t.jsxs)("span",{className:c().step,children:["Mode: ",e.auto.mode]})]})]},e._id)})}),T&&(0,t.jsx)("div",{className:c().error,children:T}),(0,t.jsx)("button",{className:c().fab,onClick:()=>j("main"),children:(0,t.jsx)("span",{className:c().fabText,children:"+"})}),k&&(0,t.jsx)("div",{className:c().modalOverlay,onClick:()=>j(null),children:(0,t.jsxs)("div",{className:c().modalContent,onClick:e=>e.stopPropagation(),children:["main"===k&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h2",{className:c().modalTitle,children:"Choose an Option"}),(0,t.jsx)("button",{className:c().modalButton,onClick:()=>j("auto"),children:(0,t.jsx)("span",{className:c().modalButtonText,children:"Auto Pilot Mode"})}),(0,t.jsx)("button",{className:c().modalButton,onClick:()=>j("schedule"),children:(0,t.jsx)("span",{className:c().modalButtonText,children:"Schedule Task"})}),(0,t.jsx)("button",{className:c().modalButton,onClick:()=>{j(null),s.push("/video-production")},children:(0,t.jsx)("span",{className:c().modalButtonText,children:"Create Manually"})}),(0,t.jsx)("button",{className:c().modalCancel,onClick:()=>j(null),children:(0,t.jsx)("span",{className:c().modalCancelText,children:"Cancel"})})]}),"auto"===k&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h2",{className:c().modalTitle,children:"Auto Pilot Mode"}),(0,t.jsx)("p",{className:c().modalSubTitle,children:"Select mode:"}),(0,t.jsx)("div",{className:c().optionRow,children:["Daily","Weekly"].map(e=>(0,t.jsx)("button",{className:"".concat(c().optionButton," ").concat(C===e?c().optionButtonSelected:""),onClick:()=>E(e),children:(0,t.jsx)("span",{className:c().optionButtonText,children:e})},e))}),"Weekly"===C&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{className:c().modalSubTitle,children:"Select weekday:"}),(0,t.jsx)("div",{className:c().optionRow,children:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map(e=>(0,t.jsx)("button",{className:"".concat(c().optionButton," ").concat(B===e?c().optionButtonSelected:""),onClick:()=>w(e),children:(0,t.jsx)("span",{className:c().optionButtonText,children:e})},e))})]}),(0,t.jsx)("p",{className:c().modalSubTitle,children:"Select Hour (KST):"}),(0,t.jsx)("div",{className:c().optionRow,children:Array.from({length:24},(e,s)=>s).map(e=>(0,t.jsx)("button",{className:"".concat(c().optionButton," ").concat(S===e?c().optionButtonSelected:""),onClick:()=>L(e),children:(0,t.jsx)("span",{className:c().optionButtonText,children:e})},e))}),(0,t.jsx)("p",{className:c().modalSubTitle,children:"Time Conversion:"}),(0,t.jsxs)("p",{className:c().timeText,children:["KST: ",new Date().setHours(S,0,0,0)&&new Date().toLocaleTimeString()]}),(0,t.jsxs)("p",{className:c().timeText,children:["Canada: ",O.toLocaleTimeString()]}),(0,t.jsxs)("p",{className:c().timeText,children:["Australia: ",I.toLocaleTimeString()]}),(0,t.jsxs)("p",{className:c().timeText,children:["UK: ",F.toLocaleTimeString()]}),(0,t.jsx)("button",{className:c().modalButton,onClick:V,children:(0,t.jsx)("span",{className:c().modalButtonText,children:"Save"})}),(0,t.jsx)("button",{className:c().modalCancel,onClick:()=>j("main"),children:(0,t.jsx)("span",{className:c().modalCancelText,children:"Back"})})]}),"schedule"===k&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h2",{className:c().modalTitle,children:"Schedule Task"}),(0,t.jsx)("button",{className:c().modalButton,onClick:()=>A(new Date),children:(0,t.jsx)("span",{className:c().modalButtonText,children:"Set to Now"})}),(0,t.jsx)("p",{className:c().modalSubTitle,children:"Selected (KST):"}),(0,t.jsx)("p",{className:c().timeText,children:y.toLocaleString()}),(0,t.jsx)("p",{className:c().modalSubTitle,children:"Time Conversion:"}),(0,t.jsxs)("p",{className:c().timeText,children:["Canada: ",O.toLocaleTimeString()]}),(0,t.jsxs)("p",{className:c().timeText,children:["Australia: ",I.toLocaleTimeString()]}),(0,t.jsxs)("p",{className:c().timeText,children:["UK: ",F.toLocaleTimeString()]}),(0,t.jsx)("button",{className:c().modalButton,onClick:b,children:(0,t.jsx)("span",{className:c().modalButtonText,children:"Save"})}),(0,t.jsx)("button",{className:c().modalCancel,onClick:()=>j("main"),children:(0,t.jsx)("span",{className:c().modalCancelText,children:"Back"})})]}),"scheduleDetail"===k&&g&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h2",{className:c().modalTitle,children:"Schedule Detail"}),(0,t.jsxs)("p",{className:c().modalSubTitle,children:[g.type.toUpperCase(),!g.active&&" (STOPPED)",g.auto&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("br",{}),"Mode: ",g.auto.mode,(0,t.jsx)("br",{}),"Hour: ",g.auto.hour,g.auto.weekday&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("br",{}),"Weekday: ",g.auto.weekday]})]})]}),g.scheduledFor&&(0,t.jsxs)("p",{className:c().timeText,children:["Scheduled For: ",new Date(g.scheduledFor).toLocaleString()]}),(0,t.jsx)("button",{className:c().modalButton,onClick:()=>f(g._id),children:(0,t.jsx)("span",{className:c().modalButtonText,children:"Stop"})}),(0,t.jsx)("button",{className:c().modalButton,onClick:()=>R(g._id),children:(0,t.jsx)("span",{className:c().modalButtonText,children:"Delete"})}),(0,t.jsx)("button",{className:c().modalCancel,onClick:()=>j("main"),children:(0,t.jsx)("span",{className:c().modalCancelText,children:"Back"})})]})]})}),(0,t.jsx)("div",{className:c().footer,children:"\xa9 2025 Abrody"})]})}},98142:(e,s,a)=>{Promise.resolve().then(a.bind(a,95381))}},e=>{var s=s=>e(e.s=s);e.O(0,[986,3464,8441,1684,7358],()=>s(98142)),_N_E=e.O()}]);