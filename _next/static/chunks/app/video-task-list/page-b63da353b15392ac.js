(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9543],{35695:(e,a,s)=>{"use strict";var t=s(18999);s.o(t,"usePathname")&&s.d(a,{usePathname:function(){return t.usePathname}}),s.o(t,"useRouter")&&s.d(a,{useRouter:function(){return t.useRouter}}),s.o(t,"useSearchParams")&&s.d(a,{useSearchParams:function(){return t.useSearchParams}})},45153:e=>{e.exports={container:"VideoTaskList_container__lkWOB",headerContainer:"VideoTaskList_headerContainer__c3QjD",header:"VideoTaskList_header__MJ9X2",toggleButton:"VideoTaskList_toggleButton__y1vNn",toggleText:"VideoTaskList_toggleText__8qIeW",list:"VideoTaskList_list__a__iT",loader:"VideoTaskList_loader__GJsaQ",spinner:"VideoTaskList_spinner__0cYwD",spin:"VideoTaskList_spin__PolEe",card:"VideoTaskList_card__776Z7",taskTitle:"VideoTaskList_taskTitle__8z4pQ",metaRow:"VideoTaskList_metaRow__HP5F6",status:"VideoTaskList_status__ePPu8",step:"VideoTaskList_step__0Pw24",error:"VideoTaskList_error__2kmLd",fab:"VideoTaskList_fab__vIg1F",fabText:"VideoTaskList_fabText__Uewgj",footer:"VideoTaskList_footer__kuwOX",modalOverlay:"VideoTaskList_modalOverlay__2if4U",modalContent:"VideoTaskList_modalContent__pUEEg",modalTitle:"VideoTaskList_modalTitle__qrx8L",modalSubTitle:"VideoTaskList_modalSubTitle__Dm53o",optionRow:"VideoTaskList_optionRow__sIGEs",optionButton:"VideoTaskList_optionButton__wHTbv",optionButtonSelected:"VideoTaskList_optionButtonSelected__KbWCZ",optionButtonText:"VideoTaskList_optionButtonText__Zx03s",timeText:"VideoTaskList_timeText__qaJIv",modalButton:"VideoTaskList_modalButton__wVO9B",modalButtonText:"VideoTaskList_modalButtonText__9w_LW",modalCancel:"VideoTaskList_modalCancel__4xYY_",modalCancelText:"VideoTaskList_modalCancelText__ZoRMH"}},61065:(e,a,s)=>{"use strict";s.d(a,{s:()=>c,U:()=>d});var t=s(95155),l=s(12115);let o=JSON.parse('{"hl":"1.0.0","SC":"YOUR_INTERSTITIAL_PLACEMENT_ID","O8":"YOUR_BANNER_PLACEMENT_ID"}'),n={SERVER_URL:(()=>{let e="KR";if("undefined"!=typeof navigator&&navigator.language){let a=navigator.language.split("-");a.length>1&&(e=a[1])}let a="";switch(e.toUpperCase()){case"CA":a="ca.";break;case"AU":a="au.";break;case"GB":a="uk.";break;default:a=""}return console.log("domainPrefix: ",a),console.log("region: ",e),"https://beta.fcde.app"})(),APP_VERSION:o.hl,FACEBOOK_INTERSTITIAL_PLACEMENT_ID:o.SC,FACEBOOK_BANNER_PLACEMENT_ID:o.O8},i=(0,l.createContext)(null),c=e=>{let{children:a}=e;return(0,t.jsx)(i.Provider,{value:n,children:a})},d=()=>{let e=(0,l.useContext)(i);if(!e)throw Error("useConfig must be used within a ConfigProvider");return e}},95381:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>u});var t=s(95155),l=s(12115),o=s(35695),n=s(23464),i=s(45153),c=s.n(i),d=s(61065);let r=e=>{let a=new Date(e.getTime()-468e5);return{canadaTime:a,australiaTime:new Date(e.getTime()+36e5),ukTime:new Date(e.getTime()-324e5)}},u=()=>{let{SERVER_URL:e}=(0,d.U)(),a=(0,o.useRouter)(),[s,i]=(0,l.useState)([]),[u,m]=(0,l.useState)([]),[h,x]=(0,l.useState)(!1),[T,_]=(0,l.useState)(""),[p,k]=(0,l.useState)("tasks"),[N,j]=(0,l.useState)(null),[S,C]=(0,l.useState)("Daily"),[g,w]=(0,l.useState)(12),[y,L]=(0,l.useState)("Monday"),[v,B]=(0,l.useState)(new Date),[b,f]=(0,l.useState)(null),V=async()=>{x(!0);try{let a=await n.A.get("".concat(e,"/api/video-tasks"),{withCredentials:!0});i(a.data.tasks)}catch(e){_(e.message)}finally{x(!1)}},E=async()=>{x(!0);try{let a=await n.A.get("".concat(e,"/api/task-schedules"),{withCredentials:!0});m(a.data.schedules)}catch(e){_(e.message)}finally{x(!1)}};(0,l.useEffect)(()=>{V()},[]),(0,l.useEffect)(()=>{"tasks"===p?V():E()},[p]);let P=async()=>{try{let a={type:"auto",auto:{mode:S.toLowerCase(),hour:g,..."Weekly"===S&&{weekday:y}}};await n.A.post("".concat(e,"/api/task-schedules"),a,{withCredentials:!0}),alert("Auto Pilot schedule saved successfully."),j("main"),"schedules"===p&&E()}catch(e){alert("Failed to save auto schedule: ".concat(e.message))}},A=async()=>{try{let a={type:"scheduled",scheduledFor:v.toISOString()};await n.A.post("".concat(e,"/api/task-schedules"),a,{withCredentials:!0}),alert("Scheduled task saved successfully."),j("main"),"schedules"===p&&E()}catch(e){alert("Failed to save scheduled task: ".concat(e.message))}},R=async a=>{if(confirm("Are you sure you want to stop this schedule?"))try{await n.A.put("".concat(e,"/api/task-schedules/").concat(a,"/stop"),{},{withCredentials:!0}),alert("Schedule stopped successfully."),j(null),E()}catch(e){alert("Failed to stop schedule: ".concat(e.message))}},D=async a=>{if(confirm("Are you sure you want to delete this schedule?"))try{await n.A.delete("".concat(e,"/api/task-schedules/").concat(a),{withCredentials:!0}),alert("Schedule deleted successfully."),j(null),E()}catch(e){alert("Failed to delete schedule: ".concat(e.message))}},{canadaTime:F,australiaTime:O,ukTime:I}=r(v);return(0,t.jsxs)("div",{className:c().container,children:[(0,t.jsxs)("div",{className:c().headerContainer,children:[(0,t.jsx)("h1",{className:c().header,children:"tasks"===p?"Existing Video Tasks":"Existing Schedules"}),(0,t.jsx)("button",{className:c().toggleButton,onClick:()=>{k(e=>"tasks"===e?"schedules":"tasks")},children:(0,t.jsx)("span",{className:c().toggleText,children:"tasks"===p?"Show Schedules":"Show Tasks"})})]}),h?(0,t.jsx)("div",{className:c().loader,children:(0,t.jsx)("div",{className:c().spinner})}):"tasks"===p?(0,t.jsx)("div",{className:c().list,children:s.map(e=>(0,t.jsxs)("div",{className:c().card,onClick:()=>a.push("/video-production?taskId=".concat(e._id)),children:[(0,t.jsxs)("h2",{className:c().taskTitle,children:["Task #",e._id.slice(-6)]}),(0,t.jsxs)("div",{className:c().metaRow,children:[(0,t.jsx)("span",{className:c().status,children:e.status.toUpperCase()}),(0,t.jsxs)("span",{className:c().step,children:["Step: ",e.currentStep]})]})]},e._id))}):(0,t.jsx)("div",{className:c().list,children:u.map(e=>{let a=e.scheduledFor?new Date(e.scheduledFor):null;return(0,t.jsxs)("div",{className:c().card,onClick:()=>{f(e),j("scheduleDetail")},children:[(0,t.jsxs)("h2",{className:c().taskTitle,children:["Schedule #",e._id.slice(-6)]}),(0,t.jsxs)("div",{className:c().metaRow,children:[(0,t.jsxs)("span",{className:c().status,children:[e.type.toUpperCase()," ",!e.active&&"(STOPPED)"]}),a&&(0,t.jsx)("span",{className:c().step,children:a.toLocaleString()}),e.auto&&(0,t.jsxs)("span",{className:c().step,children:["Mode: ",e.auto.mode]})]})]},e._id)})}),T&&(0,t.jsx)("div",{className:c().error,children:T}),(0,t.jsx)("button",{className:c().fab,onClick:()=>j("main"),children:(0,t.jsx)("span",{className:c().fabText,children:"+"})}),N&&(0,t.jsx)("div",{className:c().modalOverlay,onClick:()=>j(null),children:(0,t.jsxs)("div",{className:c().modalContent,onClick:e=>e.stopPropagation(),children:["main"===N&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h2",{className:c().modalTitle,children:"Choose an Option"}),(0,t.jsx)("button",{className:c().modalButton,onClick:()=>j("auto"),children:(0,t.jsx)("span",{className:c().modalButtonText,children:"Auto Pilot Mode"})}),(0,t.jsx)("button",{className:c().modalButton,onClick:()=>j("schedule"),children:(0,t.jsx)("span",{className:c().modalButtonText,children:"Schedule Task"})}),(0,t.jsx)("button",{className:c().modalButton,onClick:()=>{j(null),a.push("/video-production")},children:(0,t.jsx)("span",{className:c().modalButtonText,children:"Create Manually"})}),(0,t.jsx)("button",{className:c().modalCancel,onClick:()=>j(null),children:(0,t.jsx)("span",{className:c().modalCancelText,children:"Cancel"})})]}),"auto"===N&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h2",{className:c().modalTitle,children:"Auto Pilot Mode"}),(0,t.jsx)("p",{className:c().modalSubTitle,children:"Select mode:"}),(0,t.jsx)("div",{className:c().optionRow,children:["Daily","Weekly"].map(e=>(0,t.jsx)("button",{className:"".concat(c().optionButton," ").concat(S===e?c().optionButtonSelected:""),onClick:()=>C(e),children:(0,t.jsx)("span",{className:c().optionButtonText,children:e})},e))}),"Weekly"===S&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{className:c().modalSubTitle,children:"Select weekday:"}),(0,t.jsx)("div",{className:c().optionRow,children:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map(e=>(0,t.jsx)("button",{className:"".concat(c().optionButton," ").concat(y===e?c().optionButtonSelected:""),onClick:()=>L(e),children:(0,t.jsx)("span",{className:c().optionButtonText,children:e})},e))})]}),(0,t.jsx)("p",{className:c().modalSubTitle,children:"Select Hour (KST):"}),(0,t.jsx)("div",{className:c().optionRow,children:Array.from({length:24},(e,a)=>a).map(e=>(0,t.jsx)("button",{className:"".concat(c().optionButton," ").concat(g===e?c().optionButtonSelected:""),onClick:()=>w(e),children:(0,t.jsx)("span",{className:c().optionButtonText,children:e})},e))}),(0,t.jsx)("p",{className:c().modalSubTitle,children:"Time Conversion:"}),(0,t.jsxs)("p",{className:c().timeText,children:["KST: ",new Date().setHours(g,0,0,0)&&new Date().toLocaleTimeString()]}),(0,t.jsxs)("p",{className:c().timeText,children:["Canada: ",F.toLocaleTimeString()]}),(0,t.jsxs)("p",{className:c().timeText,children:["Australia: ",O.toLocaleTimeString()]}),(0,t.jsxs)("p",{className:c().timeText,children:["UK: ",I.toLocaleTimeString()]}),(0,t.jsx)("button",{className:c().modalButton,onClick:P,children:(0,t.jsx)("span",{className:c().modalButtonText,children:"Save"})}),(0,t.jsx)("button",{className:c().modalCancel,onClick:()=>j("main"),children:(0,t.jsx)("span",{className:c().modalCancelText,children:"Back"})})]}),"schedule"===N&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h2",{className:c().modalTitle,children:"Schedule Task"}),(0,t.jsx)("button",{className:c().modalButton,onClick:()=>B(new Date),children:(0,t.jsx)("span",{className:c().modalButtonText,children:"Set to Now"})}),(0,t.jsx)("p",{className:c().modalSubTitle,children:"Selected (KST):"}),(0,t.jsx)("p",{className:c().timeText,children:v.toLocaleString()}),(0,t.jsx)("p",{className:c().modalSubTitle,children:"Time Conversion:"}),(0,t.jsxs)("p",{className:c().timeText,children:["Canada: ",F.toLocaleTimeString()]}),(0,t.jsxs)("p",{className:c().timeText,children:["Australia: ",O.toLocaleTimeString()]}),(0,t.jsxs)("p",{className:c().timeText,children:["UK: ",I.toLocaleTimeString()]}),(0,t.jsx)("button",{className:c().modalButton,onClick:A,children:(0,t.jsx)("span",{className:c().modalButtonText,children:"Save"})}),(0,t.jsx)("button",{className:c().modalCancel,onClick:()=>j("main"),children:(0,t.jsx)("span",{className:c().modalCancelText,children:"Back"})})]}),"scheduleDetail"===N&&b&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h2",{className:c().modalTitle,children:"Schedule Detail"}),(0,t.jsxs)("p",{className:c().modalSubTitle,children:[b.type.toUpperCase(),!b.active&&" (STOPPED)",b.auto&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("br",{}),"Mode: ",b.auto.mode,(0,t.jsx)("br",{}),"Hour: ",b.auto.hour,b.auto.weekday&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("br",{}),"Weekday: ",b.auto.weekday]})]})]}),b.scheduledFor&&(0,t.jsxs)("p",{className:c().timeText,children:["Scheduled For: ",new Date(b.scheduledFor).toLocaleString()]}),(0,t.jsx)("button",{className:c().modalButton,onClick:()=>R(b._id),children:(0,t.jsx)("span",{className:c().modalButtonText,children:"Stop"})}),(0,t.jsx)("button",{className:c().modalButton,onClick:()=>D(b._id),children:(0,t.jsx)("span",{className:c().modalButtonText,children:"Delete"})}),(0,t.jsx)("button",{className:c().modalCancel,onClick:()=>j("main"),children:(0,t.jsx)("span",{className:c().modalCancelText,children:"Back"})})]})]})}),(0,t.jsx)("div",{className:c().footer,children:"\xa9 2025 Abrody"})]})}},98142:(e,a,s)=>{Promise.resolve().then(s.bind(s,95381))}},e=>{var a=a=>e(e.s=a);e.O(0,[986,3464,8441,1684,7358],()=>a(98142)),_N_E=e.O()}]);